{"version":3,"file":"index.js","sources":["../src/base/Environment.ts","../src/component/NotifyCenter.ts","../src/common/utils.ts","../src/base/Global.ts","../src/component/BasicAnimation.ts","../src/component/ImagePicker.ts","../node_modules/hammerjs/hammer.js","../src/component/event/InputEvent.ts","../src/component/event/PanEvent.ts","../src/component/event/PinchEvent.ts","../src/component/event/SwipeEvent.ts","../src/component/event/TapEvent.ts","../src/component/event/TouchEvent.ts","../src/component/event/LongPressEvent.ts","../src/component/event/ScrollEvent.ts","../src/component/event/Event.ts","../src/component/KeyframeAnimation.ts","../src/common/style/transformer/unit.ts","../src/common/cases.ts","../src/common/style/index.ts","../src/component/view/View.ts","../src/component/view/Image.ts","../src/component/Interaction.ts","../src/component/Location.ts","../src/component/Memory.ts","../src/component/Navigator.ts","../src/component/Phone.ts","../src/component/Response.ts","../src/component/Request.ts","../src/component/Socket.ts","../src/component/Storage.ts","../src/component/Timer.ts","../src/component/event/SwitchEvent.ts","../src/component/view/Button.ts","../src/component/view/Carousel.ts","../node_modules/better-scroll/dist/better-scroll.esm.js","../src/component/view/HorizontalScroller.ts","../src/component/view/Input.ts","../src/component/view/List.ts","../src/component/view/Scroller.ts","../src/component/view/Switch.ts","../src/component/view/Text.ts","../src/component/view/TextArea.ts","../src/common/swiper.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/@tweenjs/tween.js/src/Tween.js","../src/component/view/ViewPager.ts","../src/component/view/Canvas.ts"],"sourcesContent":["export class Environment {\n  appName: string\n  safeAreaBottom: number\n  appVersion: string\n  deviceHeight: string\n  deviceWidth: string\n  availableHeight: string\n  statusBarHeight: number\n  availableWidth: string\n  osVersion: string\n  platform: string\n  scale: number\n  remUEWidthInPixel: number\n  remUEWidthInPixelRatio: number\n  model: string\n  extraParams: {\n    [key: string]: string\n  }\n\n  constructor() {\n    this.appName = ''\n    this.safeAreaBottom = 0\n    this.appVersion = ''\n    this.deviceHeight = ((self != top)?document.body.offsetHeight:window.screen.height) + 'dp'\n    this.deviceWidth = ((self != top)?document.body.offsetWidth:window.screen.width) + 'dp'\n    this.availableHeight = ((self != top)?document.body.offsetHeight:window.screen.availHeight) + 'dp'\n    this.availableWidth = ((self != top)?document.body.offsetHeight:window.screen.availWidth) + 'dp'\n    this.statusBarHeight = 0\n    this.osVersion = ''\n    this.platform = 'web'\n    this.scale = window.devicePixelRatio\n    this.remUEWidthInPixel = 750\n    this.remUEWidthInPixelRatio = 2\n    this.model = ''\n    this.extraParams = {\n      system: 'iOS',\n      brand: 'apple'\n    }\n  }\n}\n","export interface NotifyListener {\n  (target: any): void\n}\n\nexport class NotifyCenter {\n  private listeners: { [key: string]: Array<NotifyListener> } = {}\n\n  addEventListener(key: string, listener: NotifyListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    this.listeners[key].push(listener)\n  }\n\n  removeEventListener(key: string, listener: NotifyListener) {\n    if (this.listeners[key]) {\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n    }\n  }\n\n  triggerEvent(key: string, args: any) {\n    if (this.listeners[key]) {\n      this.listeners[key].forEach(listener => {\n        listener({ target: args })\n      })\n    }\n  }\n}\n","import { toKebabCase } from './cases'\nimport { Hummer } from '../base/Global'\n/**\n * TODO Format Unit 实现\n * @param size \n * @returns \n */\nexport function formatUnit(size: number | string) {\n  let reg = /^[+-]?(\\d|[1-9]\\d+)(\\.\\d+)?$/;\n  size = size + ''\n  if (reg.test(size)) {\n    size = parseFloat(size);\n    return `${size}px`\n  } else {\n    if (size.indexOf('dp') !== -1 || size.indexOf('pt') !== -1) {\n      size = parseFloat(size);\n      return `${size}px`\n    } else if (size.indexOf('rem') !== -1) {\n      return `${parseFloat(size) * 100}rem`\n    } else if (size.indexOf('hm') !== -1) {\n      return size.replace('hm', 'rem')\n    } else if (size.indexOf('calc') !== -1) {\n      return size\n    } else if (size.indexOf('px') !== -1) {\n      size = parseFloat(size) / Hummer.env.scale;\n      return `${size}px`\n    } else {\n      if (size.match(/rotate3d|rotateX|rotateY|rotateZ|rotate/g)) {\n        size = size.replace(/(rotate3d|rotateX|rotateY|rotateZ|rotate)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/rotate3d\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split(',')[0]},${word.split(',')[1]},${word.split(',')[2]},${parseFloat(word.split(',')[3])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      if (size.match(/skewY|skewX|skew/g)) {\n        size = size.replace(/(skewY|skewX|skew)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/skew\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1].split(',')[0])}deg,${parseFloat(word.split('(')[1].split(',')[1])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      return size\n    }\n  }\n}\n/**\n * tenon样式格式化纯数字px单位\n * @param size \n * @returns \n */\nexport function formatPureNumberPxUnit(size: number | string): number {\n  let formatUnitResult = formatUnit(size)\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe()?document.body.offsetWidth:window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  }\n}\n\n/**\n * web样式格式化纯数字px单位\n * @param size \n * @returns \n */\n export function formatWebPureNumberPxUnit(size: string): number {\n  let formatUnitResult = size || '0'\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe()?document.body.offsetWidth:window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  } else {\n    return parseFloat(formatUnitResult)\n  }\n}\n\n\n/**\n * 将字符串转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的字符串 a,b\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMap(str: string, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArr(list: any, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArrOfKebab(list: any) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return (val: any) => !!map[toKebabCase(val)]\n}\n\n/**\n * 监听元素尺寸变化，用于判断元素渲染\n * @param node dom元素\n */\nexport const nodeObserver = (node: | HTMLElement\n  | HTMLImageElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | HTMLTextAreaElement\n  | HTMLSpanElement\n  | any, callback: Function) => {\n  const nodeObserver = new ResizeObserver(mutations => {\n    callback(mutations)\n  })\n  nodeObserver.observe(node)\n  return nodeObserver\n}\n\n/**\n * 获取url参数\n * @param key 参数的key\n */\nexport const getQueryVariable = (key: string, url?: string) => {\n  var query = url ? url.split('?')[1] : window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n    if (pair[0] == key) { return pair[1]; }\n  }\n  return (false);\n}\n\n/**\n * 添加或者修改url参数\n * @param url 需要添加的url\n * @param key 参数的key\n * @param value 参数的value\n */\nexport const updateQueryStringParameter = (url: string, key: string, value: any) => {\n  if (!value) {\n    return url;\n  }\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = url.indexOf('?') !== -1 ? \"&\" : \"?\";\n  if (url.match(re)) {\n    return url.replace(re, '$1' + key + \"=\" + value + '$2');\n  }\n  else {\n    return url + separator + key + \"=\" + value;\n  }\n}\n/**\n * 判断当前页面是否在iframe里\n * @returns \n */\nexport const inIframe = () => {\n  if (self != top) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/**\n * 节流\n * @param fn 需要节流的函数\n * @param wait 节流的时间\n */\nexport const throttle = (fn, wait) => {\n    var timeout;\n    return function() {\n      var ctx = this, args = arguments;\n      clearTimeout(timeout);\n      timeout = setTimeout(function() {\n        fn.apply(ctx, args);\n      }, wait);\n    };\n  }","import { Environment } from './Environment'\nimport { NotifyCenter } from '../component/NotifyCenter'\nimport { getQueryVariable } from '../common/utils'\n\nexport class HummerGlobal {\n  setTitle(setTitle: string): any { }\n  setNavigationBarMode(mode: number): any { }\n  setNavigationBarColor(color: string): any { }\n  setScrollTracker(view: any, options: any): any { }\n  arWidgetDisplay(isDisplay: boolean): any { }\n  notifyCenter: NotifyCenter\n  env: Environment\n  pageInfo: any\n  params: any\n  setBasicWidth(width: number): any { }\n\n  constructor() {\n    this.notifyCenter = new NotifyCenter()\n    this.env = new Environment()\n    getQueryVariable('pageInfo')\n    this.pageInfo = JSON.parse(decodeURIComponent(getQueryVariable('pageInfo') || '{}'))\n  }\n  render(page: any) {\n    window.addEventListener('load', () => {\n      const body = document.getElementsByTagName('body')[0]\n      body.appendChild(page.node)\n      const event = new CustomEvent('render-ready', {})\n      window.dispatchEvent(event)\n    })\n  }\n}\nglobalThis.Hummer = new HummerGlobal()\nexport const Hummer = new HummerGlobal()\n","/**\n * Animatable CSS properties\n * https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties\n * https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions\n */\nexport type KeyPath =\n  | 'position'\n  | 'scale'\n  | 'scaleX'\n  | 'scaleY'\n  | 'rotationX'\n  | 'rotationY'\n  | 'rotationZ'\n  | 'opacity'\n  | 'backgroundColor'\n\nexport type EasingType =\n  | 'linear'\n  | 'ease'\n  | 'ease-in'\n  | 'ease-out'\n  | 'ease-in-out'\n\nexport interface PointValue {\n  x: string | number\n  y: string | number\n}\n\n/** backgroundColor: '#fff'; position: {x: '1px', y: '1px'}; scale: 1; rotate: 45; opacity: 0.1  */\nexport type ValueType = string | number | PointValue\n\nexport class BasicAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 动画延迟时间（s）\n  delay: number = 0\n  // 重复次数 < 0 :无数次\n  repeatCount: number = 1\n  value!: ValueType\n  easing: EasingType = 'linear'\n\n  onstart!: Function\n  onend!: Function\n  on(type: string, callback: Function) {\n    callback()\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","export class ImagePicker {\n  // @ts-ignore\n  public maxSize: 100;\n  takePhoto(filePath: string):void {}\n  pickImage(filePath: string):void {}\n}\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum InputState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3\n}\n\nexport class InputEvent extends Event {\n  public text!: string\n  public state!: InputState\n\n  get type(): EventType {\n    return 'input'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PanState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PanEvent extends Event {\n  public state!: PanState\n  public translation!: { deltaX: number | string; deltaY: number | string }\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pan'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PinchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PinchEvent extends Event {\n  public state!: PinchState\n  public scale!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pinch'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum SwipeState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class SwipeEvent extends Event {\n  public state!: SwipeState\n  public direction!: 1 | 2 | 4 | 8\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'swipe'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TapState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TapEvent extends Event {\n  public position!: { x: number | string; y: number | string }\n  public state!: TapState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'tap'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TouchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TouchEvent extends Event {\n  public position!: { x: number; y: number }\n  public state!: TouchState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'touchDown'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum LongPressState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class LongPressEvent extends Event {\n  public state!: LongPressState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'longPress'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum ScrollState {\n  NORMAL = 0,\n  BEGAN = 1,\n  SCROLL = 2,\n  ENDED = 3,\n  SCROLL_UP = 4\n}\n\nexport class ScrollEvent extends Event {\n  public state!: ScrollState\n  public offsetX!: number\n  public offsetY!: number\n  public dx!: number\n  public dy!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'scroll'\n  }\n}\n","import { EventType, View } from '../view/View'\n\nexport abstract class Event {\n  public target!: View\n\n  abstract get type(): EventType\n}\n\nexport interface EventListener {\n  (event?: Event): void\n}\n","import { KeyPath, ValueType, EasingType } from './BasicAnimation'\n\n/**\n * http://www.w3school.com.cn/css3/css3_animation.asp\n */\nexport class KeyframeAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 重复次数\n  repeatCount: number = 1\n  // 关键路径positions\n  keyframes: Array<{\n    percent?: number\n    value: ValueType\n    easing?: EasingType\n  }> = []\n  easing?: EasingType\n  onstart!: Function\n  onend!: Function\n  delay: number\n  on(type: string, callback: Function) {\n    callback()\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","/**\n * 单位处理中间件，将Css中的单位转换为Hummer中特有的单位\n * hm ==> px\n * @param style 待处理的Style\n */\nimport { makeMapByArrOfKebab,formatUnit } from \"../../utils\"\n\n// 待转换单位的属性列表\nexport const unitAttrs = [\n  'font-size', 'placeholder-font-size', 'transform',\n  'flex-basis',\n  'width', 'max-width', 'min-width', 'height', 'max-height', 'min-height','line-height',\n  'padding', 'padding-left', 'padding-right', 'padding-bottom', 'padding-top',\n  'margin', 'margin-left', 'margin-right', 'margin-bottom', 'margin-top',\n  'left', 'right', 'top', 'bottom',\n  'border-width', 'border-left-width', 'border-right-width', 'border-top-width', 'border-bottom-width',\n  'border-radius', 'border-top-left-radius', 'border-top-right-radius', 'border-bottom-left-radius', 'border-bottom-right-radius'\n]\nexport const isNeedUnitTrasform = makeMapByArrOfKebab(unitAttrs)\nexport function transformUnit(style: Record<string, string>) {\n  Object.keys(style).forEach(key => {\n    if (key === 'transitionDuration') {\n      style[key] = `${style[key]}s`\n    }\n    if (isNeedUnitTrasform(key)) {\n      let value = transformUnitValue(style[key])\n      style[key] = value\n    }\n  })\n  return style\n}\n\nexport function transformUnitValue(value: string): string {\n  return formatUnit(value)\n}\n\n","/**\n * Any Case => Lower Case\n * ex.\n * Border => border\n * @param key \n * @returns \n */\nexport function toLowerCase(key: string): string {\n  return key.toLowerCase()\n}\n\n\n/**\n * Any Case => Upper Case\n * ex.\n * border => BORDER\n * @param key \n * @returns \n */\nexport function toUpperCase(key: string): string {\n  return key.toUpperCase()\n}\n\n/**\n * Kebab Case ==> Camel Case\n * ex.\n * border-width => borderWidth\n * @param key string\n * @returns string\n */\nexport function toCamelKey(key: string): string {\n  let humpKey = key.replace(/-(\\w)/g, ($0, $1) => {\n    return $1.toUpperCase()\n  })\n  return humpKey\n}\n\n/**\n * Camel Case ==> Kebab Case\n * ex.\n * borderWidth => border-width\n * ps.\n * 首字母大写时，前缀不增加 - 符号\n * @param key string\n * @returns string\n */\nexport function toKebabCase(key: string): string {\n  return key.replace(/[A-Z]/g, ($0: string, offset: number) => {\n    return (offset === 0 ? '' : '-') + $0.toLowerCase()\n  })\n}","import {transformUnit} from './transformer/unit'\n\n/**\n * Style Transformer\n * 1. Unit\n * 2. Box shadow\n * 3. Background linear-gradient\n * 4. \n */\nclass StyleTransformer{\n\n  private middlewares: Array<Function> = []\n  constructor() {\n    this.registerMiddleware()\n  }\n\n  registerMiddleware() {\n    this.use(transformUnit)\n  }\n\n  use(middleware: Function) {\n    if(typeof middleware !== 'function'){\n      throw \"middleware must be a function\"\n    }\n    this.middlewares.push(middleware)\n    return this\n  }\n\n  transformStyle(style:any = {}, view?:any):Record<string, string>|null{\n    let tempStyle = style\n    this.middlewares.forEach(middleware => {\n      let result = middleware(tempStyle, view)\n      tempStyle = result? result: tempStyle\n    })\n    return tempStyle\n  }\n\n}\n\nexport const styleTransformer = new StyleTransformer()\n\nexport {transformUnitValue} from './transformer/unit'\nexport {getColor} from './common/color'","import Hammer from 'hammerjs'\nimport { EventListener } from '../event/Event'\nimport { InputEvent, InputState } from '../event/InputEvent'\nimport { PanEvent, PanState } from '../event/PanEvent'\nimport { PinchEvent, PinchState } from '../event/PinchEvent'\nimport { SwipeEvent, SwipeState } from '../event/SwipeEvent'\nimport { TapEvent, TapState } from '../event/TapEvent'\nimport { TouchEvent, TouchState } from '../event/TouchEvent'\nimport { LongPressEvent, LongPressState } from '../event/LongPressEvent'\nimport { ScrollEvent } from '../event/ScrollEvent'\nimport { BasicAnimation } from '../BasicAnimation'\nimport { KeyframeAnimation } from '../KeyframeAnimation'\nimport { formatUnit, getQueryVariable } from '../../common/utils'\nimport { isNeedUnitTrasform } from '../../common/style/transformer/unit'\nimport { styleTransformer } from '../../common/style'\nexport const SIZE_STYLE: Array<any> = [\n  'top',\n  'left',\n  'bottom',\n  'right',\n  'margin',\n  'marginTop',\n  'marginLeft',\n  'marginBottom',\n  'marginRight',\n  'padding',\n  'paddingTop',\n  'paddingLeft',\n  'paddingBottom',\n  'paddingRight',\n  'width',\n  'height',\n  'minWidth',\n  'minHeight',\n  'maxWidth',\n  'maxHeight',\n  'borderRadius',\n  'borderWidth'\n]\nexport interface ViewStyle {\n  top?: string | number\n  left?: string | number\n  bottom?: string | number\n  right?: string | number\n  margin?: string | number\n  marginTop?: string | number\n  marginLeft?: string | number\n  marginBottom?: string | number\n  marginRight?: string | number\n  padding?: string | number\n  paddingTop?: string | number\n  paddingLeft?: string | number\n  paddingBottom?: string | number\n  paddingRight?: string | number\n  width?: string | number\n  height?: string | number\n  minWidth?: string | number\n  minHeight?: string | number\n  maxWidth?: string | number\n  maxHeight?: string | number\n  flexDirection?: 'row' | 'column'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'space-evenly'\n  alignItems?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  alignContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'stretch'\n  order?: number\n  flexGrow?: number\n  flexShrink?: number\n  flexBasis?: string\n  alignSelf?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  position?: 'relative' | 'absolute' | 'fixed' | 'sticky' | 'static' | 'inherit'\n  backgroundColor?: string\n  backgroundImage?: string\n  opacity?: number\n  visibility?: 'hidden' | 'visible'\n  display?: 'none' | 'flex' | 'block' | 'inline' | 'inline-block  '\n  borderColor?: string\n  borderLeftColor?: string\n  borderTopColor?: string\n  borderRightColor?: string\n  borderBottomColor?: string\n  borderStyle?: 'solid' | 'dashed' | 'dotted'\n  borderLeftStyle?: 'solid' | 'dashed' | 'dotted'\n  borderTopStyle?: 'solid' | 'dashed' | 'dotted'\n  borderRightStyle?: 'solid' | 'dashed' | 'dotted'\n  borderBottomStyle?: 'solid' | 'dashed' | 'dotted'\n  borderWidth?: string | number\n  borderLeftWidth?: string | number\n  borderTopWidth?: string | number\n  borderRightWidth?: string | number\n  borderBottomWidth?: string | number\n  borderRadius?: string | number\n  borderTopLeftRadius?: string | number\n  borderTopRightRadius?: string | number\n  borderBottomLeftRadius?: string | number\n  borderBottomRightRadius?: string | number\n  shadow?: string\n  overflow?: 'hidden' | 'visible'\n  zIndex?: number,\n  transform?: string,\n  transitionDelay?: string | number,\n  transitionProperty?: string,\n  transitionDuration?: string | number,\n  transitionTimingFunction?: 'linear' | 'ease-in' | 'ease-out' | 'ease-in-out'\n\n}\n\nexport type EventType =\n  | 'longPress'\n  | 'pan'\n  | 'pinch'\n  | 'swipe'\n  | 'tap'\n  | 'touch'\n  | 'touchDown'\n  | 'input'\n  | 'scroll'\n  | 'switch'\n\nexport class View {\n  // 公共属性\n  public node:\n    | HTMLElement\n    | HTMLImageElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | HTMLTextAreaElement\n    | HTMLSpanElement\n    | any\n\n  public hmNode?: any\n  public basicAnimationArray: Array<any> = []\n  // 子类可访问属性\n  protected _enabled: boolean // 是否响应交互\n  protected subViews: Set<View>\n  protected _style: ViewStyle\n  protected listeners: { [key: string]: Array<EventListener> }\n  protected eventListeners: {\n    [key: string]: { hammer?: any; listener?: Function;[key: string]: any }\n  }\n  protected animations: { [key: string]: Animation }\n  protected onCreate?: Function // 页面首次加载时触发\n  protected onAppear?: Function // 页面显示\n  protected onDisappear?: Function // 页面隐藏\n  protected onDestroy?: Function // 页面销毁\n  protected onBack?: Function // 页面返回\n  isHighlight?: Boolean\n\n  layout!: () => void\n\n  constructor(public viewID?: string) {\n    this.createNode()\n    this._enabled = true\n    this.subViews = new Set<View>()\n    this.listeners = {}\n    this.eventListeners = {}\n    this.animations = {}\n    this._style = new Proxy(\n      {},\n      {\n        get: (target, key) => {\n          return target[key] || this.node.style[key]\n        },\n        set: (target, key, value) => {\n          this.node.style[key] = value\n          return true\n        }\n      }\n    )\n    this.defaultStyle()\n    this.initialize()\n    window.addEventListener('render-ready', () => {\n      this.formatBasicAnimation()\n      this?.onCreate && this.onCreate()\n      this?.onAppear && this.onAppear()\n      if (this?.onAppear || this?.onDisappear) {\n        document.addEventListener(\"visibilitychange\", this.visibilityChange.bind(this));\n      }\n      if (this?.onBack) {\n        if (window.history && window.history.pushState) {\n          history.pushState(null, null, document.URL);\n          window.addEventListener('popstate', this.interceptBack.bind(this), false);\n        }\n      }\n      if (this?.onCreate && getQueryVariable('navBar') && this.node.parentNode.tagName === 'BODY') {\n        let navBar = new View\n        let navBarTitle = new View\n        let navBarBack = new View\n        navBar.node.className = 'hm-default-navbar'\n        navBarTitle.node.className = 'hm-default-nav-title'\n        navBarBack.node.className = 'hm-default-nav-back'\n        navBar.node.onclick = () => {\n          history.go(-1);\n        }\n        navBarTitle.node.innerHTML = window.location.pathname.split('/')[1]\n        if (document.referrer !== '') {\n          navBar.appendChild(navBarBack)\n        }\n        navBar.appendChild(navBarTitle)\n        this.node.childNodes[0].style.flex = 1\n        this.node.insertBefore(navBar.node, this.node.childNodes[0])\n      }\n    })\n  }\n  visibilityChange() {\n    if (document.visibilityState === 'visible') {\n      this.onAppear()\n    } else {\n      this.onDisappear()\n    }\n  }\n  interceptBack() {\n    console.log('123123');\n    let isIntercept = this?.onBack()\n    if (isIntercept) {\n      history.pushState(null, null, document.URL);\n    } else {\n      this._onDestoryed();\n      history.go(-1);\n    }\n  }\n  //   /**\n  //    * 页面首次加载时触发\n  //    */\n  //   onCreate() { }\n  //   /**\n  //   * 页面显示周期\n  //   */\n  //   onAppear() { }\n  //   /**\n  //    * 页面隐藏\n  //    */\n  //   onDisappear() { }\n  //   /**\n  //   * 页面销毁\n  //   */\n  //   onDestroy() { }\n  //   /**\n  //  * 页面返回\n  //  */\n  //   onBack() { }\n  private playBasicAnimation(animation) {\n    const {\n      keyframes,\n      options\n    } = this.getBasicAnimationKeyFrameAnimationOptions(animation)\n    const animate: Animation = this.node.animate(keyframes, options)\n    // this.animations[key] = animate\n    animation.onstart && animation.onstart()\n    animate.onfinish = () => {\n      this.basicAnimationArray.shift()\n      animation.onend && animation.onend()\n      if (this.basicAnimationArray.length >= 1) {\n        this.playBasicAnimation(this.basicAnimationArray[this.basicAnimationArray.length - 1])\n      }\n    }\n    animate.play()\n  }\n\n  private formatBasicAnimation() {\n    let newBasicAnimationArray: Array<Array<any>> = []\n    let numSize = -1\n    let oldKeyNum\n    this.basicAnimationArray.forEach(item => {\n      let keyNum = parseInt(Object.keys(item)[0].split('_')[Object.keys(item)[0].split('_').length - 2]);\n      if (oldKeyNum !== keyNum) {\n        numSize++\n      }\n      oldKeyNum = keyNum\n      !newBasicAnimationArray[numSize] && (newBasicAnimationArray[numSize] = [])\n      newBasicAnimationArray[numSize].push(item[Object.keys(item)[0]])\n    });\n    this.basicAnimationArray = newBasicAnimationArray\n    if (this.basicAnimationArray.length > 0) {\n      this.playBasicAnimation(this.basicAnimationArray[0])\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-view')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('view')\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      this.node.disabled = true\n    } else {\n      this.node.disabled = false\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    let standardStyle = styleTransformer.transformStyle(_style);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n\n  /**\n   * 初始化生命周期函数，目前在前端SDK上没用，兼容端的代码\n   */\n  initialize() { }\n\n  /**\n   * 销毁时机\n   */\n  finalize() { }\n\n  // Mounted 生命周期\n  // @ts-ignore\n  private _onMounted() {\n    this.onMounted();\n  }\n\n  protected onMounted() {\n\n  }\n  // @ts-ignore\n  private _onDestoryed() {\n    this.onDestoryed();\n    this?.onDestroy && this.onDestroy();\n    this?.onAppear && document.removeEventListener('visibilityChange', this.visibilityChange.bind(this))\n    this?.onBack && window.removeEventListener('popstate', this.visibilityChange.bind(this))\n  }\n\n  protected onDestoryed() { }\n\n  appendChild(subview: any) {\n    this.node.appendChild(subview.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  removeChild(subview: any) {\n    subview._onDestoryed();\n    this.node.removeChild(subview.node)\n    // this.subViews.delete(subview)\n  }\n\n  removeAll() {\n    this.node.innerHTML = ''\n    // this.subViews.clear()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  /**\n   * 用指定的节点替换当前节点的一个子节点，并返回被替换掉的节点\n   */\n  replaceChild(newSubview: View, oldSubview: View) {\n    this.node.replaceChild(newSubview.node, oldSubview.node)\n    // this.subViews.add(newSubview)\n    // this.subViews.delete(oldSubview)\n  }\n\n  getElementById(viewID: string): View {\n    for (let view of this.subViews) {\n      if (view.viewID === viewID) {\n        return view\n      }\n    }\n    // @ts-ignore\n    return null\n  }\n\n  addEventListener(key: EventType, listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册事件监听\n    if (!this.eventListeners[key]) {\n      if (key === 'longPress') {\n        const press = (e: any) => {\n          if (!this.enabled) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pressup = (e: any) => {\n          if (!this.enabled) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.ENDED\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.on('press', press)\n        hammer.on('pressup', pressup)\n        this.eventListeners[key] = { hammer, press, pressup }\n      } else if (key === 'pan') {\n        let oldDeltaX = 0, oldDeltaY = 0;\n        const panstart = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.BEGAN\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panmove = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CHANGED\n          ev.translation = { deltaX: e.srcEvent.clientX - oldDeltaX, deltaY: e.srcEvent.clientY - oldDeltaY }\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panend = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.ENDED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pancancel = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CANCELLED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pan').set({\n          direction: Hammer.DIRECTION_ALL,\n          threshold: 0.1\n        });\n        hammer.on('panstart', panstart)\n        hammer.on('panmove', panmove)\n        hammer.on('panend', panend)\n        hammer.on('pancancel', pancancel)\n        this.eventListeners[key] = {\n          hammer,\n          panstart,\n          panmove,\n          panend,\n          pancancel\n        }\n      } else if (key === 'pinch') {\n        const pinchstart = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.BEGAN\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchmove = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CHANGED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchend = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.ENDED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchcancel = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CANCELLED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pinch').set({ enable: true });\n        hammer.on('pinchstart', pinchstart)\n        hammer.on('pinchmove', pinchmove)\n        hammer.on('pinchend', pinchend)\n        hammer.on('pinchcancel', pinchcancel)\n        this.eventListeners[key] = {\n          hammer,\n          pinchstart,\n          pinchmove,\n          pinchend,\n          pinchcancel\n        }\n      } else if (key === 'swipe') {\n        const swipeleft = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 2\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swiperight = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 1\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipeup = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 4\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipedown = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 8\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.on('swipeleft', swipeleft)\n        hammer.on('swiperight', swiperight)\n        hammer.on('swipeup', swipeup)\n        hammer.on('swipedown', swipedown)\n        this.eventListeners[key] = {\n          hammer,\n          swipeleft,\n          swiperight,\n          swipeup,\n          swipedown\n        }\n      } else if (key === 'tap') {\n        const tap = (event: any) => {\n          if (!this.enabled) return\n\n          const ev = new TapEvent()\n          ev.target = this\n          ev.position = {\n            x: event.center.x,\n            y: event.center.y\n          }\n          ev.timestamp = event.timeStamp\n          ev.state = TapState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n\n        const hammer = new Hammer(this.node)\n        hammer.on(key, tap)\n        this.eventListeners[key] = { hammer, tap }\n      } else if (key === 'input') {\n        const input = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.CHANGED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const focus = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.BEGAN\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const blur = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.ENDED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('input', input)\n        this.node.addEventListener('focus', focus)\n        this.node.addEventListener('blur', blur)\n        this.eventListeners[key] = { input, focus, blur }\n      } else if (key === 'scroll') {\n        const scroll = () => {\n          if (!this.enabled) return\n          const ev = new ScrollEvent()\n          ev.target = this\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener(key, scroll)\n        this.eventListeners[key] = { scroll }\n      } else if (key === 'touch') {\n        const touch = (e) => {\n          e.stopPropagation && e.stopPropagation();\n          e.preventDefault && e.preventDefault();\n          if (!this.enabled) return\n          const ev = new TouchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.position = {\n            x: e.targetTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n            y: e.targetTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n          }\n          switch (e.type) {\n            case 'touchstart':\n              ev.state = TouchState.BEGAN\n              break;\n            case 'touchmove':\n              ev.state = TouchState.CHANGED\n              break;\n            case 'touchend':\n              ev.position = {\n                x: e.changedTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n                y: e.changedTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n              }\n              ev.state = TouchState.ENDED\n              break;\n            case 'touchcancel':\n              ev.state = TouchState.CANCELLED\n              break;\n          }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('touchstart', touch, false)\n        this.node.addEventListener('touchmove', touch, false)\n        this.node.addEventListener('touchend', touch, false)\n        this.node.addEventListener('touchcancel', touch, false)\n        this.eventListeners[key] = { touch }\n      }\n    }\n  }\n\n  removeEventListener(key: EventType, listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (key === 'longPress') {\n          const { hammer, press, pressup } = this.eventListeners[key]\n          hammer.off('press', press)\n          hammer.off('pressup', pressup)\n        } else if (key === 'pan') {\n          const {\n            hammer,\n            panstart,\n            panmove,\n            panend,\n            pancancel\n          } = this.eventListeners[key]\n          hammer.off('panstart', panstart)\n          hammer.off('panmove', panmove)\n          hammer.off('panend', panend)\n          hammer.off('pancancel', pancancel)\n        } else if (key === 'pinch') {\n          const {\n            hammer,\n            pinchstart,\n            pinchmove,\n            pinchend,\n            pinchcancel\n          } = this.eventListeners[key]\n          hammer.off('pinchstart', pinchstart)\n          hammer.off('pinchmove', pinchmove)\n          hammer.off('pinchend', pinchend)\n          hammer.off('pinchcancel', pinchcancel)\n        } else if (key === 'swipe') {\n          const {\n            hammer,\n            swipeleft,\n            swiperight,\n            swipeup,\n            swipedown\n          } = this.eventListeners[key]\n          hammer.off('swipeleft', swipeleft)\n          hammer.off('swiperight', swiperight)\n          hammer.off('swipeup', swipeup)\n          hammer.off('swipedown', swipedown)\n        } else if (key === 'tap') {\n          const { hammer, tap } = this.eventListeners[key]\n          hammer.off('tap', tap)\n        } else if (key === 'input') {\n          const { input, focus, blur } = this.eventListeners[key]\n          this.node.removeEventListener('input', input)\n          this.node.removeEventListener('focus', focus)\n          this.node.removeEventListener('blur', blur)\n        } else if (key === 'scroll') {\n          const { scroll } = this.eventListeners[key]\n          this.node.removeEventListener('scroll', scroll)\n        } else if (key === 'touch') {\n          const { touch } = this.eventListeners[key]\n          this.node.removeEventListener('touchstart', touch, false)\n          this.node.removeEventListener('touchmove', touch, false)\n          this.node.removeEventListener('touchend', touch, false)\n          this.node.removeEventListener('touchcancel', touch, false)\n        }\n        this.eventListeners[key] = void 0\n      }\n    }\n  }\n\n  addAnimation(animation: BasicAnimation | KeyframeAnimation, key: string) {\n    if (animation instanceof BasicAnimation) {\n      let a = {}\n      a[`${key}`] = animation\n      this.basicAnimationArray.push(a);\n    } else if (animation instanceof KeyframeAnimation) {\n      // 帧动画\n      const { keyframes, options } = this.getKeyframeAnimationOptions(animation)\n      const animate: Animation = this.node.animate(keyframes, options)\n      this.animations[key] = animate\n      animation.onstart && animation.onstart()\n      animation.onend && (animate.oncancel = animation.onend as any)\n      animate.play()\n    }\n  }\n\n  // removeAllAnimation() {\n  //   for (let key in this.animations) {\n  //     const animate: Animation = this.animations[key]\n  //     animate.pause()\n  //     animate.finish()\n  //   }\n  //   this.animations = {}\n  // }\n\n  // removeAnimationForKey(key: string) {\n  //   const animate: Animation = this.animations[key]\n  //   if (animate) {\n  //     animate.pause()\n  //     animate.finish()\n  //     // @ts-ignore\n  //     this.animations[key] = null\n  //   }\n  // }\n\n  getRect(callback: Function) {\n    callback({})\n  }\n\n  dbg_highlight(isHighlight: Boolean) {\n    !!isHighlight ? this.node.classList.add('hm-high-light') : this.node.classList.remove('hm-high-light')\n  }\n\n  resetStyle() { }\n\n  requestViewWidth(callback: Function) { }\n\n  requestViewHeight(callback: Function) { }\n\n  // /**\n  //  * @deprecated\n  //  */\n  // private getTransitionProperties (ani: BasicAnimation) {\n  //   return {\n  //     [this.convertPath(ani.path)]: this.convertPathValue(ani.path, ani.value),\n  //     'transitionProperty': '*',\n  //     'transitionDuration': `${ani.duration}ms`,\n  //     'transitionTimingFunction': ani.easing,\n  //     'transitionDelay': ani.duration\n  //   }\n  // }\n\n  /**\n   * 获取属性动画的原始值(第一帧值)\n   */\n  private getBasicAnimationDefaultKeyframeAnimationOptions(\n    ani: Array<BasicAnimation>\n  ) {\n    let playKeyframes = {}\n    ani.forEach((item) => {\n      switch (item.path) {\n        case 'position':\n        case 'scale':\n        case 'scaleX':\n        case 'scaleY':\n        case 'rotationX':\n        case 'rotationY':\n        case 'rotationZ':\n          playKeyframes['transform'] = getComputedStyle(this.node)['transform']\n          break;\n        case 'opacity':\n          playKeyframes['opacity'] = getComputedStyle(this.node)['opacity']\n          break;\n        case 'backgroundColor':\n          playKeyframes['backgroundColor'] = getComputedStyle(this.node)['backgroundColor']\n          break;\n        default:\n          // @ts-ignore\n          playKeyframes[`${item.path}`] = getComputedStyle(this.node)[`${item.path}`]\n          break;\n      }\n    })\n    return playKeyframes\n  }\n\n  /**\n   * 获取属性动画的结果值(最后一帧值)\n   */\n  private getBasicAnimationKeyFrameAnimationOptions(ani: Array<BasicAnimation>) {\n    let keyframes, endKeyframes = {}\n    ani.forEach(item => {\n      if (this.convertPath(item.path) === 'transform') {\n        if (endKeyframes['transform']) {\n          endKeyframes['transform'] = `${this.convertPathValue(item.path, item.value)} ${endKeyframes['transform']}`\n        } else {\n          endKeyframes['transform'] = this.convertPathValue(item.path, item.value)\n        }\n      } else {\n        endKeyframes[`${this.convertPath(item.path)}`] = this.convertPathValue(item.path, item.value)\n      }\n      endKeyframes['easing'] = item.easing\n    })\n    keyframes = [this.getBasicAnimationDefaultKeyframeAnimationOptions(ani), endKeyframes];\n    return {\n      keyframes: keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani[0].easing,\n        delay: ani[0].delay || 0,\n        direction: 'normal',\n        duration: ani[0].duration * 1000,\n        iterations: ani[0].repeatCount < 0 ? 'Infinity' : (ani[0].repeatCount === 0 || ani[0].repeatCount === 1 ? 1 : ani[0].repeatCount)\n      }\n    }\n  }\n\n  private getKeyframeAnimationOptions(ani: KeyframeAnimation) {\n    const keyframes = ani.keyframes.map(item => ({\n      [this.convertPath(ani.path)]: this.convertPathValue(ani.path, item.value),\n      offset: item.percent,\n      easing: item.easing\n    }))\n    return {\n      keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani.easing,\n        delay: ani.delay || 0,\n        direction: 'normal',\n        duration: ani.duration * 1000,\n        iterations: ani.repeatCount < 0 ? 'Infinity' : (ani.repeatCount === 0 || ani.repeatCount === 1 ? 1 : ani.repeatCount)\n      }\n    }\n  }\n\n  private convertPath(path: string) {\n    switch (path) {\n      case 'position':\n      case 'rotationX':\n      case 'rotationY':\n      case 'rotationZ':\n      case 'scale':\n      case 'scaleX':\n      case 'scaleY':\n        return 'transform'\n      default:\n        return path\n    }\n  }\n\n  private convertPathValue(path: string, value: any) {\n    switch (path) {\n      case 'position':\n        return `translate(${formatUnit(value.x)},${formatUnit(value.y)})`\n      case 'rotationX':\n        return `rotate3d(1,0,0,${value}deg)`\n      case 'rotationY':\n        return `rotate3d(0,1,0,${value}deg)`\n      case 'rotationZ':\n        return `rotate3d(0,0,1,${value}deg)`\n      case 'scale':\n        return `scale3d(${value},${value},1)`\n      case 'scaleX':\n        return `scale3d(${value},1,1)`\n      case 'scaleY':\n        return `scale3d(1,${value},1)`\n      default:\n        if (isNeedUnitTrasform(path)) {\n          return formatUnit(value)\n        }\n        return value\n    }\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { formatUnit } from '../../common/utils'\n// TODO Image Component 对接\nexport interface ImageStyle extends ViewStyle {\n  // 图片拉伸模式\n  resize?: 'origin' | 'contain' | 'cover' | 'stretch'\n}\n\nexport class Image extends View {\n  protected _style: ImageStyle\n  protected _src!: string\n  protected _gifSrc!: string\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'resize':\n            // @ts-ignore\n            return target[key] || this.node.style.backgroundSize\n          default:\n            // @ts-ignore\n            return target[key] || this.node.style[key]\n        }\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'resize':\n            this.setImageResizeMode(value)\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  private setImageResizeMode(value: string) {\n    switch (value) {\n      case 'origin':\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'contain':\n        this.node.style.backgroundSize = 'contain'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'cover':\n        this.node.style.backgroundSize = 'cover'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'stretch':\n        this.node.style.backgroundSize = '100% 100%'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = '0 0'\n        break\n      default:\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ImageStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n  get src() {\n    return this._src\n  }\n\n  set src(src) {\n    this._src = src\n    this.node.style.backgroundImage = `url(${src})`\n  }\n\n  get gifSrc() {\n    return this._gifSrc\n  }\n\n  set gifSrc(gifSrc) {\n    this._gifSrc = gifSrc\n    this.node.style.backgroundImage = `url(${gifSrc})`\n  }\n\n  get gifRepeatCount(): number {\n    return 0\n  }\n\n  set gifRepeatCount(gifRepeatCount: number) {}\n\n  set onload(onload: Function) {\n    this.node.onload = onload\n  }\n\n  get onload() {\n    return this.node.onload\n  }\n  \n}\n","import { View } from './view/View'\nimport { Image } from './view/Image'\nexport class Toast {\n  customView?: View\n  toastTimer?:any\n  constructor() {\n    this.customView = new View\n    this.customView.node.classList.add('hm-default-toast')\n    document.body.appendChild(this.customView.node)\n  }\n  show(msg: string, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = msg\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  custom(view: View, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = view\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  private hide(){\n    this.customView.style.display = 'none'\n    this.customView.node.removeEventListener('transitionend',this.hide,false);\n  }\n}\n\nexport class Dialog {\n  cancelable?: boolean = true\n  customView?: View\n  alertView?: View\n  alertViewMsg?: View\n  alertViewBtn?: View\n  loadingView?: View\n  loadingViewIcon?: Image\n  loadingViewText?: View\n  confirmView?: View\n  confirmViewText?: View\n  confirmViewOkBtn?: View\n  confirmViewCancelBtn?: View\n  constructor() {\n    this.customView = new View\n\n    this.alertView = new View\n    this.alertViewMsg = new View\n    this.alertViewBtn = new View\n\n    this.loadingView = new View\n    this.loadingViewIcon = new Image\n    this.loadingViewText = new View\n\n    this.confirmView = new View\n    this.confirmViewText = new View\n    this.confirmViewOkBtn = new View\n    this.confirmViewCancelBtn = new View\n\n    this.customView.node.classList.add('hm-default-dialog')\n\n    this.alertView.node.classList.add('hm-default-alert-box')\n    this.alertViewMsg.node.classList.add('hm-default-alert-msg')\n    this.alertViewBtn.node.classList.add('hm-default-alert-btn')\n\n    this.loadingView.node.classList.add('hm-default-loading')\n    this.loadingViewIcon.node.classList.add('hm-default-loading-icon')\n    this.loadingViewIcon.src = 'https://pt-starimg.didistatic.com/static/starimg/img/MQnSutHeKH1637821723847.png'\n    this.loadingViewIcon.style.resize = 'cover'\n\n    this.confirmView.node.classList.add('hm-default-alert-box')\n    this.confirmViewText.node.classList.add('hm-default-confirm-view-text')\n    this.confirmViewOkBtn.node.classList.add('hm-default-confirm-view-okBtn')\n    this.confirmViewCancelBtn.node.classList.add('hm-default-confirm-view-cancelBtn')\n\n    document.body.appendChild(this.customView.node)\n    this.customView.node.ontouchend = (e) => {\n      if (e.target === this.customView.node) {\n        this.cancelable && this.dismiss()\n      }\n    }\n  }\n  alert(msg: string, btnText?: string, callback?: Function) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = msg\n    this.alertViewBtn.node.innerHTML = btnText || '确定'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.alertView)\n    this.alertView.node.children.length === 0 && (this.alertView.appendChild(this.alertViewMsg), this.alertView.appendChild(this.alertViewBtn))\n    this.customView.style.display = 'block'\n    this.alertViewBtn.node.onclick = () => {\n      this.dismiss()\n      callback()\n    }\n  }\n  confirm(\n    title: string,\n    msg: string,\n    okBtnText: string,\n    cancelBtnText: string,\n    okCallback: Function,\n    cancelCallback: Function\n  ) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = title\n    this.confirmViewText.node.innerHTML = msg\n    this.confirmViewOkBtn.node.innerHTML = okBtnText || '确认'\n    this.confirmViewCancelBtn.node.innerHTML = cancelBtnText || '取消'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.confirmView)\n    this.confirmView.node.children.length === 0 && (this.confirmView.appendChild(this.alertViewMsg), this.confirmView.appendChild(this.confirmViewText), this.confirmView.appendChild(this.alertViewBtn))\n    this.alertViewBtn.node.children.length === 0 && (this.alertViewBtn.appendChild(this.confirmViewCancelBtn), this.alertViewBtn.appendChild(this.confirmViewOkBtn))\n    this.customView.style.display = 'block'\n    this.confirmViewOkBtn.node.onclick = () => {\n      this.dismiss()\n      okCallback()\n    }\n    this.confirmViewCancelBtn.node.onclick = () => {\n      this.dismiss()\n      cancelCallback()\n    }\n  }\n  loading(msg: string) {\n    this.customView.removeAll()\n    this.loadingViewText.node.innerHTML = msg || 'loading...'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.loadingView)\n    this.loadingView.node.children.length === 0 && (this.loadingView.appendChild(this.loadingViewIcon), this.loadingView.appendChild(this.loadingViewText))\n    this.customView.style.display = 'block'\n  }\n  custom(view: View) {\n    this.customView.removeAll()\n    this.customView.node.children.length === 0 && this.customView.appendChild(view)\n    this.customView.style.display = 'block'\n  }\n  dismiss() {\n    this.customView && (this.customView.style.display = 'none')\n  }\n}\nglobalThis.Dialog = Dialog\nglobalThis.Toast = new Toast()\n","export const Location = {\n  getLastLocation(callback: Function) {},\n  startLocation(callback: Function, intervalTime: number, intervalDistance: number) {},\n  stopLocation() {},\n  onError(callback: Function) {},\n}\n","export const Memory = {\n  set(key: any, value: any): void {\n    sessionStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return sessionStorage.getItem(key);\n  },\n  getAll(): object {\n    let sessionKeys: Array<any> = Object.keys(sessionStorage)\n    let sessionAll: object = {}\n    sessionKeys.forEach((item) => {\n      sessionAll[item] = sessionStorage.getItem(item)\n    })\n    return sessionAll;\n  },\n  remove(key: any): void {\n    sessionStorage.removeItem(key)\n  },\n  removeAll(): void {\n    sessionStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(sessionStorage.getItem(key) == null);\n  }\n}\n","import {getQueryVariable,updateQueryStringParameter} from '../common/utils'\ninterface Ioptions {\n  url: string;\n  params: object;\n  animated: boolean;\n  id: string;\n  closeSelf: boolean;\n}\nexport const Navigator = {\n  openPage: (options: Ioptions, callback?: Function) => {\n    let url = ''\n    let cloneOptions = JSON.parse(JSON.stringify(options))\n    let navbar = getQueryVariable('navBar',url);\n    if (cloneOptions.url.match(/^(hummer:\\/\\/||http||.\\/).*.js$/g)) {\n      cloneOptions.url = `http://${window.location.host}${cloneOptions.url.match(/\\/.[a-zA-Z]*.js$/g)[0].split('.')[0]}`\n      url = `${cloneOptions.url}?pageInfo=${encodeURIComponent(JSON.stringify(cloneOptions))}`\n    } else if (cloneOptions.url.match(/^http.*/g)) {\n      url = cloneOptions.url\n    }\n    if(navbar){\n      url = updateQueryStringParameter(url,'navBar',navbar)\n    }\n    if (cloneOptions.closeSelf) {\n      location.replace(url)\n    } else {\n      location.assign(url)\n    }\n    callback();\n  },\n  popPage: (options?: any) => {\n    history.go(-1);\n  },\n  popToPage: (options?: any) => { \n    // 暂不支持\n  },\n  popToRootPage: (options?: any) => {\n    var historyLen = history.length;\n    history.go(-(historyLen - 1));\n  },\n  popBack: (count: number, options?: any) => {\n    history.go(-`${count}`);\n  }\n}\n// @ts-ignore\nglobalThis.Navigator = Navigator","export const Phone = {\n  call(phoneNum: string, callback: Function) {}\n}\n","import { Request } from './Request'\n\nexport class Response {\n  public status!: number\n  public header!: { [key: string]: any }\n  public data!: any\n  public error!:any\n  public message!: any\n  public request!: Request\n}\n","import { Response } from './Response'\n\n/**\n * 参考\n * https://segmentfault.com/a/1190000004322487#articleHeader0\n * https://juejin.im/entry/5a4ea104518825733a307ed1\n */\nexport class Request {\n  public url!: string\n  public method!: 'GET' | 'POST'\n  public timeout: number = 10 * 1000 // 10s\n  public header: { [key: string]: any } = {}\n  public param: { [key: string]: any } = {}\n  public withCredentials: boolean = false\n\n  send(callback: (response: Response) => void) {\n    const xhr = new XMLHttpRequest()\n    if(this.method === 'GET') {\n      let getData = ''\n      for(var str in this.param){ \n        getData +=str+'='+this.param[str] + '&'\n      }\n      getData = getData.substring(0, getData.length - 1);\n      if(this.url.indexOf('?')>=0){\n        this.url = `${this.url}&${getData}`\n      } else {\n        this.url = `${this.url}?${getData}`\n      }\n    }\n    xhr.open(this.method, this.url)\n    xhr.timeout = this.timeout\n    if (this.method === 'POST') {\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n    }\n    xhr.withCredentials = this.withCredentials\n    for (let key in this.header) {\n      xhr.setRequestHeader(key, this.header[key])\n    }\n    xhr.ontimeout = () => {\n      const response = new Response()\n      response.status = -1\n      response.request = this\n      callback(response)\n    }\n    xhr.onerror = (e)=>{ \n\n     };\n    xhr.onload = (e) => {\n      console.log(e)\n      let data = null\n      switch (xhr.responseType) {\n        case 'document':\n          data = xhr.responseXML\n          break\n        case 'json':\n        case 'text':\n          try {\n            data = JSON.parse(xhr.responseText)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n        case 'arraybuffer':\n        case 'blob':\n        default:\n          try {\n            data = JSON.parse(xhr.response)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n      }\n      const response = new Response()\n      response.status = xhr.status\n      response.data = data\n      response.message = xhr.statusText\n      response.error = {\n        code: 0\n      }\n      if (xhr.status !== 200) {\n        response.error = {\n          code: xhr.status,\n          msg: xhr.statusText,\n        }\n        response.message = xhr.statusText\n      }\n      response.request = this\n      const headers = xhr.getAllResponseHeaders()\n      const arr = headers.trim().split(/[\\r\\n]+/)\n      const headerMap = {}\n      arr.forEach(function (line) {\n        const parts = line.split(': ')\n        const header = parts.shift()\n        // @ts-ignore\n        headerMap[header] = parts.join(': ')\n      })\n      response.header = headerMap\n      callback(response)\n    }\n    const data = Object.keys(this.param)\n      .map(key => `${key}=${this.param[key]}`)\n      .join('&')\n    xhr.send(data)\n  }\n}\n// @ts-ignore\nglobalThis.Request = Request\n\n","// Hummer侧的WebSocket协议已经和web端统一  https://github.com/didi/Hummer/issues/280\nexport const WebSocket = window.WebSocket","export const Storage = {\n  set(key: any, value: any): void {\n    localStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return localStorage.getItem(key);\n  },\n  getAll(): object {\n    let storageKeys: Array<any> = Object.keys(localStorage)\n    let storageAll: object = {}\n    storageKeys.forEach((item) => {\n      storageAll[item] = localStorage.getItem(item)\n    })\n    return storageAll;\n  },\n  remove(key: any): void {\n    localStorage.removeItem(key)\n  },\n  removeAll(): void {\n    localStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(localStorage.getItem(key) == null);\n  }\n}","export class Timer {\n  private intervalTimer!: any\n  private timeoutTimer!: any\n\n  // 轮询间隔\n  setInterval(callback: Function, time: number) {\n    this.intervalTimer = setInterval(callback, time)\n  }\n\n  // 取消轮询\n  clearInterval() {\n    if (this.intervalTimer) {\n      clearInterval(this.intervalTimer)\n      this.intervalTimer = null\n    }\n  }\n\n  // 设置超时\n  setTimeout(callback: Function, timeout: number) {\n    this.timeoutTimer = setTimeout(() => {\n      callback()\n      this.timeoutTimer = null\n    }, timeout)\n  }\n\n  // 取消超时\n  clearTimeout() {\n    if (this.timeoutTimer) {\n      clearTimeout(this.timeoutTimer)\n      this.timeoutTimer = null\n    }\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport interface SwitchEventListener {\n  (event?: SwitchEvent): void\n}\n\nexport class SwitchEvent extends Event {\n  public state!: Boolean\n\n  get type(): EventType {\n    return 'switch'\n  }\n}\n","import Hammer from 'hammerjs'\nimport { View, ViewStyle } from './View'\nexport interface ButtonStyle extends ViewStyle {\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  fontSize?: string | number\n  color?: string\n}\n\nexport class Button extends View {\n  private _beforeDisabledStyle!: ButtonStyle\n  // 禁止状态下的样式\n  private _disabled!: ButtonStyle\n  private _beforePressedStyle!: ButtonStyle\n  // 按下态的样式\n  private _pressedStyle!: ButtonStyle\n\n  constructor() {\n    super()\n    this.defaultStyle()\n    this.init()\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-button')\n  }\n\n  private init() {\n    const hammer = new Hammer(this.node)\n    const pressEvent = () => {\n      if (!this.enabled) return\n      if (this.pressed) {\n        // 记录press之前的样式\n        this._beforePressedStyle = Object.keys(this.pressed).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforePressedStyle', this._beforePressedStyle)\n        // 设置pressed样式\n        this.style = this.pressed\n      }\n    }\n    const pressUpEvent = () => {\n      if (!this.enabled) return\n      if (this._beforePressedStyle) {\n        // 恢复pressed之前的样式\n        this.style = this._beforePressedStyle\n        console.warn('reset _beforePressedStyle', this._beforePressedStyle)\n      }\n      // Todo: 事件中断处理？可以通过代理全局对象进行代理来做样式兜底\n    }\n    hammer.on('press', pressEvent)\n    hammer.on('pressup', pressUpEvent)\n  }\n\n  protected createNode() {\n    this.node = document.createElement('button')\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(text: string) {\n    this.node.innerText = text\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      // Todo: 原生标签的属性 disabled 的值是 ‘disabled’\n      this.node.disabled = true\n      // 设置disabled样式\n      if (this.disabled) {\n        // 记录之前的原始的样式\n        this._beforeDisabledStyle = Object.keys(this.disabled).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforeDisabledStyle', this._beforeDisabledStyle)\n        // 设置样式\n        this.style = this.disabled\n      }\n    } else {\n      this.node.disabled = false\n      // 恢复disabled之前的样式\n      if (this._beforeDisabledStyle) {\n        this.style = this._beforeDisabledStyle\n        // console.warn('reset _beforeDisabledStyle', this._beforeDisabledStyle)\n      }\n    }\n  }\n\n  get disabled() {\n    return this._disabled\n  }\n\n  set disabled(value: ButtonStyle) {\n    // console.log('_disabled style', value)\n    // 设置样式\n    this._disabled = value\n    // 触发enabled的修改，更新样式s\n    this.enabled = this._enabled\n  }\n\n  get pressed() {\n    return this._pressedStyle\n  }\n\n  set pressed(value: ButtonStyle) {\n    this._pressedStyle = value\n  }\n}\n","import { View, ViewStyle } from './View'\n\nexport interface CarouselStyle extends ViewStyle {}\n\nexport class Carousel extends View {\n  protected _style: CarouselStyle\n  addRegionChangedListener: Function\n\n  constructor() {\n    super()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n  onPageChange(callback) {\n    callback()\n  }\n\n  onItemClick(callback) {\n    callback()\n  }\n  onItemView(callback) {\n    callback()\n  }\n}\n","/*!\n * better-scroll / better-scroll\n * (c) 2016-2021 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig$7 = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\r\nfunction assert(condition, msg) {\r\n    if (!condition) {\r\n        throw new Error('[BScroll] ' + msg);\r\n    }\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction getDistance(x, y) {\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\r\nfunction findIndex(ary, fn) {\r\n    if (ary.findIndex) {\r\n        return ary.findIndex(fn);\r\n    }\r\n    var index = -1;\r\n    ary.some(function (item, i, ary) {\r\n        var ret = fn(item, i, ary);\r\n        if (ret) {\r\n            index = i;\r\n            return ret;\r\n        }\r\n    });\r\n    return index;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string'\r\n        ? document.querySelector(el)\r\n        : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nfunction offsetToBody(el) {\r\n    var rect = el.getBoundingClientRect();\r\n    return {\r\n        left: -(rect.left + window.pageXOffset),\r\n        top: -(rect.top + window.pageYOffset),\r\n    };\r\n}\r\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    touchcancel: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    /* istanbul ignore if  */\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            /* istanbul ignore next */\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\r\nfunction prepend(el, target) {\r\n    var firstChild = target.firstChild;\r\n    if (firstChild) {\r\n        before(el, firstChild);\r\n    }\r\n    else {\r\n        target.appendChild(el);\r\n    }\r\n}\r\nfunction before(el, target) {\r\n    var parentNode = target.parentNode;\r\n    parentNode.insertBefore(el, target);\r\n}\r\nfunction removeChild(el, child) {\r\n    el.removeChild(child);\r\n}\r\nfunction hasClass(el, className) {\r\n    var reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className);\r\n}\r\nfunction HTMLCollectionToArray(el) {\r\n    return Array.prototype.slice.call(el, 0);\r\n}\r\nfunction getClientSize(el) {\r\n    return {\r\n        width: el.clientWidth,\r\n        height: el.clientHeight,\r\n    };\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 1000 / 60;\r\nvar windowCompat = inBrowser && window;\r\n/* istanbul ignore next */\r\nfunction noop$1() { }\r\nvar requestAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, callback.interval || DEFAULT_INTERVAL); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\n/* istanbul ignore next */\r\nvar noop = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop,\r\n    set: noop,\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 0;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        _this.quadrant = 1 /* First */;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.rebindDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.rebindDOMEvents = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.handleDOMEvents();\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setCallStop = function (called) {\r\n        this.callStopWhenPending = called;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.clearTimer = function () {\r\n        if (this.timer) {\r\n            cancelAnimationFrame(this.timer);\r\n            this.timer = 0;\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\n// iOS 13.6 - 14.x, window.getComputedStyle sometimes will get wrong transform value\r\n// when bs use transition mode\r\n// eg: translateY -100px -> -200px, when the last frame which is about to scroll to -200px\r\n// window.getComputedStyle(this.content) will calculate transformY to be -100px(startPoint)\r\n// it is weird\r\n// so we should validate position caculated by 'window.getComputedStyle'\r\nvar isValidPostion = function (startPoint, endPoint, currentPos, prePos) {\r\n    var computeDirection = function (endValue, startValue) {\r\n        var delta = endValue - startValue;\r\n        var direction = delta > 0\r\n            ? -1 /* Negative */\r\n            : delta < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return direction;\r\n    };\r\n    var directionX = computeDirection(endPoint.x, startPoint.x);\r\n    var directionY = computeDirection(endPoint.y, startPoint.y);\r\n    var deltaX = currentPos.x - prePos.x;\r\n    var deltaY = currentPos.y - prePos.y;\r\n    return directionX * deltaX <= 0 && directionY * deltaY <= 0;\r\n};\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function (startPoint, endPoint) {\r\n        var _this = this;\r\n        var prePos = startPoint;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            if (isValidPostion(startPoint, endPoint, pos, prePos)) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // transition ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n                }\r\n            }\r\n            prePos = pos;\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        if (time && isRealtimeProbeType) {\r\n            this.startProbe(startPoint, endPoint);\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            if (isRealtimeProbeType) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            if (this.options.probeType === 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                if (isRealtimeProbeType) {\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                }\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (isRealtimeProbeType) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // raf ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                }\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        },\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll'\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var duration = Math.min(swipeTime, (speed * 2) / deceleration);\r\n        var momentumData = {\r\n            destination: current + ((speed * speed) / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: duration,\r\n            rate: 15\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = this.currentPos - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        // Force reflow\r\n        var wrapperRect = getRect(this.wrapper);\r\n        // use client is more fair than offset\r\n        this.wrapperSize = this.wrapper[size === 'width' ? 'clientWidth' : 'clientHeight'];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        /* istanbul ignore if  */\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return this.currentPos;\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos > this.minScrollPos) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos < this.maxScrollPos) {\r\n            pos = this.maxScrollPos;\r\n        }\r\n        return pos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar applyQuadrantTransformation = function (deltaX, deltaY, quadrant) {\r\n    if (quadrant === 2 /* Second */) {\r\n        return [deltaY, -deltaX];\r\n    }\r\n    else if (quadrant === 3 /* Third */) {\r\n        return [-deltaX, -deltaY];\r\n    }\r\n    else if (quadrant === 4 /* Forth */) {\r\n        return [-deltaY, deltaX];\r\n    }\r\n    else {\r\n        return [deltaX, deltaY];\r\n    }\r\n};\r\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd',\r\n            'contentNotMoved',\r\n            'detectMovingDirection',\r\n            'coordinateTransformation',\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            var _b = applyQuadrantTransformation(deltaX, deltaY, _this.options.quadrant), transformateDeltaX = _b[0], transformateDeltaY = _b[1];\r\n            var transformateDeltaData = {\r\n                deltaX: transformateDeltaX,\r\n                deltaY: transformateDeltaY,\r\n            };\r\n            _this.hooks.trigger(_this.hooks.eventTypes.coordinateTransformation, transformateDeltaData);\r\n            return _this.handleMove(transformateDeltaData.deltaX, transformateDeltaData.deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.fingerMoved = false;\r\n        this.contentMoved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var prevX = this.scrollBehaviorX.getCurrentPos();\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var prevY = this.scrollBehaviorY.getCurrentPos();\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)) {\r\n            return;\r\n        }\r\n        if (!this.fingerMoved) {\r\n            this.fingerMoved = true;\r\n        }\r\n        var positionChanged = newX !== prevX || newY !== prevY;\r\n        if (!this.contentMoved && !positionChanged) {\r\n            this.hooks.trigger(this.hooks.eventTypes.contentNotMoved);\r\n        }\r\n        if (!this.contentMoved && positionChanged) {\r\n            this.contentMoved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.contentMoved && positionChanged) {\r\n            this.animater.translate({\r\n                x: newX,\r\n                y: newY,\r\n            });\r\n            this.dispatchScroll(timestamp);\r\n        }\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        currentPos = this.ensureIntegerPos(currentPos);\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.ensureIntegerPos = function (currentPos) {\r\n        this.ensuringInteger = true;\r\n        var x = currentPos.x, y = currentPos.y;\r\n        var _a = this.scrollBehaviorX, minScrollPosX = _a.minScrollPos, maxScrollPosX = _a.maxScrollPos;\r\n        var _b = this.scrollBehaviorY, minScrollPosY = _b.minScrollPos, maxScrollPosY = _b.maxScrollPos;\r\n        x = x > 0 ? Math.ceil(x) : Math.floor(x);\r\n        y = y > 0 ? Math.ceil(y) : Math.floor(y);\r\n        x = between(x, maxScrollPosX, minScrollPosX);\r\n        y = between(y, maxScrollPosY, minScrollPosY);\r\n        return { x: x, y: y };\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos(),\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar MIN_SCROLL_DISTANCE = 1;\r\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'minDistanceScroll',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // scrollEnd will dispatch when scroll is force stopping in touchstart handler\r\n            // so in touchend handler, don't toggle pointer-events\r\n            if (_this.actions.ensuringInteger === true) {\r\n                _this.actions.ensuringInteger = false;\r\n                return;\r\n            }\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.fingerMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            if (actions.contentMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            if (_this.animater.forceStopped) {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        /* istanbul ignore if  */\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            /* istanbul ignore if  */\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        var deltaX = Math.abs(endPoint.x - startPoint.x);\r\n        var deltaY = Math.abs(endPoint.y - startPoint.y);\r\n        // considering of browser compatibility for decimal transform value\r\n        // force translating immediately\r\n        if (deltaX < MIN_SCROLL_DISTANCE && deltaY < MIN_SCROLL_DISTANCE) {\r\n            time = 0;\r\n            this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll);\r\n        }\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        /* istanbul ignore if  */\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this.reflow();\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.reflow = function () {\r\n        this._reflow = this.content.offsetHeight;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy'\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged'\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig$7);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        /* istanbul ignore if  */\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nvar MouseWheel = /** @class */ (function () {\r\n    function MouseWheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.wheelEndTimer = 0;\r\n        this.wheelMoveTimer = 0;\r\n        this.wheelStart = false;\r\n        this.init();\r\n    }\r\n    MouseWheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.registerEvent();\r\n    };\r\n    MouseWheel.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            'alterOptions',\r\n            'mousewheelStart',\r\n            'mousewheelMove',\r\n            'mousewheelEnd',\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.mouseWheel === true\r\n            ? {}\r\n            : this.scroll.options.mouseWheel);\r\n        var defaultOptions = {\r\n            speed: 20,\r\n            invert: false,\r\n            easeTime: 300,\r\n            discreteTime: 400,\r\n            throttleTime: 0,\r\n            dampingFactor: 0.1,\r\n        };\r\n        this.mouseWheelOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    MouseWheel.prototype.handleHooks = function () {\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    MouseWheel.prototype.registerEvent = function () {\r\n        this.eventRegister = new EventRegister(this.scroll.scroller.wrapper, [\r\n            {\r\n                name: 'wheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'mousewheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'DOMMouseScroll',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    MouseWheel.prototype.wheelHandler = function (e) {\r\n        if (!this.scroll.enabled) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e);\r\n        // start\r\n        if (!this.wheelStart) {\r\n            this.wheelStartHandler(e);\r\n            this.wheelStart = true;\r\n        }\r\n        // move\r\n        var delta = this.getWheelDelta(e);\r\n        this.wheelMoveHandler(delta);\r\n        // end\r\n        this.wheelEndDetector(delta);\r\n    };\r\n    MouseWheel.prototype.wheelStartHandler = function (e) {\r\n        this.cleanCache();\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        scrollBehaviorX.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorX.setDirection(0 /* Default */);\r\n        scrollBehaviorY.setDirection(0 /* Default */);\r\n        this.scroll.trigger(this.scroll.eventTypes.alterOptions, this.mouseWheelOpt);\r\n        this.scroll.trigger(this.scroll.eventTypes.mousewheelStart);\r\n    };\r\n    MouseWheel.prototype.cleanCache = function () {\r\n        this.deltaCache = [];\r\n    };\r\n    MouseWheel.prototype.wheelMoveHandler = function (delta) {\r\n        var _this = this;\r\n        var _a = this.mouseWheelOpt, throttleTime = _a.throttleTime, dampingFactor = _a.dampingFactor;\r\n        if (throttleTime && this.wheelMoveTimer) {\r\n            this.deltaCache.push(delta);\r\n        }\r\n        else {\r\n            var cachedDelta = this.deltaCache.reduce(function (prev, current) {\r\n                return {\r\n                    x: prev.x + current.x,\r\n                    y: prev.y + current.y,\r\n                };\r\n            }, { x: 0, y: 0 });\r\n            this.cleanCache();\r\n            var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n            scrollBehaviorX.setMovingDirection(-delta.directionX);\r\n            scrollBehaviorY.setMovingDirection(-delta.directionY);\r\n            scrollBehaviorX.setDirection(delta.x);\r\n            scrollBehaviorY.setDirection(delta.y);\r\n            // when out of boundary, perform a damping scroll\r\n            var newX = scrollBehaviorX.performDampingAlgorithm(Math.round(delta.x) + cachedDelta.x, dampingFactor);\r\n            var newY = scrollBehaviorY.performDampingAlgorithm(Math.round(delta.y) + cachedDelta.x, dampingFactor);\r\n            if (!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove, {\r\n                x: newX,\r\n                y: newY,\r\n            })) {\r\n                var easeTime = this.getEaseTime();\r\n                if (newX !== this.scroll.x || newY !== this.scroll.y) {\r\n                    this.scroll.scrollTo(newX, newY, easeTime);\r\n                }\r\n            }\r\n            if (throttleTime) {\r\n                this.wheelMoveTimer = window.setTimeout(function () {\r\n                    _this.wheelMoveTimer = 0;\r\n                }, throttleTime);\r\n            }\r\n        }\r\n    };\r\n    MouseWheel.prototype.wheelEndDetector = function (delta) {\r\n        var _this = this;\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        this.wheelEndTimer = window.setTimeout(function () {\r\n            _this.wheelStart = false;\r\n            window.clearTimeout(_this.wheelMoveTimer);\r\n            _this.wheelMoveTimer = 0;\r\n            _this.scroll.trigger(_this.scroll.eventTypes.mousewheelEnd, delta);\r\n        }, this.mouseWheelOpt.discreteTime);\r\n    };\r\n    MouseWheel.prototype.getWheelDelta = function (e) {\r\n        var _a = this.mouseWheelOpt, speed = _a.speed, invert = _a.invert;\r\n        var wheelDeltaX = 0;\r\n        var wheelDeltaY = 0;\r\n        var direction = invert ? -1 /* Negative */ : 1 /* Positive */;\r\n        switch (true) {\r\n            case 'deltaX' in e:\r\n                if (e.deltaMode === 1) {\r\n                    wheelDeltaX = -e.deltaX * speed;\r\n                    wheelDeltaY = -e.deltaY * speed;\r\n                }\r\n                else {\r\n                    wheelDeltaX = -e.deltaX;\r\n                    wheelDeltaY = -e.deltaY;\r\n                }\r\n                break;\r\n            case 'wheelDeltaX' in e:\r\n                wheelDeltaX = (e.wheelDeltaX / 120) * speed;\r\n                wheelDeltaY = (e.wheelDeltaY / 120) * speed;\r\n                break;\r\n            case 'wheelDelta' in e:\r\n                wheelDeltaX = wheelDeltaY = (e.wheelDelta / 120) * speed;\r\n                break;\r\n            case 'detail' in e:\r\n                wheelDeltaX = wheelDeltaY = (-e.detail / 3) * speed;\r\n                break;\r\n        }\r\n        wheelDeltaX *= direction;\r\n        wheelDeltaY *= direction;\r\n        if (!this.scroll.hasVerticalScroll) {\r\n            if (Math.abs(wheelDeltaY) > Math.abs(wheelDeltaX)) {\r\n                wheelDeltaX = wheelDeltaY;\r\n            }\r\n            wheelDeltaY = 0;\r\n        }\r\n        if (!this.scroll.hasHorizontalScroll) {\r\n            wheelDeltaX = 0;\r\n        }\r\n        var directionX = wheelDeltaX > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaX < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        var directionY = wheelDeltaY > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaY < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return {\r\n            x: wheelDeltaX,\r\n            y: wheelDeltaY,\r\n            directionX: directionX,\r\n            directionY: directionY,\r\n        };\r\n    };\r\n    MouseWheel.prototype.beforeHandler = function (e) {\r\n        var _a = this.scroll.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        if (preventDefault &&\r\n            !preventDefaultExceptionFn(e.target, preventDefaultException)) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    MouseWheel.prototype.getEaseTime = function () {\r\n        var SAFE_EASETIME = 100;\r\n        var easeTime = this.mouseWheelOpt.easeTime;\r\n        // scrollEnd event will be triggered in every calling of scrollTo when easeTime is too small\r\n        // easeTime needs to be greater than 100\r\n        if (easeTime < SAFE_EASETIME) {\r\n            warn(\"easeTime should be greater than 100.\" +\r\n                \"If mouseWheel easeTime is too small,\" +\r\n                \"scrollEnd will be triggered many times.\");\r\n        }\r\n        return Math.max(easeTime, SAFE_EASETIME);\r\n    };\r\n    MouseWheel.prototype.destroy = function () {\r\n        this.eventRegister.destroy();\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        window.clearTimeout(this.wheelMoveTimer);\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n    };\r\n    MouseWheel.pluginName = 'mouseWheel';\r\n    MouseWheel.applyOrder = \"pre\" /* Pre */;\r\n    return MouseWheel;\r\n}());\n\nvar ObserveDOM = /** @class */ (function () {\r\n    function ObserveDOM(scroll) {\r\n        this.scroll = scroll;\r\n        this.stopObserver = false;\r\n        this.init();\r\n    }\r\n    ObserveDOM.prototype.init = function () {\r\n        this.handleMutationObserver();\r\n        this.handleHooks();\r\n    };\r\n    ObserveDOM.prototype.handleMutationObserver = function () {\r\n        var _this = this;\r\n        if (typeof MutationObserver !== 'undefined') {\r\n            var timer_1 = 0;\r\n            this.observer = new MutationObserver(function (mutations) {\r\n                _this.mutationObserverHandler(mutations, timer_1);\r\n            });\r\n            this.startObserve(this.observer);\r\n        }\r\n        else {\r\n            this.checkDOMUpdate();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.stopObserve();\r\n            // launch a new mutationObserver\r\n            _this.handleMutationObserver();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.enable, function () {\r\n            if (_this.stopObserver) {\r\n                _this.handleMutationObserver();\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.disable, function () {\r\n            _this.stopObserve();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    ObserveDOM.prototype.mutationObserverHandler = function (mutations, timer) {\r\n        var _this = this;\r\n        if (this.shouldNotRefresh()) {\r\n            return;\r\n        }\r\n        var immediateRefresh = false;\r\n        var deferredRefresh = false;\r\n        for (var i = 0; i < mutations.length; i++) {\r\n            var mutation = mutations[i];\r\n            if (mutation.type !== 'attributes') {\r\n                immediateRefresh = true;\r\n                break;\r\n            }\r\n            else {\r\n                if (mutation.target !== this.scroll.scroller.content) {\r\n                    deferredRefresh = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (immediateRefresh) {\r\n            this.scroll.refresh();\r\n        }\r\n        else if (deferredRefresh) {\r\n            // attributes changes too often\r\n            clearTimeout(timer);\r\n            timer = window.setTimeout(function () {\r\n                if (!_this.shouldNotRefresh()) {\r\n                    _this.scroll.refresh();\r\n                }\r\n            }, 60);\r\n        }\r\n    };\r\n    ObserveDOM.prototype.startObserve = function (observer) {\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            subtree: true,\r\n        };\r\n        observer.observe(this.scroll.scroller.content, config);\r\n    };\r\n    ObserveDOM.prototype.shouldNotRefresh = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var outsideBoundaries = scrollBehaviorX.currentPos > scrollBehaviorX.minScrollPos ||\r\n            scrollBehaviorX.currentPos < scrollBehaviorX.maxScrollPos ||\r\n            scrollBehaviorY.currentPos > scrollBehaviorY.minScrollPos ||\r\n            scrollBehaviorY.currentPos < scrollBehaviorY.maxScrollPos;\r\n        return scroller.animater.pending || outsideBoundaries;\r\n    };\r\n    ObserveDOM.prototype.checkDOMUpdate = function () {\r\n        var _this = this;\r\n        var content = this.scroll.scroller.content;\r\n        var contentRect = getRect(content);\r\n        var oldWidth = contentRect.width;\r\n        var oldHeight = contentRect.height;\r\n        var check = function () {\r\n            if (_this.stopObserver) {\r\n                return;\r\n            }\r\n            contentRect = getRect(content);\r\n            var newWidth = contentRect.width;\r\n            var newHeight = contentRect.height;\r\n            if (oldWidth !== newWidth || oldHeight !== newHeight) {\r\n                _this.scroll.refresh();\r\n            }\r\n            oldWidth = newWidth;\r\n            oldHeight = newHeight;\r\n            next();\r\n        };\r\n        var next = function () {\r\n            setTimeout(function () {\r\n                check();\r\n            }, 1000);\r\n        };\r\n        next();\r\n    };\r\n    ObserveDOM.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    ObserveDOM.prototype.stopObserve = function () {\r\n        this.stopObserver = true;\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.destroy = function () {\r\n        this.stopObserve();\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    ObserveDOM.pluginName = 'observeDOM';\r\n    return ObserveDOM;\r\n}());\n\nvar sourcePrefix$6 = 'plugins.pullDownRefresh';\r\nvar propertiesMap$6 = [\r\n    {\r\n        key: 'finishPullDown',\r\n        name: 'finishPullDown'\r\n    },\r\n    {\r\n        key: 'openPullDown',\r\n        name: 'openPullDown'\r\n    },\r\n    {\r\n        key: 'closePullDown',\r\n        name: 'closePullDown'\r\n    },\r\n    {\r\n        key: 'autoPullDownRefresh',\r\n        name: 'autoPullDownRefresh'\r\n    }\r\n];\r\nvar propertiesConfig$6 = propertiesMap$6.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$6 + \".\" + item.name\r\n    };\r\n});\n\nvar PULLING_DOWN_EVENT = 'pullingDown';\r\nvar ENTER_THRESHOLD_EVENT = 'enterThreshold';\r\nvar LEAVE_THRESHOLD_EVENT = 'leaveThreshold';\r\nvar PullDown = /** @class */ (function () {\r\n    function PullDown(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = 0 /* DEFAULT */;\r\n        this.thresholdBoundary = 0 /* DEFAULT */;\r\n        this.init();\r\n    }\r\n    PullDown.prototype.setPulling = function (status) {\r\n        this.pulling = status;\r\n    };\r\n    PullDown.prototype.setThresholdBoundary = function (boundary) {\r\n        this.thresholdBoundary = boundary;\r\n    };\r\n    PullDown.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullDownRefresh);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullDown.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            PULLING_DOWN_EVENT,\r\n            ENTER_THRESHOLD_EVENT,\r\n            LEAVE_THRESHOLD_EVENT,\r\n        ]);\r\n        this.scroll.proxy(propertiesConfig$6);\r\n    };\r\n    PullDown.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 90,\r\n            stop: 40,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullDown.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.currentMinScrollY = this.cachedOriginanMinScrollY =\r\n            scrollBehaviorY.minScrollPos;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullDown();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n            boundary.minScrollPos = _this.currentMinScrollY;\r\n        });\r\n        // integrate with mousewheel\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.alterOptions, function (mouseWheelOptions) {\r\n                var SANE_DISCRETE_TIME = 300;\r\n                var SANE_EASE_TIME = 350;\r\n                mouseWheelOptions.discreteTime = SANE_DISCRETE_TIME;\r\n                // easeTime > discreteTime ensure goInto checkPullDown function\r\n                mouseWheelOptions.easeTime = SANE_EASE_TIME;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function () {\r\n                // mouseWheel need trigger checkPullDown manually\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.end);\r\n            });\r\n        }\r\n    };\r\n    PullDown.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullDown.prototype.hasMouseWheelPlugin = function () {\r\n        return !!this.scroll.eventTypes.alterOptions;\r\n    };\r\n    PullDown.prototype.watch = function () {\r\n        var scroller = this.scroll.scroller;\r\n        this.watching = true;\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.resetStateBeforeScrollStart = function () {\r\n        // current fetching pulldownRefresh has ended\r\n        if (!this.isFetchingStatus()) {\r\n            this.setPulling(1 /* MOVING */);\r\n            this.setThresholdBoundary(0 /* DEFAULT */);\r\n        }\r\n    };\r\n    PullDown.prototype.checkLocationOfThresholdBoundary = function () {\r\n        // pulldownRefresh is in the phase of Moving\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            var scroll_1 = this.scroll;\r\n            // enter threshold boundary\r\n            var enteredThresholdBoundary = this.thresholdBoundary !== 1 /* INSIDE */ &&\r\n                this.locateInsideThresholdBoundary();\r\n            // leave threshold boundary\r\n            var leftThresholdBoundary = this.thresholdBoundary !== 2 /* OUTSIDE */ &&\r\n                !this.locateInsideThresholdBoundary();\r\n            if (enteredThresholdBoundary) {\r\n                this.setThresholdBoundary(1 /* INSIDE */);\r\n                scroll_1.trigger(ENTER_THRESHOLD_EVENT);\r\n            }\r\n            if (leftThresholdBoundary) {\r\n                this.setThresholdBoundary(2 /* OUTSIDE */);\r\n                scroll_1.trigger(LEAVE_THRESHOLD_EVENT);\r\n            }\r\n        }\r\n    };\r\n    PullDown.prototype.locateInsideThresholdBoundary = function () {\r\n        return this.scroll.y <= this.options.threshold;\r\n    };\r\n    PullDown.prototype.unwatch = function () {\r\n        var scroll = this.scroll;\r\n        var scroller = scroll.scroller;\r\n        this.watching = false;\r\n        scroller.hooks.off(scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        scroll.off(scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        scroll.off(scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            scroll.off(scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.checkPullDown = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        // check if a real pull down action\r\n        if (this.scroll.y < threshold) {\r\n            return false;\r\n        }\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            this.modifyBehaviorYBoundary(stop);\r\n            this.setPulling(2 /* FETCHING */);\r\n            this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        }\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n        return this.isFetchingStatus();\r\n    };\r\n    PullDown.prototype.isFetchingStatus = function () {\r\n        return this.pulling === 2 /* FETCHING */;\r\n    };\r\n    PullDown.prototype.modifyBehaviorYBoundary = function (stopDistance) {\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        // manually modify minScrollPos for a hang animation\r\n        // to prevent from resetPosition\r\n        this.cachedOriginanMinScrollY = scrollBehaviorY.minScrollPos;\r\n        this.currentMinScrollY = stopDistance;\r\n        scrollBehaviorY.computeBoundary();\r\n    };\r\n    PullDown.prototype.finishPullDown = function () {\r\n        if (this.isFetchingStatus()) {\r\n            var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n            // restore minScrollY since the hang animation has ended\r\n            this.currentMinScrollY = this.cachedOriginanMinScrollY;\r\n            scrollBehaviorY.computeBoundary();\r\n            this.setPulling(0 /* DEFAULT */);\r\n            this.scroll.resetPosition(this.scroll.options.bounceTime, ease.bounce);\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullDown.prototype.openPullDown = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        if (!this.watching) {\r\n            this.watch();\r\n        }\r\n    };\r\n    PullDown.prototype.closePullDown = function () {\r\n        this.unwatch();\r\n    };\r\n    PullDown.prototype.autoPullDownRefresh = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        if (this.isFetchingStatus() || !this.watching) {\r\n            return;\r\n        }\r\n        this.modifyBehaviorYBoundary(stop);\r\n        this.scroll.trigger(this.scroll.eventTypes.scrollStart);\r\n        this.scroll.scrollTo(this.scroll.x, threshold);\r\n        this.setPulling(2 /* FETCHING */);\r\n        this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n    };\r\n    PullDown.pluginName = 'pullDownRefresh';\r\n    return PullDown;\r\n}());\n\nvar sourcePrefix$5 = 'plugins.pullUpLoad';\r\nvar propertiesMap$5 = [\r\n    {\r\n        key: 'finishPullUp',\r\n        name: 'finishPullUp'\r\n    },\r\n    {\r\n        key: 'openPullUp',\r\n        name: 'openPullUp'\r\n    },\r\n    {\r\n        key: 'closePullUp',\r\n        name: 'closePullUp'\r\n    },\r\n    {\r\n        key: 'autoPullUpLoad',\r\n        name: 'autoPullUpLoad'\r\n    }\r\n];\r\nvar propertiesConfig$5 = propertiesMap$5.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$5 + \".\" + item.name\r\n    };\r\n});\n\nvar PULL_UP_HOOKS_NAME = 'pullingUp';\r\nvar PullUp = /** @class */ (function () {\r\n    function PullUp(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = false;\r\n        this.watching = false;\r\n        this.init();\r\n    }\r\n    PullUp.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullUpLoad);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([PULL_UP_HOOKS_NAME]);\r\n        this.scroll.proxy(propertiesConfig$5);\r\n    };\r\n    PullUp.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullUp.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullUp();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n        });\r\n    };\r\n    PullUp.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullUp.prototype.watch = function () {\r\n        if (this.watching) {\r\n            return;\r\n        }\r\n        this.watching = true;\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.unwatch = function () {\r\n        this.watching = false;\r\n        this.scroll.off(this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.checkPullUp = function (pos) {\r\n        var _this = this;\r\n        var threshold = this.options.threshold;\r\n        if (this.scroll.movingDirectionY === 1 /* Positive */ &&\r\n            pos.y <= this.scroll.maxScrollY + threshold) {\r\n            this.pulling = true;\r\n            // must reset pulling after scrollEnd\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.pulling = false;\r\n            });\r\n            this.unwatch();\r\n            this.scroll.trigger(PULL_UP_HOOKS_NAME);\r\n        }\r\n    };\r\n    PullUp.prototype.finishPullUp = function () {\r\n        var _this = this;\r\n        // reset Direction, fix #936\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        if (this.pulling) {\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.watch();\r\n            });\r\n        }\r\n        else {\r\n            this.watch();\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullUp.prototype.openPullUp = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.closePullUp = function () {\r\n        this.unwatch();\r\n    };\r\n    PullUp.prototype.autoPullUpLoad = function () {\r\n        var threshold = this.options.threshold;\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        if (this.pulling || !this.watching) {\r\n            return;\r\n        }\r\n        // simulate a pullUp action\r\n        var NEGATIVE_VALUE = -1;\r\n        var outOfBoundaryPos = scrollBehaviorY.maxScrollPos + threshold + NEGATIVE_VALUE;\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(NEGATIVE_VALUE);\r\n        this.scroll.scrollTo(this.scroll.x, outOfBoundaryPos, this.scroll.options.bounceTime);\r\n    };\r\n    PullUp.pluginName = 'pullUpLoad';\r\n    return PullUp;\r\n}());\n\nvar EventHandler = /** @class */ (function () {\r\n    function EventHandler(indicator, options) {\r\n        this.indicator = indicator;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter(['touchStart', 'touchMove', 'touchEnd']);\r\n        this.registerEvents();\r\n    }\r\n    EventHandler.prototype.registerEvents = function () {\r\n        var _a = this.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicator.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    EventHandler.prototype.BScrollIsDisabled = function () {\r\n        return !this.indicator.scroll.enabled;\r\n    };\r\n    EventHandler.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.initiated = true;\r\n        this.lastPoint = point[this.indicator.keysMap.point];\r\n        this.hooks.trigger(this.hooks.eventTypes.touchStart);\r\n    };\r\n    EventHandler.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointPos = point[this.indicator.keysMap.point];\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var delta = pointPos - this.lastPoint;\r\n        this.lastPoint = pointPos;\r\n        this.hooks.trigger(this.hooks.eventTypes.touchMove, delta);\r\n    };\r\n    EventHandler.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.hooks.trigger(this.hooks.eventTypes.touchEnd);\r\n    };\r\n    EventHandler.prototype.destroy = function () {\r\n        this.startEventRegister.destroy();\r\n        this.moveEventRegister.destroy();\r\n        this.endEventRegister.destroy();\r\n    };\r\n    return EventHandler;\r\n}());\n\nvar Indicator$1 = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.hooksFn = [];\r\n        this.wrapper = options.wrapper;\r\n        this.direction = options.direction;\r\n        this.indicatorEl = this.wrapper.children[0];\r\n        this.keysMap = this.getKeysMap();\r\n        this.handleFade();\r\n        this.handleHooks();\r\n    }\r\n    Indicator.prototype.handleFade = function () {\r\n        if (this.options.fade) {\r\n            this.wrapper.style.opacity = '0';\r\n        }\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var _a = this.options, fade = _a.fade, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            var hasScrollKey = _this.keysMap.hasScroll;\r\n            if (_this.scroll[hasScrollKey]) {\r\n                _this.updatePosition(pos);\r\n            }\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n        if (fade) {\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollEnd, function () {\r\n                _this.fade();\r\n            });\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollStart, function () {\r\n                _this.fade(true);\r\n            });\r\n            // for mousewheel event\r\n            if (scroll.eventTypes.mousewheelStart &&\r\n                scroll.eventTypes.mousewheelEnd) {\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelStart, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelMove, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelEnd, function () {\r\n                    _this.fade();\r\n                });\r\n            }\r\n        }\r\n        if (interactive) {\r\n            var _b = this.scroll.options, disableMouse = _b.disableMouse, disableTouch = _b.disableTouch;\r\n            this.eventHandler = new EventHandler(this, {\r\n                disableMouse: disableMouse,\r\n                disableTouch: disableTouch,\r\n            });\r\n            var eventHandlerHooks = this.eventHandler.hooks;\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchStart, this.startHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchMove, this.moveHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchEnd, this.endHandler);\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.bindClick();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.bindClick = function () {\r\n        var wrapper = this.wrapper;\r\n        this.clickEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'click',\r\n                handler: this.handleClick.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Indicator.prototype.handleClick = function (e) {\r\n        var newPos = this.calculateclickOffsetPos(e);\r\n        var _a = this.scroll, x = _a.x, y = _a.y;\r\n        x = this.direction === \"horizontal\" /* Horizontal */ ? newPos : x;\r\n        y = this.direction === \"vertical\" /* Vertical */ ? newPos : y;\r\n        this.scroll.scrollTo(x, y, this.options.scrollbarTrackOffsetTime);\r\n    };\r\n    Indicator.prototype.calculateclickOffsetPos = function (e) {\r\n        var _a = this.keysMap, poinKey = _a.point, domRectKey = _a.domRect;\r\n        var scrollbarTrackOffsetType = this.options.scrollbarTrackOffsetType;\r\n        var clickPointOffset = e[poinKey] - this.wrapperRect[domRectKey];\r\n        var scrollToWhere = clickPointOffset < this.currentPos ? -1 /* Up */ : 1 /* Down */;\r\n        var delta = 0;\r\n        var currentPos = this.currentPos;\r\n        if (scrollbarTrackOffsetType === \"step\" /* Step */) {\r\n            delta = this.scrollInfo.baseSize * scrollToWhere;\r\n        }\r\n        else {\r\n            delta = 0;\r\n            currentPos = clickPointOffset;\r\n        }\r\n        return this.newPos(currentPos, delta, this.scrollInfo);\r\n    };\r\n    Indicator.prototype.getKeysMap = function () {\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            return {\r\n                hasScroll: 'hasVerticalScroll',\r\n                size: 'height',\r\n                wrapperSize: 'clientHeight',\r\n                scrollerSize: 'scrollerHeight',\r\n                maxScrollPos: 'maxScrollY',\r\n                pos: 'y',\r\n                point: 'pageY',\r\n                translateProperty: 'translateY',\r\n                domRect: 'top',\r\n            };\r\n        }\r\n        return {\r\n            hasScroll: 'hasHorizontalScroll',\r\n            size: 'width',\r\n            wrapperSize: 'clientWidth',\r\n            scrollerSize: 'scrollerWidth',\r\n            maxScrollPos: 'maxScrollX',\r\n            pos: 'x',\r\n            point: 'pageX',\r\n            translateProperty: 'translateX',\r\n            domRect: 'left',\r\n        };\r\n    };\r\n    Indicator.prototype.fade = function (visible) {\r\n        var _a = this.options, fadeInTime = _a.fadeInTime, fadeOutTime = _a.fadeOutTime;\r\n        var time = visible ? fadeInTime : fadeOutTime;\r\n        var wrapper = this.wrapper;\r\n        wrapper.style[style.transitionDuration] = time + 'ms';\r\n        wrapper.style.opacity = visible ? '1' : '0';\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var hasScrollKey = this.keysMap.hasScroll;\r\n        var scroll = this.scroll;\r\n        var x = scroll.x, y = scroll.y;\r\n        this.wrapperRect = this.wrapper.getBoundingClientRect();\r\n        if (this.canScroll(scroll[hasScrollKey])) {\r\n            var _a = this.keysMap, wrapperSizeKey = _a.wrapperSize, scrollerSizeKey = _a.scrollerSize, maxScrollPosKey = _a.maxScrollPos;\r\n            this.scrollInfo = this.refreshScrollInfo(this.wrapper[wrapperSizeKey], scroll[scrollerSizeKey], scroll[maxScrollPosKey], this.indicatorEl[wrapperSizeKey]);\r\n            this.updatePosition({\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.canScroll = function (hasScroll) {\r\n        this.wrapper.style.display = hasScroll ? 'block' : 'none';\r\n        return hasScroll;\r\n    };\r\n    Indicator.prototype.refreshScrollInfo = function (wrapperSize, scrollerSize, maxScrollPos, indicatorElSize) {\r\n        var baseSize = Math.max(Math.round((wrapperSize * wrapperSize) / (scrollerSize || wrapperSize || 1)), this.options.minSize);\r\n        if (this.options.isCustom) {\r\n            baseSize = indicatorElSize;\r\n        }\r\n        var maxIndicatorScrollPos = wrapperSize - baseSize;\r\n        // sizeRatio is negative\r\n        var sizeRatio = maxIndicatorScrollPos / maxScrollPos;\r\n        return {\r\n            baseSize: baseSize,\r\n            maxScrollPos: maxIndicatorScrollPos,\r\n            minScrollPos: 0,\r\n            sizeRatio: sizeRatio,\r\n        };\r\n    };\r\n    Indicator.prototype.updatePosition = function (point) {\r\n        var _a = this.caculatePosAndSize(point, this.scrollInfo), pos = _a.pos, size = _a.size;\r\n        this.refreshStyle(size, pos);\r\n        this.currentPos = pos;\r\n    };\r\n    Indicator.prototype.caculatePosAndSize = function (point, scrollInfo) {\r\n        var posKey = this.keysMap.pos;\r\n        var sizeRatio = scrollInfo.sizeRatio, baseSize = scrollInfo.baseSize, maxScrollPos = scrollInfo.maxScrollPos, minScrollPos = scrollInfo.minScrollPos;\r\n        var minSize = this.options.minSize;\r\n        var pos = Math.round(sizeRatio * point[posKey]);\r\n        var size;\r\n        // when out of boundary, slow down size reduction\r\n        if (pos < minScrollPos) {\r\n            size = Math.max(baseSize + pos * 3, minSize);\r\n            pos = minScrollPos;\r\n        }\r\n        else if (pos > maxScrollPos) {\r\n            size = Math.max(baseSize - (pos - maxScrollPos) * 3, minSize);\r\n            pos = maxScrollPos + baseSize - size;\r\n        }\r\n        else {\r\n            size = baseSize;\r\n        }\r\n        return {\r\n            pos: pos,\r\n            size: size,\r\n        };\r\n    };\r\n    Indicator.prototype.refreshStyle = function (size, pos) {\r\n        var _a = this.keysMap, translatePropertyKey = _a.translateProperty, sizeKey = _a.size;\r\n        var translateZ = this.scroll.options.translateZ;\r\n        this.indicatorEl.style[sizeKey] = size + \"px\";\r\n        this.indicatorEl.style[style.transform] = translatePropertyKey + \"(\" + pos + \"px)\" + translateZ;\r\n    };\r\n    Indicator.prototype.startHandler = function () {\r\n        this.moved = false;\r\n        this.startTime = getNow();\r\n        this.transitionTime();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.moveHandler = function (delta) {\r\n        if (!this.moved && !this.indicatorNotMoved(delta)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.newPos(this.currentPos, delta, this.scrollInfo);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.endHandler = function () {\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (delta) {\r\n        var currentPos = this.currentPos;\r\n        var _a = this.scrollInfo, maxScrollPos = _a.maxScrollPos, minScrollPos = _a.minScrollPos;\r\n        var notMoved = (currentPos === minScrollPos && delta <= 0) ||\r\n            (currentPos === maxScrollPos && delta >= 0);\r\n        return notMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, x = _a.x, y = _a.y, options = _a.options, scroller = _a.scroller, maxScrollY = _a.maxScrollY, minScrollY = _a.minScrollY, maxScrollX = _a.maxScrollX, minScrollX = _a.minScrollX;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        var position = { x: x, y: y };\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            position.y = between(newPos, maxScrollY, minScrollY);\r\n        }\r\n        else {\r\n            position.x = between(newPos, maxScrollX, minScrollX);\r\n        }\r\n        scroller.translater.translate(position);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n        }\r\n    };\r\n    Indicator.prototype.newPos = function (currentPos, delta, scrollInfo) {\r\n        var maxScrollPos = scrollInfo.maxScrollPos, sizeRatio = scrollInfo.sizeRatio, minScrollPos = scrollInfo.minScrollPos;\r\n        var newPos = currentPos + delta;\r\n        newPos = between(newPos, minScrollPos, maxScrollPos);\r\n        return Math.round(newPos / sizeRatio);\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        var _a = this.options, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable, isCustom = _a.isCustom;\r\n        if (interactive) {\r\n            this.eventHandler.destroy();\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.clickEventRegister.destroy();\r\n        }\r\n        if (!isCustom) {\r\n            this.wrapper.parentNode.removeChild(this.wrapper);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar ScrollBar = /** @class */ (function () {\r\n    function ScrollBar(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleOptions();\r\n        this.createIndicators();\r\n        this.handleHooks();\r\n    }\r\n    ScrollBar.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        scroll.hooks.on(scroll.hooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n        });\r\n    };\r\n    ScrollBar.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.scrollbar === true\r\n            ? {}\r\n            : this.scroll.options.scrollbar);\r\n        var defaultOptions = {\r\n            fade: true,\r\n            fadeInTime: 250,\r\n            fadeOutTime: 500,\r\n            interactive: false,\r\n            customElements: [],\r\n            minSize: 8,\r\n            scrollbarTrackClickable: false,\r\n            scrollbarTrackOffsetType: \"step\" /* Step */,\r\n            scrollbarTrackOffsetTime: 300,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ScrollBar.prototype.createIndicators = function () {\r\n        var indicatorOptions;\r\n        var scroll = this.scroll;\r\n        var indicators = [];\r\n        var scrollDirectionConfigKeys = ['scrollX', 'scrollY'];\r\n        var indicatorDirections = [\r\n            \"horizontal\" /* Horizontal */,\r\n            \"vertical\" /* Vertical */,\r\n        ];\r\n        var customScrollbarEls = this.options.customElements;\r\n        for (var i = 0; i < scrollDirectionConfigKeys.length; i++) {\r\n            var key = scrollDirectionConfigKeys[i];\r\n            // wanna scroll in specified direction\r\n            if (scroll.options[key]) {\r\n                var customElement = customScrollbarEls.shift();\r\n                var direction = indicatorDirections[i];\r\n                var isCustom = false;\r\n                var scrollbarWrapper = customElement\r\n                    ? customElement\r\n                    : this.createScrollbarElement(direction);\r\n                // internal scrollbar\r\n                if (scrollbarWrapper !== customElement) {\r\n                    scroll.wrapper.appendChild(scrollbarWrapper);\r\n                }\r\n                else {\r\n                    // custom scrollbar passed by users\r\n                    isCustom = true;\r\n                }\r\n                indicatorOptions = __assign(__assign({ wrapper: scrollbarWrapper, direction: direction }, this.options), { isCustom: isCustom });\r\n                indicators.push(new Indicator$1(scroll, indicatorOptions));\r\n            }\r\n        }\r\n        this.indicators = indicators;\r\n    };\r\n    ScrollBar.prototype.createScrollbarElement = function (direction, scrollbarTrackClickable) {\r\n        if (scrollbarTrackClickable === void 0) { scrollbarTrackClickable = this.options.scrollbarTrackClickable; }\r\n        var scrollbarWrapperEl = document.createElement('div');\r\n        var scrollbarIndicatorEl = document.createElement('div');\r\n        scrollbarWrapperEl.style.cssText =\r\n            'position:absolute;z-index:9999;overflow:hidden;';\r\n        scrollbarIndicatorEl.style.cssText =\r\n            'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\r\n        scrollbarIndicatorEl.className = 'bscroll-indicator';\r\n        if (direction === \"horizontal\" /* Horizontal */) {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'height:7px;left:2px;right:2px;bottom:0;';\r\n            scrollbarIndicatorEl.style.height = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-horizontal-scrollbar';\r\n        }\r\n        else {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'width:7px;bottom:2px;top:2px;right:1px;';\r\n            scrollbarIndicatorEl.style.width = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-vertical-scrollbar';\r\n        }\r\n        if (!scrollbarTrackClickable) {\r\n            scrollbarWrapperEl.style.cssText += 'pointer-events:none;';\r\n        }\r\n        scrollbarWrapperEl.appendChild(scrollbarIndicatorEl);\r\n        return scrollbarWrapperEl;\r\n    };\r\n    ScrollBar.pluginName = 'scrollbar';\r\n    return ScrollBar;\r\n}());\n\nvar PagesMatrix = /** @class */ (function () {\r\n    function PagesMatrix(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    PagesMatrix.prototype.init = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.wrapperWidth = scrollBehaviorX.wrapperSize;\r\n        this.wrapperHeight = scrollBehaviorY.wrapperSize;\r\n        this.scrollerHeight = scrollBehaviorY.contentSize;\r\n        this.scrollerWidth = scrollBehaviorX.contentSize;\r\n        this.pages = this.buildPagesMatrix(this.wrapperWidth, this.wrapperHeight);\r\n        this.pageLengthOfX = this.pages ? this.pages.length : 0;\r\n        this.pageLengthOfY = this.pages && this.pages[0] ? this.pages[0].length : 0;\r\n    };\r\n    PagesMatrix.prototype.getPageStats = function (pageX, pageY) {\r\n        return this.pages[pageX][pageY];\r\n    };\r\n    PagesMatrix.prototype.getNearestPageIndex = function (x, y) {\r\n        var pageX = 0;\r\n        var pageY = 0;\r\n        var l = this.pages.length;\r\n        for (; pageX < l - 1; pageX++) {\r\n            if (x >= this.pages[pageX][0].cx) {\r\n                break;\r\n            }\r\n        }\r\n        l = this.pages[pageX].length;\r\n        for (; pageY < l - 1; pageY++) {\r\n            if (y >= this.pages[0][pageY].cy) {\r\n                break;\r\n            }\r\n        }\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    // (n x 1) matrix for horizontal scroll or\r\n    // (1 * n) matrix for vertical scroll\r\n    PagesMatrix.prototype.buildPagesMatrix = function (stepX, stepY) {\r\n        var pages = [];\r\n        var x = 0;\r\n        var y;\r\n        var cx;\r\n        var cy;\r\n        var i = 0;\r\n        var l;\r\n        var maxScrollPosX = this.scroll.scroller.scrollBehaviorX.maxScrollPos;\r\n        var maxScrollPosY = this.scroll.scroller.scrollBehaviorY.maxScrollPos;\r\n        cx = Math.round(stepX / 2);\r\n        cy = Math.round(stepY / 2);\r\n        while (x > -this.scrollerWidth) {\r\n            pages[i] = [];\r\n            l = 0;\r\n            y = 0;\r\n            while (y > -this.scrollerHeight) {\r\n                pages[i][l] = {\r\n                    x: Math.max(x, maxScrollPosX),\r\n                    y: Math.max(y, maxScrollPosY),\r\n                    width: stepX,\r\n                    height: stepY,\r\n                    cx: x - cx,\r\n                    cy: y - cy,\r\n                };\r\n                y -= stepY;\r\n                l++;\r\n            }\r\n            x -= stepX;\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    return PagesMatrix;\r\n}());\n\nvar BASE_PAGE = {\r\n    pageX: 0,\r\n    pageY: 0,\r\n    x: 0,\r\n    y: 0,\r\n};\n\nvar SlidePages = /** @class */ (function () {\r\n    function SlidePages(scroll, slideOptions) {\r\n        this.scroll = scroll;\r\n        this.slideOptions = slideOptions;\r\n        this.slideX = false;\r\n        this.slideY = false;\r\n        this.currentPage = extend({}, BASE_PAGE);\r\n    }\r\n    SlidePages.prototype.refresh = function () {\r\n        this.pagesMatrix = new PagesMatrix(this.scroll);\r\n        this.checkSlideLoop();\r\n        this.currentPage = this.getAdjustedCurrentPage();\r\n    };\r\n    SlidePages.prototype.getAdjustedCurrentPage = function () {\r\n        var _a = this.currentPage, pageX = _a.pageX, pageY = _a.pageY;\r\n        // page index should be handled\r\n        // because page counts may reduce\r\n        pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 1);\r\n        pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 1);\r\n        // loop scene should also be respected\r\n        // because clonedNode will cause pageLength increasing\r\n        if (this.loopX) {\r\n            pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return { pageX: pageX, pageY: pageY, x: x, y: y };\r\n    };\r\n    SlidePages.prototype.setCurrentPage = function (newPage) {\r\n        this.currentPage = newPage;\r\n    };\r\n    SlidePages.prototype.getInternalPage = function (pageX, pageY) {\r\n        if (pageX >= this.pagesMatrix.pageLengthOfX) {\r\n            pageX = this.pagesMatrix.pageLengthOfX - 1;\r\n        }\r\n        else if (pageX < 0) {\r\n            pageX = 0;\r\n        }\r\n        if (pageY >= this.pagesMatrix.pageLengthOfY) {\r\n            pageY = this.pagesMatrix.pageLengthOfY - 1;\r\n        }\r\n        else if (pageY < 0) {\r\n            pageY = 0;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(pageX, pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getInitialPage = function (showFirstPage, firstInitialised) {\r\n        if (showFirstPage === void 0) { showFirstPage = false; }\r\n        if (firstInitialised === void 0) { firstInitialised = false; }\r\n        var _a = this.slideOptions, startPageXIndex = _a.startPageXIndex, startPageYIndex = _a.startPageYIndex;\r\n        var firstPageX = this.loopX ? 1 : 0;\r\n        var firstPageY = this.loopY ? 1 : 0;\r\n        var pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n        var pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        if (firstInitialised) {\r\n            pageX = this.loopX ? startPageXIndex + 1 : startPageXIndex;\r\n            pageY = this.loopY ? startPageYIndex + 1 : startPageYIndex;\r\n        }\r\n        else {\r\n            pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n            pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getExposedPage = function (page) {\r\n        var exposedPage = extend({}, page);\r\n        // only pageX or pageY need fix\r\n        if (this.loopX) {\r\n            exposedPage.pageX = this.fixedPage(exposedPage.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            exposedPage.pageY = this.fixedPage(exposedPage.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        return exposedPage;\r\n    };\r\n    SlidePages.prototype.getExposedPageByPageIndex = function (pageIndexX, pageIndexY) {\r\n        var page = {\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n        if (this.loopX) {\r\n            page.pageX = pageIndexX + 1;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = pageIndexY + 1;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(page.pageX, page.pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getWillChangedPage = function (page) {\r\n        page = extend({}, page);\r\n        // Page need fix\r\n        if (this.loopX) {\r\n            page.pageX = this.fixedPage(page.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n            page.x = this.pagesMatrix.getPageStats(page.pageX + 1, 0).x;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = this.fixedPage(page.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n            page.y = this.pagesMatrix.getPageStats(0, page.pageY + 1).y;\r\n        }\r\n        return page;\r\n    };\r\n    SlidePages.prototype.fixedPage = function (page, realPageLen) {\r\n        var pageIndex = [];\r\n        for (var i = 0; i < realPageLen; i++) {\r\n            pageIndex.push(i);\r\n        }\r\n        pageIndex.unshift(realPageLen - 1);\r\n        pageIndex.push(0);\r\n        return pageIndex[page];\r\n    };\r\n    SlidePages.prototype.getPageStats = function () {\r\n        return this.pagesMatrix.getPageStats(this.currentPage.pageX, this.currentPage.pageY);\r\n    };\r\n    SlidePages.prototype.getValidPageIndex = function (x, y) {\r\n        var lastX = this.pagesMatrix.pageLengthOfX - 1;\r\n        var lastY = this.pagesMatrix.pageLengthOfY - 1;\r\n        var firstX = 0;\r\n        var firstY = 0;\r\n        if (this.loopX) {\r\n            x += 1;\r\n            firstX = firstX + 1;\r\n            lastX = lastX - 1;\r\n        }\r\n        if (this.loopY) {\r\n            y += 1;\r\n            firstY = firstY + 1;\r\n            lastY = lastY - 1;\r\n        }\r\n        x = between(x, firstX, lastX);\r\n        y = between(y, firstY, lastY);\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.nextPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"positive\" /* Positive */);\r\n    };\r\n    SlidePages.prototype.prevPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"negative\" /* Negative */);\r\n    };\r\n    SlidePages.prototype.getNearestPage = function (x, y) {\r\n        var pageIndex = this.pagesMatrix.getNearestPageIndex(x, y);\r\n        var pageX = pageIndex.pageX, pageY = pageIndex.pageY;\r\n        var newX = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var newY = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getPageByDirection = function (page, directionX, directionY) {\r\n        var pageX = page.pageX, pageY = page.pageY;\r\n        if (pageX === this.currentPage.pageX) {\r\n            pageX = between(pageX + directionX, 0, this.pagesMatrix.pageLengthOfX - 1);\r\n        }\r\n        if (pageY === this.currentPage.pageY) {\r\n            pageY = between(pageY + directionY, 0, this.pagesMatrix.pageLengthOfY - 1);\r\n        }\r\n        var x = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var y = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.resetLoopPage = function () {\r\n        if (this.loopX) {\r\n            if (this.currentPage.pageX === 0) {\r\n                return {\r\n                    pageX: this.pagesMatrix.pageLengthOfX - 2,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n            if (this.currentPage.pageX === this.pagesMatrix.pageLengthOfX - 1) {\r\n                return {\r\n                    pageX: 1,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n        }\r\n        if (this.loopY) {\r\n            if (this.currentPage.pageY === 0) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: this.pagesMatrix.pageLengthOfY - 2,\r\n                };\r\n            }\r\n            if (this.currentPage.pageY === this.pagesMatrix.pageLengthOfY - 1) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: 1,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    SlidePages.prototype.getPageIndexByDirection = function (direction) {\r\n        var x = this.currentPage.pageX;\r\n        var y = this.currentPage.pageY;\r\n        if (this.slideX) {\r\n            x = direction === \"negative\" /* Negative */ ? x - 1 : x + 1;\r\n        }\r\n        if (this.slideY) {\r\n            y = direction === \"negative\" /* Negative */ ? y - 1 : y + 1;\r\n        }\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.checkSlideLoop = function () {\r\n        this.wannaLoop = this.slideOptions.loop;\r\n        if (this.pagesMatrix.pageLengthOfX > 1) {\r\n            this.slideX = true;\r\n        }\r\n        else {\r\n            this.slideX = false;\r\n        }\r\n        if (this.pagesMatrix.pages[0] && this.pagesMatrix.pageLengthOfY > 1) {\r\n            this.slideY = true;\r\n        }\r\n        else {\r\n            this.slideY = false;\r\n        }\r\n        this.loopX = this.wannaLoop && this.slideX;\r\n        this.loopY = this.wannaLoop && this.slideY;\r\n        if (this.slideX && this.slideY) {\r\n            warn('slide does not support two direction at the same time.');\r\n        }\r\n    };\r\n    return SlidePages;\r\n}());\n\nvar sourcePrefix$4 = 'plugins.slide';\r\nvar propertiesMap$4 = [\r\n    {\r\n        key: 'next',\r\n        name: 'next',\r\n    },\r\n    {\r\n        key: 'prev',\r\n        name: 'prev',\r\n    },\r\n    {\r\n        key: 'goToPage',\r\n        name: 'goToPage',\r\n    },\r\n    {\r\n        key: 'getCurrentPage',\r\n        name: 'getCurrentPage',\r\n    },\r\n    {\r\n        key: 'startPlay',\r\n        name: 'startPlay',\r\n    },\r\n    {\r\n        key: 'pausePlay',\r\n        name: 'pausePlay',\r\n    },\r\n];\r\nvar propertiesConfig$4 = propertiesMap$4.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$4 + \".\" + item.name,\r\n    };\r\n});\n\nvar samePage = function (p1, p2) {\r\n    return p1.pageX === p2.pageX && p1.pageY === p2.pageY;\r\n};\r\nvar Slide = /** @class */ (function () {\r\n    function Slide(scroll) {\r\n        this.scroll = scroll;\r\n        this.cachedClonedPageDOM = [];\r\n        this.resetLooping = false;\r\n        this.autoplayTimer = 0;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.init();\r\n    }\r\n    Slide.prototype.satisfyInitialization = function () {\r\n        if (this.scroll.scroller.content.children.length <= 0) {\r\n            warn(\"slide need at least one slide page to be initialised.\" +\r\n                \"please check your DOM layout.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Slide.prototype.init = function () {\r\n        this.willChangeToPage = extend({}, BASE_PAGE);\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.createPages();\r\n    };\r\n    Slide.prototype.createPages = function () {\r\n        this.pages = new SlidePages(this.scroll, this.options);\r\n    };\r\n    Slide.prototype.handleBScroll = function () {\r\n        this.scroll.registerType(['slideWillChange', 'slidePageChanged']);\r\n        this.scroll.proxy(propertiesConfig$4);\r\n    };\r\n    Slide.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.slide === true\r\n            ? {}\r\n            : this.scroll.options.slide);\r\n        var defaultOptions = {\r\n            loop: true,\r\n            threshold: 0.1,\r\n            speed: 400,\r\n            easing: ease.bounce,\r\n            listenFlick: true,\r\n            autoplay: true,\r\n            interval: 3000,\r\n            startPageXIndex: 0,\r\n            startPageYIndex: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Slide.prototype.handleLoop = function (prevSlideContent) {\r\n        var loop = this.options.loop;\r\n        var slideContent = this.scroll.scroller.content;\r\n        var currentSlidePagesLength = slideContent.children.length;\r\n        // only should respect loop scene\r\n        if (loop) {\r\n            if (slideContent !== prevSlideContent) {\r\n                this.resetLoopChangedStatus();\r\n                this.removeClonedSlidePage(prevSlideContent);\r\n                currentSlidePagesLength > 1 &&\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n            }\r\n            else {\r\n                // many pages reduce to one page\r\n                if (currentSlidePagesLength === 3 && this.initialised) {\r\n                    this.removeClonedSlidePage(slideContent);\r\n                    this.moreToOnePageInLoop = true;\r\n                    this.oneToMorePagesInLoop = false;\r\n                }\r\n                else if (currentSlidePagesLength > 1) {\r\n                    // one page increases to many page\r\n                    if (this.initialised && this.cachedClonedPageDOM.length === 0) {\r\n                        this.oneToMorePagesInLoop = true;\r\n                        this.moreToOnePageInLoop = false;\r\n                    }\r\n                    else {\r\n                        this.removeClonedSlidePage(slideContent);\r\n                        this.resetLoopChangedStatus();\r\n                    }\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n                }\r\n                else {\r\n                    this.resetLoopChangedStatus();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slide.prototype.resetLoopChangedStatus = function () {\r\n        this.moreToOnePageInLoop = false;\r\n        this.oneToMorePagesInLoop = false;\r\n    };\r\n    Slide.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        var scrollerHooks = this.scroll.scroller.hooks;\r\n        var listenFlick = this.options.listenFlick;\r\n        this.prevContent = this.scroll.scroller.content;\r\n        this.hooksFn = [];\r\n        // scroll\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.beforeScrollStart, this.pausePlay);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.modifyCurrentPage);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.startPlay);\r\n        // for mousewheel event\r\n        if (this.scroll.eventTypes.mousewheelMove) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelMove, function () {\r\n                // prevent default action of mousewheelMove\r\n                return true;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function (delta) {\r\n                if (delta.directionX === 1 /* Positive */ ||\r\n                    delta.directionY === 1 /* Positive */) {\r\n                    _this.next();\r\n                }\r\n                if (delta.directionX === -1 /* Negative */ ||\r\n                    delta.directionY === -1 /* Negative */) {\r\n                    _this.prev();\r\n                }\r\n            });\r\n        }\r\n        // scrollHooks\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refreshHandler);\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.destroy, this.destroy);\r\n        // scroller\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.beforeRefresh, function () {\r\n            _this.handleLoop(_this.prevContent);\r\n            _this.setSlideInlineStyle();\r\n        });\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.momentum, this.modifyScrollMetaHandler);\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.scroll, this.scrollHandler);\r\n        // a click operation will clearTimer, so restart a new one\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.checkClick, this.startPlay);\r\n        if (listenFlick) {\r\n            this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.flick, this.flickHandler);\r\n        }\r\n    };\r\n    Slide.prototype.startPlay = function () {\r\n        var _this = this;\r\n        var _a = this.options, interval = _a.interval, autoplay = _a.autoplay;\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n            this.autoplayTimer = window.setTimeout(function () {\r\n                _this.next();\r\n            }, interval);\r\n        }\r\n    };\r\n    Slide.prototype.pausePlay = function () {\r\n        if (this.options.autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n    };\r\n    Slide.prototype.setSlideInlineStyle = function () {\r\n        var styleConfigurations = [\r\n            {\r\n                direction: 'scrollX',\r\n                sizeType: 'offsetWidth',\r\n                styleType: 'width',\r\n            },\r\n            {\r\n                direction: 'scrollY',\r\n                sizeType: 'offsetHeight',\r\n                styleType: 'height',\r\n            },\r\n        ];\r\n        var _a = this.scroll.scroller, slideContent = _a.content, slideWrapper = _a.wrapper;\r\n        var scrollOptions = this.scroll.options;\r\n        styleConfigurations.forEach(function (_a) {\r\n            var direction = _a.direction, sizeType = _a.sizeType, styleType = _a.styleType;\r\n            // wanna scroll in this direction\r\n            if (scrollOptions[direction]) {\r\n                var size = slideWrapper[sizeType];\r\n                var children = slideContent.children;\r\n                var length_1 = children.length;\r\n                for (var i = 0; i < length_1; i++) {\r\n                    var slidePageDOM = children[i];\r\n                    slidePageDOM.style[styleType] = size + 'px';\r\n                }\r\n                slideContent.style[styleType] = size * length_1 + 'px';\r\n            }\r\n        });\r\n    };\r\n    Slide.prototype.next = function (time, easing) {\r\n        var _a = this.pages.nextPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.prev = function (time, easing) {\r\n        var _a = this.pages.prevPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.goToPage = function (pageX, pageY, time, easing) {\r\n        var pageIndex = this.pages.getValidPageIndex(pageX, pageY);\r\n        this.goTo(pageIndex.pageX, pageIndex.pageY, time, easing);\r\n    };\r\n    Slide.prototype.getCurrentPage = function () {\r\n        return this.exposedPage || this.pages.getInitialPage(false, true);\r\n    };\r\n    Slide.prototype.setCurrentPage = function (page) {\r\n        this.pages.setCurrentPage(page);\r\n        this.exposedPage = this.pages.getExposedPage(page);\r\n    };\r\n    Slide.prototype.nearestPage = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var maxScrollPosX = scrollBehaviorX.maxScrollPos, minScrollPosX = scrollBehaviorX.minScrollPos;\r\n        var maxScrollPosY = scrollBehaviorY.maxScrollPos, minScrollPosY = scrollBehaviorY.minScrollPos;\r\n        return this.pages.getNearestPage(between(x, maxScrollPosX, minScrollPosX), between(y, maxScrollPosY, minScrollPosY));\r\n    };\r\n    Slide.prototype.satisfyThreshold = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var satisfied = true;\r\n        if (Math.abs(x - scrollBehaviorX.absStartPos) <= this.thresholdX &&\r\n            Math.abs(y - scrollBehaviorY.absStartPos) <= this.thresholdY) {\r\n            satisfied = false;\r\n        }\r\n        return satisfied;\r\n    };\r\n    Slide.prototype.refreshHandler = function (content) {\r\n        var _this = this;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.pages.refresh();\r\n        this.computeThreshold();\r\n        var contentChanged = (this.contentChanged = this.prevContent !== content);\r\n        if (contentChanged) {\r\n            this.prevContent = content;\r\n        }\r\n        var initPage = this.pages.getInitialPage(this.oneToMorePagesInLoop || this.moreToOnePageInLoop, contentChanged || !this.initialised);\r\n        if (this.initialised) {\r\n            this.goTo(initPage.pageX, initPage.pageY, 0);\r\n        }\r\n        else {\r\n            this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n                _this.initialised = true;\r\n                position.x = initPage.x;\r\n                position.y = initPage.y;\r\n            });\r\n        }\r\n        this.startPlay();\r\n    };\r\n    Slide.prototype.computeThreshold = function () {\r\n        var threshold = this.options.threshold;\r\n        // Integer\r\n        if (threshold % 1 === 0) {\r\n            this.thresholdX = threshold;\r\n            this.thresholdY = threshold;\r\n        }\r\n        else {\r\n            // decimal\r\n            var _a = this.pages.getPageStats(), width = _a.width, height = _a.height;\r\n            this.thresholdX = Math.round(width * threshold);\r\n            this.thresholdY = Math.round(height * threshold);\r\n        }\r\n    };\r\n    Slide.prototype.cloneFirstAndLastSlidePage = function (slideContent) {\r\n        var children = slideContent.children;\r\n        var preprendDOM = children[children.length - 1].cloneNode(true);\r\n        var appendDOM = children[0].cloneNode(true);\r\n        prepend(preprendDOM, slideContent);\r\n        slideContent.appendChild(appendDOM);\r\n        this.cachedClonedPageDOM = [preprendDOM, appendDOM];\r\n    };\r\n    Slide.prototype.removeClonedSlidePage = function (slideContent) {\r\n        // maybe slideContent has removed from DOM Tree\r\n        var slidePages = (slideContent && slideContent.children) || [];\r\n        if (slidePages.length) {\r\n            this.cachedClonedPageDOM.forEach(function (el) {\r\n                removeChild(slideContent, el);\r\n            });\r\n        }\r\n        this.cachedClonedPageDOM = [];\r\n    };\r\n    Slide.prototype.modifyCurrentPage = function (point) {\r\n        var _a = this.getCurrentPage(), prevExposedPageX = _a.pageX, prevExposedPageY = _a.pageY;\r\n        var newPage = this.nearestPage(point.x, point.y);\r\n        this.setCurrentPage(newPage);\r\n        /* istanbul ignore if */\r\n        if (this.contentChanged) {\r\n            this.contentChanged = false;\r\n            return true;\r\n        }\r\n        var _b = this.getCurrentPage(), currentExposedPageX = _b.pageX, currentExposedPageY = _b.pageY;\r\n        this.pageWillChangeTo(newPage);\r\n        // loop is true, and one page becomes many pages when call bs.refresh\r\n        if (this.oneToMorePagesInLoop) {\r\n            this.oneToMorePagesInLoop = false;\r\n            return true;\r\n        }\r\n        // loop is true, and many page becomes one page when call bs.refresh\r\n        // if prevPage > 0, dispatch slidePageChanged and scrollEnd events\r\n        /* istanbul ignore if */\r\n        if (this.moreToOnePageInLoop &&\r\n            prevExposedPageX === 0 &&\r\n            prevExposedPageY === 0) {\r\n            this.moreToOnePageInLoop = false;\r\n            return true;\r\n        }\r\n        if (prevExposedPageX !== currentExposedPageX ||\r\n            prevExposedPageY !== currentExposedPageY) {\r\n            // only trust pageX & pageY when loop is true\r\n            var page = this.pages.getExposedPageByPageIndex(currentExposedPageX, currentExposedPageY);\r\n            this.scroll.trigger(this.scroll.eventTypes.slidePageChanged, page);\r\n        }\r\n        // triggered by resetLoop\r\n        if (this.resetLooping) {\r\n            this.resetLooping = false;\r\n            return;\r\n        }\r\n        var changePage = this.pages.resetLoopPage();\r\n        if (changePage) {\r\n            this.resetLooping = true;\r\n            this.goTo(changePage.pageX, changePage.pageY, 0);\r\n            // stop user's scrollEnd\r\n            // since it is a seamless scroll\r\n            return true;\r\n        }\r\n    };\r\n    Slide.prototype.goTo = function (pageX, pageY, time, easing) {\r\n        var newPage = this.pages.getInternalPage(pageX, pageY);\r\n        var scrollEasing = easing || this.options.easing || ease.bounce;\r\n        var x = newPage.x, y = newPage.y;\r\n        var deltaX = x - this.scroll.scroller.scrollBehaviorX.currentPos;\r\n        var deltaY = y - this.scroll.scroller.scrollBehaviorY.currentPos;\r\n        /* istanbul ignore if */\r\n        if (!deltaX && !deltaY) {\r\n            this.scroll.scroller.togglePointerEvents(true);\r\n            return;\r\n        }\r\n        time = time === undefined ? this.getEaseTime(deltaX, deltaY) : time;\r\n        this.scroll.scroller.scrollTo(x, y, time, scrollEasing);\r\n    };\r\n    Slide.prototype.flickHandler = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var currentPosX = scrollBehaviorX.currentPos, startPosX = scrollBehaviorX.startPos, directionX = scrollBehaviorX.direction;\r\n        var currentPosY = scrollBehaviorY.currentPos, startPosY = scrollBehaviorY.startPos, directionY = scrollBehaviorY.direction;\r\n        var _b = this.pages.currentPage, pageX = _b.pageX, pageY = _b.pageY;\r\n        var time = this.getEaseTime(currentPosX - startPosX, currentPosY - startPosY);\r\n        this.goTo(pageX + directionX, pageY + directionY, time);\r\n    };\r\n    Slide.prototype.getEaseTime = function (deltaX, deltaY) {\r\n        return (this.options.speed ||\r\n            Math.max(Math.max(Math.min(Math.abs(deltaX), 1000), Math.min(Math.abs(deltaY), 1000)), 300));\r\n    };\r\n    Slide.prototype.modifyScrollMetaHandler = function (scrollMeta) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, animater = _a.animater;\r\n        var newX = scrollMeta.newX;\r\n        var newY = scrollMeta.newY;\r\n        var newPage = this.satisfyThreshold(newX, newY) || animater.forceStopped\r\n            ? this.pages.getPageByDirection(this.nearestPage(newX, newY), scrollBehaviorX.direction, scrollBehaviorY.direction)\r\n            : this.pages.currentPage;\r\n        scrollMeta.time = this.getEaseTime(scrollMeta.newX - newPage.x, scrollMeta.newY - newPage.y);\r\n        scrollMeta.newX = newPage.x;\r\n        scrollMeta.newY = newPage.y;\r\n        scrollMeta.easing = this.options.easing || ease.bounce;\r\n    };\r\n    Slide.prototype.scrollHandler = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (this.satisfyThreshold(x, y)) {\r\n            var newPage = this.nearestPage(x, y);\r\n            this.pageWillChangeTo(newPage);\r\n        }\r\n    };\r\n    Slide.prototype.pageWillChangeTo = function (newPage) {\r\n        var changeToPage = this.pages.getWillChangedPage(newPage);\r\n        if (!samePage(this.willChangeToPage, changeToPage)) {\r\n            this.willChangeToPage = changeToPage;\r\n            this.scroll.trigger(this.scroll.eventTypes.slideWillChange, this.willChangeToPage);\r\n        }\r\n    };\r\n    Slide.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Slide.prototype.destroy = function () {\r\n        var slideContent = this.scroll.scroller.content;\r\n        var _a = this.options, loop = _a.loop, autoplay = _a.autoplay;\r\n        if (loop) {\r\n            this.removeClonedSlidePage(slideContent);\r\n        }\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            if (hooks.eventTypes[hooksName]) {\r\n                hooks.off(hooksName, handlerFn);\r\n            }\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Slide.pluginName = 'slide';\r\n    return Slide;\r\n}());\n\nvar sourcePrefix$3 = 'plugins.wheel';\r\nvar propertiesMap$3 = [\r\n    {\r\n        key: 'wheelTo',\r\n        name: 'wheelTo',\r\n    },\r\n    {\r\n        key: 'getSelectedIndex',\r\n        name: 'getSelectedIndex',\r\n    },\r\n    {\r\n        key: 'restorePosition',\r\n        name: 'restorePosition',\r\n    },\r\n];\r\nvar propertiesConfig$3 = propertiesMap$3.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$3 + \".\" + item.name,\r\n    };\r\n});\n\nvar WHEEL_INDEX_CHANGED_EVENT_NAME = 'wheelIndexChanged';\r\nvar CONSTANTS = {\r\n    rate: 4\r\n};\r\nvar Wheel = /** @class */ (function () {\r\n    function Wheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    Wheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        // init boundary for Wheel\r\n        this.refreshBoundary();\r\n        this.setSelectedIndex(this.options.selectedIndex);\r\n    };\r\n    Wheel.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$3);\r\n        this.scroll.registerType([WHEEL_INDEX_CHANGED_EVENT_NAME]);\r\n    };\r\n    Wheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.wheel === true\r\n            ? {}\r\n            : this.scroll.options.wheel);\r\n        var defaultOptions = {\r\n            wheelWrapperClass: 'wheel-scroll',\r\n            wheelItemClass: 'wheel-item',\r\n            rotate: 25,\r\n            adjustTime: 400,\r\n            selectedIndex: 0,\r\n            wheelDisabledItemClass: 'wheel-disabled-item'\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Wheel.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        var actionsHandler = scroller.actionsHandler, scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY, animater = scroller.animater;\r\n        var prevContent = scroller.content;\r\n        // BScroll\r\n        scroll.on(scroll.eventTypes.scrollEnd, function (position) {\r\n            var index = _this.findNearestValidWheel(position.y).index;\r\n            if (scroller.animater.forceStopped && !_this.isAdjustingPosition) {\r\n                _this.target = _this.items[index];\r\n                // since stopped from an animation.\r\n                // prevent user's scrollEnd callback triggered twice\r\n                return true;\r\n            }\r\n            else {\r\n                _this.setSelectedIndex(index);\r\n                if (_this.isAdjustingPosition) {\r\n                    _this.isAdjustingPosition = false;\r\n                }\r\n            }\r\n        });\r\n        // BScroll.hooks\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh, function (content) {\r\n            if (content !== prevContent) {\r\n                prevContent = content;\r\n                _this.setSelectedIndex(_this.options.selectedIndex, true);\r\n            }\r\n            // rotate all wheel-items\r\n            // because position may not change\r\n            _this.rotateX(_this.scroll.y);\r\n            // check we are stop at a disable item or not\r\n            _this.wheelTo(_this.selectedIndex, 0);\r\n        });\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n            // selectedIndex has higher priority than bs.options.startY\r\n            position.x = 0;\r\n            position.y = -(_this.selectedIndex * _this.itemHeight);\r\n        });\r\n        // Scroller\r\n        scroller.hooks.on(scroller.hooks.eventTypes.checkClick, function () {\r\n            var index = HTMLCollectionToArray(_this.items).indexOf(_this.target);\r\n            if (index === -1)\r\n                return true;\r\n            _this.wheelTo(index, _this.options.adjustTime, ease.swipe);\r\n            return true;\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollTo, function (endPoint) {\r\n            endPoint.y = _this.findNearestValidWheel(endPoint.y).y;\r\n        });\r\n        // when content is scrolling\r\n        // click wheel-item DOM repeatedly and crazily will cause scrollEnd not triggered\r\n        // so reset forceStopped\r\n        scroller.hooks.on(scroller.hooks.eventTypes.minDistanceScroll, function () {\r\n            var animater = scroller.animater;\r\n            if (animater.forceStopped === true) {\r\n                animater.forceStopped = false;\r\n            }\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollToElement, function (el, pos) {\r\n            if (!hasClass(el, _this.options.wheelItemClass)) {\r\n                return true;\r\n            }\r\n            else {\r\n                pos.top = _this.findNearestValidWheel(pos.top).y;\r\n            }\r\n        });\r\n        // ActionsHandler\r\n        actionsHandler.hooks.on(actionsHandler.hooks.eventTypes.beforeStart, function (e) {\r\n            _this.target = e.target;\r\n        });\r\n        // ScrollBehaviorX\r\n        // Wheel has no x direction now\r\n        scrollBehaviorX.hooks.on(scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            boundary.maxScrollPos = 0;\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        // ScrollBehaviorY\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            _this.items = _this.scroll.scroller.content.children;\r\n            _this.checkWheelAllDisabled();\r\n            _this.itemHeight =\r\n                _this.items.length > 0\r\n                    ? scrollBehaviorY.contentSize / _this.items.length\r\n                    : 0;\r\n            boundary.maxScrollPos = -_this.itemHeight * (_this.items.length - 1);\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.momentum, function (momentumInfo) {\r\n            momentumInfo.rate = CONSTANTS.rate;\r\n            momentumInfo.destination = _this.findNearestValidWheel(momentumInfo.destination).y;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.end, function (momentumInfo) {\r\n            var validWheel = _this.findNearestValidWheel(scrollBehaviorY.currentPos);\r\n            momentumInfo.destination = validWheel.y;\r\n            momentumInfo.duration = _this.options.adjustTime;\r\n        });\r\n        // Animater\r\n        animater.hooks.on(animater.hooks.eventTypes.time, function (time) {\r\n            _this.transitionDuration(time);\r\n        });\r\n        animater.hooks.on(animater.hooks.eventTypes.timeFunction, function (easing) {\r\n            _this.timeFunction(easing);\r\n        });\r\n        // bs.stop() to make wheel stop at a correct position when pending\r\n        animater.hooks.on(animater.hooks.eventTypes.callStop, function () {\r\n            var index = _this.findNearestValidWheel(_this.scroll.y).index;\r\n            _this.isAdjustingPosition = true;\r\n            _this.wheelTo(index, 0);\r\n        });\r\n        // Translater\r\n        animater.translater.hooks.on(animater.translater.hooks.eventTypes.translate, function (endPoint) {\r\n            _this.rotateX(endPoint.y);\r\n        });\r\n    };\r\n    Wheel.prototype.refreshBoundary = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, content = _a.content;\r\n        scrollBehaviorX.refresh(content);\r\n        scrollBehaviorY.refresh(content);\r\n    };\r\n    Wheel.prototype.setSelectedIndex = function (index, contentChanged) {\r\n        if (contentChanged === void 0) { contentChanged = false; }\r\n        var prevSelectedIndex = this.selectedIndex;\r\n        this.selectedIndex = index;\r\n        // if content DOM changed, should not trigger event\r\n        if (prevSelectedIndex !== index && !contentChanged) {\r\n            this.scroll.trigger(WHEEL_INDEX_CHANGED_EVENT_NAME, index);\r\n        }\r\n    };\r\n    Wheel.prototype.getSelectedIndex = function () {\r\n        return this.selectedIndex;\r\n    };\r\n    Wheel.prototype.wheelTo = function (index, time, ease) {\r\n        if (index === void 0) { index = 0; }\r\n        if (time === void 0) { time = 0; }\r\n        var y = -index * this.itemHeight;\r\n        this.scroll.scrollTo(0, y, time, ease);\r\n    };\r\n    Wheel.prototype.restorePosition = function () {\r\n        // bs is scrolling\r\n        var isPending = this.scroll.pending;\r\n        if (isPending) {\r\n            var selectedIndex = this.getSelectedIndex();\r\n            this.scroll.scroller.animater.clearTimer();\r\n            this.wheelTo(selectedIndex, 0);\r\n        }\r\n    };\r\n    Wheel.prototype.transitionDuration = function (time) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionDuration] =\r\n                time + 'ms';\r\n        }\r\n    };\r\n    Wheel.prototype.timeFunction = function (easing) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionTimingFunction] = easing;\r\n        }\r\n    };\r\n    Wheel.prototype.rotateX = function (y) {\r\n        var _a = this.options.rotate, rotate = _a === void 0 ? 25 : _a;\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var deg = rotate * (y / this.itemHeight + i);\r\n            // Too small value is invalid in some phones, issue 1026\r\n            var SafeDeg = deg.toFixed(3);\r\n            this.items[i].style[style.transform] = \"rotateX(\" + SafeDeg + \"deg)\";\r\n        }\r\n    };\r\n    Wheel.prototype.findNearestValidWheel = function (y) {\r\n        y = y > 0 ? 0 : y < this.scroll.maxScrollY ? this.scroll.maxScrollY : y;\r\n        var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\r\n        var cacheIndex = currentIndex;\r\n        var items = this.items;\r\n        var wheelDisabledItemClassName = this.options\r\n            .wheelDisabledItemClass;\r\n        // implement web native select element\r\n        // first, check whether there is a enable item whose index is smaller than currentIndex\r\n        // then, check whether there is a enable item whose index is bigger than currentIndex\r\n        // otherwise, there are all disabled items, just keep currentIndex unchange\r\n        while (currentIndex >= 0) {\r\n            if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                break;\r\n            }\r\n            currentIndex--;\r\n        }\r\n        if (currentIndex < 0) {\r\n            currentIndex = cacheIndex;\r\n            while (currentIndex <= items.length - 1) {\r\n                if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                    break;\r\n                }\r\n                currentIndex++;\r\n            }\r\n        }\r\n        // keep it unchange when all the items are disabled\r\n        if (currentIndex === items.length) {\r\n            currentIndex = cacheIndex;\r\n        }\r\n        // when all the items are disabled, selectedIndex should always be -1\r\n        return {\r\n            index: this.wheelItemsAllDisabled ? -1 : currentIndex,\r\n            y: -currentIndex * this.itemHeight\r\n        };\r\n    };\r\n    Wheel.prototype.checkWheelAllDisabled = function () {\r\n        var wheelDisabledItemClassName = this.options.wheelDisabledItemClass;\r\n        var items = this.items;\r\n        this.wheelItemsAllDisabled = true;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (!hasClass(items[i], wheelDisabledItemClassName)) {\r\n                this.wheelItemsAllDisabled = false;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    Wheel.pluginName = 'wheel';\r\n    return Wheel;\r\n}());\n\nvar sourcePrefix$2 = 'plugins.zoom';\r\nvar propertiesMap$2 = [\r\n    {\r\n        key: 'zoomTo',\r\n        name: 'zoomTo'\r\n    }\r\n];\r\nvar propertiesConfig$2 = propertiesMap$2.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$2 + \".\" + item.name\r\n    };\r\n});\n\nvar TWO_FINGERS = 2;\r\nvar RAW_SCALE = 1;\r\nvar Zoom = /** @class */ (function () {\r\n    function Zoom(scroll) {\r\n        this.scroll = scroll;\r\n        this.scale = RAW_SCALE;\r\n        this.prevScale = 1;\r\n        this.init();\r\n    }\r\n    Zoom.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.tryInitialZoomTo(this.zoomOpt);\r\n    };\r\n    Zoom.prototype.zoomTo = function (scale, x, y, bounceTime) {\r\n        var _a = this.resolveOrigin(x, y), originX = _a.originX, originY = _a.originY;\r\n        var origin = {\r\n            x: originX,\r\n            y: originY,\r\n            baseScale: this.scale,\r\n        };\r\n        this._doZoomTo(scale, origin, bounceTime, true);\r\n    };\r\n    Zoom.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$2);\r\n        this.scroll.registerType([\r\n            'beforeZoomStart',\r\n            'zoomStart',\r\n            'zooming',\r\n            'zoomEnd',\r\n        ]);\r\n    };\r\n    Zoom.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.zoom === true\r\n            ? {}\r\n            : this.scroll.options.zoom);\r\n        var defaultOptions = {\r\n            start: 1,\r\n            min: 1,\r\n            max: 4,\r\n            initialOrigin: [0, 0],\r\n            minimalZoomDistance: 5,\r\n            bounceTime: 800,\r\n        };\r\n        this.zoomOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    Zoom.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        this.wrapper = this.scroll.scroller.wrapper;\r\n        this.setTransformOrigin(this.scroll.scroller.content);\r\n        var scrollBehaviorX = scroller.scrollBehaviorX;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.hooksFn = [];\r\n        // BScroll\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.contentChanged, function (content) {\r\n            _this.setTransformOrigin(content);\r\n            _this.scale = RAW_SCALE;\r\n            _this.tryInitialZoomTo(_this.zoomOpt);\r\n        });\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.beforeInitialScrollTo, function () {\r\n            // if perform a zoom action, we should prevent initial scroll when initialised\r\n            if (_this.zoomOpt.start !== RAW_SCALE) {\r\n                return true;\r\n            }\r\n        });\r\n        // enlarge boundary\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorX.contentSize = Math.floor(contentSize.width * _this.scale);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorY.contentSize = Math.floor(contentSize.height * _this.scale);\r\n        });\r\n        // touch event\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.start, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomStart(e);\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeMove, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoom(e);\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeEnd, function (e) {\r\n            var numberOfFingers = _this.fingersOperation();\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomEnd();\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.translater.hooks, scroller.translater.hooks.eventTypes.beforeTranslate, function (transformStyle, point) {\r\n            var scale = point.scale ? point.scale : _this.prevScale;\r\n            _this.prevScale = scale;\r\n            transformStyle.push(\"scale(\" + scale + \")\");\r\n        });\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.scrollEnd, function () {\r\n            if (_this.fingersOperation() === TWO_FINGERS) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zoomEnd, {\r\n                    scale: _this.scale,\r\n                });\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    Zoom.prototype.setTransformOrigin = function (content) {\r\n        content.style[style.transformOrigin] = '0 0';\r\n    };\r\n    Zoom.prototype.tryInitialZoomTo = function (options) {\r\n        var start = options.start, initialOrigin = options.initialOrigin;\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        if (start !== RAW_SCALE) {\r\n            // Movable plugin may wanna modify minScrollPos or maxScrollPos\r\n            // so we force Movable to caculate them\r\n            this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n            this.zoomTo(start, initialOrigin[0], initialOrigin[1], 0);\r\n        }\r\n    };\r\n    // getter or setter operation\r\n    Zoom.prototype.fingersOperation = function (amounts) {\r\n        if (typeof amounts === 'number') {\r\n            this.numberOfFingers = amounts;\r\n        }\r\n        else {\r\n            return this.numberOfFingers;\r\n        }\r\n    };\r\n    Zoom.prototype._doZoomTo = function (scale, origin, time, useCurrentPos) {\r\n        var _this = this;\r\n        if (time === void 0) { time = this.zoomOpt.bounceTime; }\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var fromScale = this.scale;\r\n        var toScale = between(scale, min, max);\r\n        (function () {\r\n            if (time === 0) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                    scale: toScale,\r\n                });\r\n                return;\r\n            }\r\n            if (time > 0) {\r\n                var timer_1;\r\n                var startTime_1 = getNow();\r\n                var endTime_1 = startTime_1 + time;\r\n                var scheduler_1 = function () {\r\n                    var now = getNow();\r\n                    if (now >= endTime_1) {\r\n                        _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                            scale: toScale,\r\n                        });\r\n                        cancelAnimationFrame(timer_1);\r\n                        return;\r\n                    }\r\n                    var ratio = ease.bounce.fn((now - startTime_1) / time);\r\n                    var currentScale = ratio * (toScale - fromScale) + fromScale;\r\n                    _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                        scale: currentScale,\r\n                    });\r\n                    timer_1 = requestAnimationFrame(scheduler_1);\r\n                };\r\n                // start scheduler job\r\n                scheduler_1();\r\n            }\r\n        })();\r\n        // suppose you are zooming by two fingers\r\n        this.fingersOperation(2);\r\n        this._zoomTo(toScale, fromScale, origin, time, useCurrentPos);\r\n    };\r\n    Zoom.prototype._zoomTo = function (toScale, fromScale, origin, time, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var ratio = toScale / origin.baseScale;\r\n        this.setScale(toScale);\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        // position is restrained in boundary\r\n        var newX = this.getNewPos(origin.x, ratio, scrollBehaviorX, true, useCurrentPos);\r\n        var newY = this.getNewPos(origin.y, ratio, scrollBehaviorY, true, useCurrentPos);\r\n        if (scrollBehaviorX.currentPos !== Math.round(newX) ||\r\n            scrollBehaviorY.currentPos !== Math.round(newY) ||\r\n            toScale !== fromScale) {\r\n            scroller.scrollTo(newX, newY, time, ease.bounce, {\r\n                start: {\r\n                    scale: fromScale,\r\n                },\r\n                end: {\r\n                    scale: toScale,\r\n                },\r\n            });\r\n        }\r\n    };\r\n    Zoom.prototype.resolveOrigin = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.contentSize;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.contentSize;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.contentSize\r\n                    : scrollBehaviorY.contentSize;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            originX: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            originY: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Zoom.prototype.zoomStart = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        this.startDistance = this.getFingerDistance(e);\r\n        this.startScale = this.scale;\r\n        var _a = offsetToBody(this.wrapper), left = _a.left, top = _a.top;\r\n        this.origin = {\r\n            x: Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 +\r\n                left -\r\n                this.scroll.x,\r\n            y: Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 +\r\n                top -\r\n                this.scroll.y,\r\n            baseScale: this.startScale,\r\n        };\r\n        this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart);\r\n    };\r\n    Zoom.prototype.zoom = function (e) {\r\n        var currentDistance = this.getFingerDistance(e);\r\n        // at least minimalZoomDistance pixels for the zoom to initiate\r\n        if (!this.zoomed &&\r\n            Math.abs(currentDistance - this.startDistance) <\r\n                this.zoomOpt.minimalZoomDistance) {\r\n            return;\r\n        }\r\n        // when out of boundary , perform a damping algorithm\r\n        var endScale = this.dampingScale((currentDistance / this.startDistance) * this.startScale);\r\n        var ratio = endScale / this.startScale;\r\n        this.setScale(endScale);\r\n        if (!this.zoomed) {\r\n            this.zoomed = true;\r\n            this.scroll.trigger(this.scroll.eventTypes.zoomStart);\r\n        }\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var x = this.getNewPos(this.origin.x, ratio, scrollBehaviorX, false, false);\r\n        var y = this.getNewPos(this.origin.y, ratio, scrollBehaviorY, false, false);\r\n        this.scroll.trigger(this.scroll.eventTypes.zooming, {\r\n            scale: this.scale,\r\n        });\r\n        scroller.translater.translate({ x: x, y: y, scale: endScale });\r\n    };\r\n    Zoom.prototype.zoomEnd = function () {\r\n        if (!this.zoomed)\r\n            return;\r\n        // if out of boundary, do rebound!\r\n        if (this.shouldRebound()) {\r\n            this._doZoomTo(this.scale, this.origin, this.zoomOpt.bounceTime);\r\n            return;\r\n        }\r\n        this.scroll.trigger(this.scroll.eventTypes.zoomEnd, { scale: this.scale });\r\n    };\r\n    Zoom.prototype.getFingerDistance = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\r\n        var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\r\n        return getDistance(deltaX, deltaY);\r\n    };\r\n    Zoom.prototype.shouldRebound = function () {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var currentScale = this.scale;\r\n        // scale exceeded!\r\n        if (currentScale !== between(currentScale, min, max)) {\r\n            return true;\r\n        }\r\n        var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n        // enlarge boundaries manually when zoom is end\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        var xInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        var yInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        return !(xInBoundary && yInBoundary);\r\n    };\r\n    Zoom.prototype.dampingScale = function (scale) {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        if (scale < min) {\r\n            scale = 0.5 * min * Math.pow(2.0, scale / min);\r\n        }\r\n        else if (scale > max) {\r\n            scale = 2.0 * max * Math.pow(0.5, max / scale);\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.setScale = function (scale) {\r\n        this.scale = scale;\r\n    };\r\n    Zoom.prototype.resetBoundaries = function (scrollBehaviorPairs) {\r\n        scrollBehaviorPairs.forEach(function (behavior) { return behavior.computeBoundary(); });\r\n    };\r\n    Zoom.prototype.getNewPos = function (origin, lastScale, scrollBehavior, shouldInBoundary, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var newPos = origin -\r\n            origin * lastScale +\r\n            (useCurrentPos ? scrollBehavior.currentPos : scrollBehavior.startPos);\r\n        if (shouldInBoundary) {\r\n            newPos = between(newPos, scrollBehavior.maxScrollPos, scrollBehavior.minScrollPos);\r\n        }\r\n        // maxScrollPos or minScrollPos maybe a negative or positive digital\r\n        return newPos > 0 ? Math.floor(newPos) : Math.ceil(newPos);\r\n    };\r\n    Zoom.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Zoom.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Zoom.pluginName = 'zoom';\r\n    return Zoom;\r\n}());\n\nvar BScrollFamily = /** @class */ (function () {\r\n    function BScrollFamily(scroll) {\r\n        this.ancestors = [];\r\n        this.descendants = [];\r\n        this.hooksManager = [];\r\n        this.analyzed = false;\r\n        this.selfScroll = scroll;\r\n    }\r\n    BScrollFamily.create = function (scroll) {\r\n        return new BScrollFamily(scroll);\r\n    };\r\n    BScrollFamily.prototype.hasAncestors = function (bscrollFamily) {\r\n        var index = findIndex(this.ancestors, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.hasDescendants = function (bscrollFamily) {\r\n        var index = findIndex(this.descendants, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.addAncestor = function (bscrollFamily, distance) {\r\n        var ancestors = this.ancestors;\r\n        ancestors.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        ancestors.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.addDescendant = function (bscrollFamily, distance) {\r\n        var descendants = this.descendants;\r\n        descendants.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        descendants.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.removeAncestor = function (bscrollFamily) {\r\n        var ancestors = this.ancestors;\r\n        if (ancestors.length) {\r\n            var index = findIndex(this.ancestors, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return ancestors.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.removeDescendant = function (bscrollFamily) {\r\n        var descendants = this.descendants;\r\n        if (descendants.length) {\r\n            var index = findIndex(this.descendants, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return descendants.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.registerHooks = function (hook, eventType, handler) {\r\n        hook.on(eventType, handler);\r\n        this.hooksManager.push([hook, eventType, handler]);\r\n    };\r\n    BScrollFamily.prototype.setAnalyzed = function (flag) {\r\n        if (flag === void 0) { flag = false; }\r\n        this.analyzed = flag;\r\n    };\r\n    BScrollFamily.prototype.purge = function () {\r\n        var _this = this;\r\n        // remove self from graph\r\n        this.ancestors.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeDescendant(_this);\r\n        });\r\n        this.descendants.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeAncestor(_this);\r\n        });\r\n        // remove all hook handlers\r\n        this.hooksManager.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksManager = [];\r\n    };\r\n    return BScrollFamily;\r\n}());\n\nvar sourcePrefix$1 = 'plugins.nestedScroll';\r\nvar propertiesMap$1 = [\r\n    {\r\n        key: 'purgeNestedScroll',\r\n        name: 'purgeNestedScroll',\r\n    },\r\n];\r\nvar propertiesConfig$1 = propertiesMap$1.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$1 + \".\" + item.name,\r\n    };\r\n});\n\nvar DEFAUL_GROUP_ID = 'INTERNAL_NESTED_SCROLL';\r\nvar forceScrollStopHandler = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.pending) {\r\n            scroll.stop();\r\n            scroll.resetPosition();\r\n        }\r\n    });\r\n};\r\nvar enableScrollHander = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        scroll.enable();\r\n    });\r\n};\r\nvar disableScrollHander = function (scrolls, currentScroll) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.hasHorizontalScroll === currentScroll.hasHorizontalScroll ||\r\n            scroll.hasVerticalScroll === currentScroll.hasVerticalScroll) {\r\n            scroll.disable();\r\n        }\r\n    });\r\n};\r\nvar syncTouchstartData = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        var _a = scroll.scroller, actions = _a.actions, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        // prevent click triggering many times\r\n        actions.fingerMoved = true;\r\n        actions.contentMoved = false;\r\n        actions.directionLockAction.reset();\r\n        scrollBehaviorX.start();\r\n        scrollBehaviorY.start();\r\n        scrollBehaviorX.resetStartPos();\r\n        scrollBehaviorY.resetStartPos();\r\n        actions.startTime = +new Date();\r\n    });\r\n};\r\nvar isOutOfBoundary = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY, movingDirectionX = scroll.movingDirectionX, movingDirectionY = scroll.movingDirectionY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x >= minScrollX && movingDirectionX === -1 /* Negative */;\r\n    var outOfRightBoundary = x <= maxScrollX && movingDirectionX === 1 /* Positive */;\r\n    var outOfTopBoundary = y >= minScrollY && movingDirectionY === -1 /* Negative */;\r\n    var outOfBottomBoundary = y <= maxScrollY && movingDirectionY === 1 /* Positive */;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar isResettingPosition = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x > minScrollX;\r\n    var outOfRightBoundary = x < maxScrollX;\r\n    var outOfTopBoundary = y > minScrollY;\r\n    var outOfBottomBoundary = y < maxScrollY;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar resetPositionHandler = function (scroll) {\r\n    scroll.scroller.reflow();\r\n    scroll.resetPosition(0 /* Immediately */);\r\n};\r\nvar calculateDistance = function (childNode, parentNode) {\r\n    var distance = 0;\r\n    var parent = childNode.parentNode;\r\n    while (parent && parent !== parentNode) {\r\n        distance++;\r\n        parent = parent.parentNode;\r\n    }\r\n    return distance;\r\n};\r\nvar NestedScroll = /** @class */ (function () {\r\n    function NestedScroll(scroll) {\r\n        var groupId = this.handleOptions(scroll);\r\n        var instance = NestedScroll.instancesMap[groupId];\r\n        if (!instance) {\r\n            instance = NestedScroll.instancesMap[groupId] = this;\r\n            instance.store = [];\r\n            instance.hooksFn = [];\r\n        }\r\n        instance.init(scroll);\r\n        return instance;\r\n    }\r\n    NestedScroll.getAllNestedScrolls = function () {\r\n        var instancesMap = NestedScroll.instancesMap;\r\n        return Object.keys(instancesMap).map(function (key) { return instancesMap[key]; });\r\n    };\r\n    NestedScroll.purgeAllNestedScrolls = function () {\r\n        var nestedScrolls = NestedScroll.getAllNestedScrolls();\r\n        nestedScrolls.forEach(function (ns) { return ns.purgeNestedScroll(); });\r\n    };\r\n    NestedScroll.prototype.handleOptions = function (scroll) {\r\n        var userOptions = (scroll.options.nestedScroll === true\r\n            ? {}\r\n            : scroll.options.nestedScroll);\r\n        var defaultOptions = {\r\n            groupId: DEFAUL_GROUP_ID,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        var groupIdType = typeof this.options.groupId;\r\n        if (groupIdType !== 'string' && groupIdType !== 'number') {\r\n            warn('groupId must be string or number for NestedScroll plugin');\r\n        }\r\n        return this.options.groupId;\r\n    };\r\n    NestedScroll.prototype.init = function (scroll) {\r\n        scroll.proxy(propertiesConfig$1);\r\n        this.addBScroll(scroll);\r\n        this.buildBScrollGraph();\r\n        this.analyzeBScrollGraph();\r\n        this.ensureEventInvokeSequence();\r\n        this.handleHooks(scroll);\r\n    };\r\n    NestedScroll.prototype.handleHooks = function (scroll) {\r\n        var _this = this;\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.destroy, function () {\r\n            _this.deleteScroll(scroll);\r\n        });\r\n    };\r\n    NestedScroll.prototype.deleteScroll = function (scroll) {\r\n        var wrapper = scroll.wrapper;\r\n        wrapper.isBScrollContainer = undefined;\r\n        var store = this.store;\r\n        var hooksFn = this.hooksFn;\r\n        var i = findIndex(store, function (bscrollFamily) {\r\n            return bscrollFamily.selfScroll === scroll;\r\n        });\r\n        if (i > -1) {\r\n            var bscrollFamily = store[i];\r\n            bscrollFamily.purge();\r\n            store.splice(i, 1);\r\n        }\r\n        var k = findIndex(hooksFn, function (_a) {\r\n            var hooks = _a[0];\r\n            return hooks === scroll.hooks;\r\n        });\r\n        if (k > -1) {\r\n            var _a = hooksFn[k], hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n            hooksFn.splice(k, 1);\r\n        }\r\n    };\r\n    NestedScroll.prototype.addBScroll = function (scroll) {\r\n        this.store.push(BScrollFamily.create(scroll));\r\n    };\r\n    NestedScroll.prototype.buildBScrollGraph = function () {\r\n        var store = this.store;\r\n        var bf1;\r\n        var bf2;\r\n        var wrapper1;\r\n        var wrapper2;\r\n        var len = this.store.length;\r\n        // build graph\r\n        for (var i = 0; i < len; i++) {\r\n            bf1 = store[i];\r\n            wrapper1 = bf1.selfScroll.wrapper;\r\n            for (var j = 0; j < len; j++) {\r\n                bf2 = store[j];\r\n                wrapper2 = bf2.selfScroll.wrapper;\r\n                // same bs\r\n                if (bf1 === bf2)\r\n                    continue;\r\n                if (!wrapper1.contains(wrapper2))\r\n                    continue;\r\n                // bs1 contains bs2\r\n                var distance = calculateDistance(wrapper2, wrapper1);\r\n                if (!bf1.hasDescendants(bf2)) {\r\n                    bf1.addDescendant(bf2, distance);\r\n                }\r\n                if (!bf2.hasAncestors(bf1)) {\r\n                    bf2.addAncestor(bf1, distance);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NestedScroll.prototype.analyzeBScrollGraph = function () {\r\n        this.store.forEach(function (bscrollFamily) {\r\n            if (bscrollFamily.analyzed) {\r\n                return;\r\n            }\r\n            var ancestors = bscrollFamily.ancestors, descendants = bscrollFamily.descendants, currentScroll = bscrollFamily.selfScroll;\r\n            var beforeScrollStartHandler = function () {\r\n                // always get the latest scroll\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                forceScrollStopHandler(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n                if (isResettingPosition(currentScroll)) {\r\n                    resetPositionHandler(currentScroll);\r\n                }\r\n                syncTouchstartData(ancestorScrolls);\r\n                disableScrollHander(ancestorScrolls, currentScroll);\r\n            };\r\n            var touchEndHandler = function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                enableScrollHander(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n            };\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.beforeScrollStart, beforeScrollStartHandler);\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.touchEnd, touchEndHandler);\r\n            var selfActionsHooks = currentScroll.scroller.actions.hooks;\r\n            bscrollFamily.registerHooks(selfActionsHooks, selfActionsHooks.eventTypes.detectMovingDirection, function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var parentScroll = ancestorScrolls[0];\r\n                var otherAncestorScrolls = ancestorScrolls.slice(1);\r\n                var contentMoved = currentScroll.scroller.actions.contentMoved;\r\n                var isTopScroll = ancestorScrolls.length === 0;\r\n                if (contentMoved) {\r\n                    disableScrollHander(ancestorScrolls, currentScroll);\r\n                }\r\n                else if (!isTopScroll) {\r\n                    if (isOutOfBoundary(currentScroll)) {\r\n                        disableScrollHander([currentScroll], currentScroll);\r\n                        if (parentScroll) {\r\n                            enableScrollHander([parentScroll]);\r\n                        }\r\n                        disableScrollHander(otherAncestorScrolls, currentScroll);\r\n                        return true;\r\n                    }\r\n                }\r\n            });\r\n            bscrollFamily.setAnalyzed(true);\r\n        });\r\n    };\r\n    // make sure touchmove|touchend invoke from child to parent\r\n    NestedScroll.prototype.ensureEventInvokeSequence = function () {\r\n        var copied = this.store.slice();\r\n        var sequencedScroll = copied.sort(function (a, b) {\r\n            return a.descendants.length - b.descendants.length;\r\n        });\r\n        sequencedScroll.forEach(function (bscrollFamily) {\r\n            var scroll = bscrollFamily.selfScroll;\r\n            scroll.scroller.actionsHandler.rebindDOMEvents();\r\n        });\r\n    };\r\n    NestedScroll.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    NestedScroll.prototype.purgeNestedScroll = function () {\r\n        var groupId = this.options.groupId;\r\n        this.store.forEach(function (bscrollFamily) {\r\n            bscrollFamily.purge();\r\n        });\r\n        this.store = [];\r\n        this.hooksFn.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksFn = [];\r\n        delete NestedScroll.instancesMap[groupId];\r\n    };\r\n    NestedScroll.pluginName = 'nestedScroll';\r\n    NestedScroll.instancesMap = {};\r\n    return NestedScroll;\r\n}());\n\nvar PRE_NUM = 10;\r\nvar POST_NUM = 30;\r\nvar IndexCalculator = /** @class */ (function () {\r\n    function IndexCalculator(wrapperHeight, tombstoneHeight) {\r\n        this.wrapperHeight = wrapperHeight;\r\n        this.tombstoneHeight = tombstoneHeight;\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    }\r\n    IndexCalculator.prototype.calculate = function (pos, list) {\r\n        var offset = pos - this.lastPos;\r\n        this.lastPos = pos;\r\n        var direction = this.getDirection(offset);\r\n        // important! start index is much more important than end index.\r\n        var start = this.calculateIndex(0, pos, list);\r\n        var end = this.calculateIndex(start, pos + this.wrapperHeight, list);\r\n        if (direction === 1 /* DOWN */) {\r\n            start -= PRE_NUM;\r\n            end += POST_NUM;\r\n        }\r\n        else {\r\n            start -= POST_NUM;\r\n            end += PRE_NUM;\r\n        }\r\n        if (start < 0) {\r\n            start = 0;\r\n        }\r\n        return {\r\n            start: start,\r\n            end: end,\r\n        };\r\n    };\r\n    IndexCalculator.prototype.getDirection = function (offset) {\r\n        var direction;\r\n        if (offset > 0) {\r\n            direction = 1 /* DOWN */;\r\n        }\r\n        else if (offset < 0) {\r\n            direction = 0 /* UP */;\r\n        }\r\n        else {\r\n            return this.lastDirection;\r\n        }\r\n        this.lastDirection = direction;\r\n        return direction;\r\n    };\r\n    IndexCalculator.prototype.calculateIndex = function (start, offset, list) {\r\n        if (offset <= 0) {\r\n            return start;\r\n        }\r\n        var i = start;\r\n        var startPos = list[i] && list[i].pos !== -1 ? list[i].pos : 0;\r\n        var lastPos = startPos;\r\n        var tombstone = 0;\r\n        while (i < list.length && list[i].pos < offset) {\r\n            lastPos = list[i].pos;\r\n            i++;\r\n        }\r\n        if (i === list.length) {\r\n            tombstone = Math.floor((offset - lastPos) / this.tombstoneHeight);\r\n        }\r\n        i += tombstone;\r\n        return i;\r\n    };\r\n    IndexCalculator.prototype.resetState = function () {\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    };\r\n    return IndexCalculator;\r\n}());\n\nvar ListItem = /** @class */ (function () {\r\n    function ListItem() {\r\n        this.data = null;\r\n        this.dom = null;\r\n        this.tombstone = null;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.pos = 0;\r\n    }\r\n    return ListItem;\r\n}());\r\nvar DataManager = /** @class */ (function () {\r\n    function DataManager(list, fetchFn, onFetchFinish) {\r\n        this.fetchFn = fetchFn;\r\n        this.onFetchFinish = onFetchFinish;\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = list || [];\r\n    }\r\n    DataManager.prototype.update = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var len;\r\n            return __generator(this, function (_a) {\r\n                if (!this.hasMore) {\r\n                    end = Math.min(end, this.list.length);\r\n                }\r\n                // add data placeholder\r\n                if (end > this.list.length) {\r\n                    len = end - this.list.length;\r\n                    this.addEmptyData(len);\r\n                }\r\n                // tslint:disable-next-line: no-floating-promises\r\n                return [2 /*return*/, this.checkToFetch(end)];\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.add = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (!this.list[this.loadedNum]) {\r\n                this.list[this.loadedNum] = { data: data[i] };\r\n            }\r\n            else {\r\n                this.list[this.loadedNum] = __assign(__assign({}, this.list[this.loadedNum]), { data: data[i] });\r\n            }\r\n            this.loadedNum++;\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.addEmptyData = function (len) {\r\n        for (var i = 0; i < len; i++) {\r\n            this.list.push(new ListItem());\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.fetch = function (len) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.fetching) {\r\n                            return [2 /*return*/, []];\r\n                        }\r\n                        this.fetching = true;\r\n                        return [4 /*yield*/, this.fetchFn(len)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        this.fetching = false;\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.checkToFetch = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var min, newData, currentEnd;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.hasMore) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (end <= this.loadedNum) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        min = end - this.loadedNum;\r\n                        return [4 /*yield*/, this.fetch(min)];\r\n                    case 1:\r\n                        newData = _a.sent();\r\n                        if (newData instanceof Array && newData.length) {\r\n                            this.add(newData);\r\n                            currentEnd = this.onFetchFinish(this.list, true);\r\n                            return [2 /*return*/, this.checkToFetch(currentEnd)];\r\n                        }\r\n                        else if (typeof newData === 'boolean' && newData === false) {\r\n                            this.hasMore = false;\r\n                            this.list.splice(this.loadedNum);\r\n                            this.onFetchFinish(this.list, false);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.getList = function () {\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.resetState = function () {\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = [];\r\n    };\r\n    return DataManager;\r\n}());\n\nvar Tombstone = /** @class */ (function () {\r\n    function Tombstone(create) {\r\n        this.create = create;\r\n        this.cached = [];\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.initialed = false;\r\n        this.getSize();\r\n    }\r\n    Tombstone.isTombstone = function (el) {\r\n        if (el && el.classList) {\r\n            return el.classList.contains('tombstone');\r\n        }\r\n        return false;\r\n    };\r\n    Tombstone.prototype.getSize = function () {\r\n        if (!this.initialed) {\r\n            var tombstone = this.create();\r\n            tombstone.style.position = 'absolute';\r\n            document.body.appendChild(tombstone);\r\n            tombstone.style.display = '';\r\n            this.height = tombstone.offsetHeight;\r\n            this.width = tombstone.offsetWidth;\r\n            document.body.removeChild(tombstone);\r\n            this.cached.push(tombstone);\r\n        }\r\n    };\r\n    Tombstone.prototype.getOne = function () {\r\n        var tombstone = this.cached.pop();\r\n        if (tombstone) {\r\n            var tombstoneStyle = tombstone.style;\r\n            tombstoneStyle.display = '';\r\n            tombstoneStyle.opacity = '1';\r\n            tombstoneStyle[style.transform] = '';\r\n            tombstoneStyle[style.transition] = '';\r\n            return tombstone;\r\n        }\r\n        return this.create();\r\n    };\r\n    Tombstone.prototype.recycle = function (tombstones) {\r\n        for (var _i = 0, tombstones_1 = tombstones; _i < tombstones_1.length; _i++) {\r\n            var tombstone = tombstones_1[_i];\r\n            tombstone.style.display = 'none';\r\n            this.cached.push(tombstone);\r\n        }\r\n        return this.cached;\r\n    };\r\n    Tombstone.prototype.recycleOne = function (tombstone) {\r\n        this.cached.push(tombstone);\r\n        return this.cached;\r\n    };\r\n    return Tombstone;\r\n}());\n\nvar ANIMATION_DURATION_MS = 200;\r\nvar DomManager = /** @class */ (function () {\r\n    function DomManager(content, renderFn, tombstone) {\r\n        this.renderFn = renderFn;\r\n        this.tombstone = tombstone;\r\n        this.unusedDom = [];\r\n        this.timers = [];\r\n        this.setContent(content);\r\n    }\r\n    DomManager.prototype.update = function (list, start, end) {\r\n        if (start >= list.length) {\r\n            start = list.length - 1;\r\n        }\r\n        if (end > list.length) {\r\n            end = list.length;\r\n        }\r\n        this.collectUnusedDom(list, start, end);\r\n        this.createDom(list, start, end);\r\n        this.cacheHeight(list, start, end);\r\n        var _a = this.positionDom(list, start, end), startPos = _a.startPos, startDelta = _a.startDelta, endPos = _a.endPos;\r\n        return {\r\n            start: start,\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            end: end,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    DomManager.prototype.collectUnusedDom = function (list, start, end) {\r\n        // TODO optimise\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (i === start) {\r\n                i = end - 1;\r\n                continue;\r\n            }\r\n            if (list[i].dom) {\r\n                var dom = list[i].dom;\r\n                if (Tombstone.isTombstone(dom)) {\r\n                    this.tombstone.recycleOne(dom);\r\n                    dom.style.display = 'none';\r\n                }\r\n                else {\r\n                    this.unusedDom.push(dom);\r\n                }\r\n                list[i].dom = null;\r\n            }\r\n        }\r\n        return list;\r\n    };\r\n    DomManager.prototype.createDom = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            var dom = list[i].dom;\r\n            var data = list[i].data;\r\n            if (dom) {\r\n                if (Tombstone.isTombstone(dom) && data) {\r\n                    list[i].tombstone = dom;\r\n                    list[i].dom = null;\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            }\r\n            dom = data\r\n                ? this.renderFn(data, this.unusedDom.pop())\r\n                : this.tombstone.getOne();\r\n            dom.style.position = 'absolute';\r\n            list[i].dom = dom;\r\n            list[i].pos = -1;\r\n            this.content.appendChild(dom);\r\n        }\r\n    };\r\n    DomManager.prototype.cacheHeight = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            if (list[i].data && !list[i].height) {\r\n                list[i].height = list[i].dom.offsetHeight;\r\n            }\r\n        }\r\n    };\r\n    DomManager.prototype.positionDom = function (list, start, end) {\r\n        var _this = this;\r\n        var tombstoneEles = [];\r\n        var _a = this.getStartPos(list, start, end), startPos = _a.start, startDelta = _a.delta;\r\n        var pos = startPos;\r\n        for (var i = start; i < end; i++) {\r\n            var tombstone = list[i].tombstone;\r\n            if (tombstone) {\r\n                var tombstoneStyle = tombstone.style;\r\n                tombstoneStyle[style.transition] = cssVendor + \"transform \" + ANIMATION_DURATION_MS + \"ms, opacity \" + ANIMATION_DURATION_MS + \"ms\";\r\n                tombstoneStyle[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                tombstoneStyle.opacity = '0';\r\n                list[i].tombstone = null;\r\n                tombstoneEles.push(tombstone);\r\n            }\r\n            if (list[i].dom && list[i].pos !== pos) {\r\n                list[i].dom.style[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                list[i].pos = pos;\r\n            }\r\n            pos += list[i].height || this.tombstone.height;\r\n        }\r\n        var timerId = window.setTimeout(function () {\r\n            _this.tombstone.recycle(tombstoneEles);\r\n        }, ANIMATION_DURATION_MS);\r\n        this.timers.push(timerId);\r\n        return {\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            endPos: pos,\r\n        };\r\n    };\r\n    DomManager.prototype.getStartPos = function (list, start, end) {\r\n        if (list[start] && list[start].pos !== -1) {\r\n            return {\r\n                start: list[start].pos,\r\n                delta: 0,\r\n            };\r\n        }\r\n        // TODO optimise\r\n        var pos = list[0].pos === -1 ? 0 : list[0].pos;\r\n        for (var i_1 = 0; i_1 < start; i_1++) {\r\n            pos += list[i_1].height || this.tombstone.height;\r\n        }\r\n        var originPos = pos;\r\n        var i;\r\n        for (i = start; i < end; i++) {\r\n            if (!Tombstone.isTombstone(list[i].dom) && list[i].pos !== -1) {\r\n                pos = list[i].pos;\r\n                break;\r\n            }\r\n        }\r\n        var x = i;\r\n        if (x < end) {\r\n            while (x > start) {\r\n                pos -= list[x - 1].height;\r\n                x--;\r\n            }\r\n        }\r\n        var delta = originPos - pos;\r\n        return {\r\n            start: pos,\r\n            delta: delta,\r\n        };\r\n    };\r\n    DomManager.prototype.removeTombstone = function () {\r\n        var tombstones = this.content.querySelectorAll('.tombstone');\r\n        for (var i = tombstones.length - 1; i >= 0; i--) {\r\n            this.content.removeChild(tombstones[i]);\r\n        }\r\n    };\r\n    DomManager.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n        }\r\n    };\r\n    DomManager.prototype.destroy = function () {\r\n        this.removeTombstone();\r\n        this.timers.forEach(function (id) {\r\n            clearTimeout(id);\r\n        });\r\n    };\r\n    DomManager.prototype.resetState = function () {\r\n        this.destroy();\r\n        this.timers = [];\r\n        this.unusedDom = [];\r\n    };\r\n    return DomManager;\r\n}());\n\nvar EXTRA_SCROLL_Y = -2000;\r\nvar InfinityScroll = /** @class */ (function () {\r\n    function InfinityScroll(scroll) {\r\n        this.scroll = scroll;\r\n        this.start = 0;\r\n        this.end = 0;\r\n        this.init();\r\n    }\r\n    InfinityScroll.prototype.init = function () {\r\n        var _this = this;\r\n        this.handleOptions();\r\n        var _a = this.options, fetchFn = _a.fetch, renderFn = _a.render, createTombstoneFn = _a.createTombstone;\r\n        this.tombstone = new Tombstone(createTombstoneFn);\r\n        this.indexCalculator = new IndexCalculator(this.scroll.scroller.scrollBehaviorY.wrapperSize, this.tombstone.height);\r\n        this.domManager = new DomManager(this.scroll.scroller.content, renderFn, this.tombstone);\r\n        this.dataManager = new DataManager([], fetchFn, this.onFetchFinish.bind(this));\r\n        this.scroll.on(this.scroll.eventTypes.destroy, this.destroy, this);\r\n        this.scroll.on(this.scroll.eventTypes.scroll, this.update, this);\r\n        this.scroll.on(this.scroll.eventTypes.contentChanged, function (content) {\r\n            _this.domManager.setContent(content);\r\n            _this.indexCalculator.resetState();\r\n            _this.domManager.resetState();\r\n            _this.dataManager.resetState();\r\n            _this.update({ y: 0 });\r\n        });\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, this.modifyBoundary, this);\r\n        this.update({ y: 0 });\r\n    };\r\n    InfinityScroll.prototype.modifyBoundary = function (boundary) {\r\n        // manually set position to allow scroll\r\n        boundary.maxScrollPos = EXTRA_SCROLL_Y;\r\n    };\r\n    InfinityScroll.prototype.handleOptions = function () {\r\n        // narrow down type to an object\r\n        var infinityOptions = this.scroll.options.infinity;\r\n        if (infinityOptions) {\r\n            if (typeof infinityOptions.fetch !== 'function') {\r\n                warn('Infinity plugin need fetch Function to new data.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need render Function to render each item.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need createTombstone Function to create tombstone.');\r\n            }\r\n            this.options = infinityOptions;\r\n        }\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    InfinityScroll.prototype.update = function (pos) {\r\n        var position = Math.round(-pos.y);\r\n        // important! calculate start/end index to render\r\n        var _a = this.indexCalculator.calculate(position, this.dataManager.getList()), start = _a.start, end = _a.end;\r\n        this.start = start;\r\n        this.end = end;\r\n        // tslint:disable-next-line: no-floating-promises\r\n        this.dataManager.update(end);\r\n        this.updateDom(this.dataManager.getList());\r\n    };\r\n    InfinityScroll.prototype.onFetchFinish = function (list, hasMore) {\r\n        var end = this.updateDom(list).end;\r\n        if (!hasMore) {\r\n            this.domManager.removeTombstone();\r\n            this.scroll.scroller.animater.stop();\r\n            this.scroll.resetPosition();\r\n        }\r\n        // tslint:disable-next-line: no-floating-promises\r\n        return end;\r\n    };\r\n    InfinityScroll.prototype.updateDom = function (list) {\r\n        var _a = this.domManager.update(list, this.start, this.end), end = _a.end, startPos = _a.startPos, endPos = _a.endPos, startDelta = _a.startDelta;\r\n        if (startDelta) {\r\n            this.scroll.minScrollY = startDelta;\r\n        }\r\n        if (endPos > this.scroll.maxScrollY) {\r\n            this.scroll.maxScrollY = -(endPos - this.scroll.scroller.scrollBehaviorY.wrapperSize);\r\n        }\r\n        return {\r\n            end: end,\r\n            startPos: startPos,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    InfinityScroll.prototype.destroy = function () {\r\n        var _a = this.scroll.scroller, content = _a.content, scrollBehaviorY = _a.scrollBehaviorY;\r\n        while (content.firstChild) {\r\n            content.removeChild(content.firstChild);\r\n        }\r\n        this.domManager.destroy();\r\n        this.scroll.off('scroll', this.update);\r\n        this.scroll.off('destroy', this.destroy);\r\n        scrollBehaviorY.hooks.off(scrollBehaviorY.hooks.eventTypes.computeBoundary);\r\n    };\r\n    InfinityScroll.pluginName = 'infinity';\r\n    return InfinityScroll;\r\n}());\n\nvar sourcePrefix = 'plugins.movable';\r\nvar propertiesMap = [\r\n    {\r\n        key: 'putAt',\r\n        name: 'putAt',\r\n    },\r\n];\r\nvar propertiesConfig = propertiesMap.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix + \".\" + item.name,\r\n    };\r\n});\n\nvar Movable = /** @class */ (function () {\r\n    function Movable(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleBScroll();\r\n        this.handleHooks();\r\n    }\r\n    Movable.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig);\r\n    };\r\n    Movable.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var computeBoundary = function (boundary, behavior) {\r\n            if (boundary.maxScrollPos > 0) {\r\n                // content is smaller than wrapper\r\n                boundary.minScrollPos = behavior.wrapperSize - behavior.contentSize;\r\n                boundary.maxScrollPos = 0;\r\n            }\r\n        };\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorX);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorY);\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    Movable.prototype.putAt = function (x, y, time, easing) {\r\n        if (time === void 0) { time = this.scroll.options.bounceTime; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var position = this.resolvePostion(x, y);\r\n        this.scroll.scrollTo(position.x, position.y, time, easing);\r\n    };\r\n    Movable.prototype.resolvePostion = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.minScrollPos;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.minScrollPos;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.minScrollPos\r\n                    : scrollBehaviorY.minScrollPos;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            x: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            y: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Movable.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Movable.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Movable.pluginName = 'movable';\r\n    Movable.applyOrder = \"pre\" /* Pre */;\r\n    return Movable;\r\n}());\n\nvar isImageTag = function (el) {\r\n    return el.tagName.toLowerCase() === 'img';\r\n};\r\nvar ObserveImage = /** @class */ (function () {\r\n    function ObserveImage(scroll) {\r\n        this.scroll = scroll;\r\n        this.refreshTimer = 0;\r\n        this.init();\r\n    }\r\n    ObserveImage.prototype.init = function () {\r\n        this.handleOptions(this.scroll.options.observeImage);\r\n        this.bindEventsToWrapper();\r\n    };\r\n    ObserveImage.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            debounceTime: 100,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ObserveImage.prototype.bindEventsToWrapper = function () {\r\n        var wrapper = this.scroll.scroller.wrapper;\r\n        this.imageLoadEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'load',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n        this.imageErrorEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'error',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n    };\r\n    ObserveImage.prototype.load = function (e) {\r\n        var _this = this;\r\n        var target = e.target;\r\n        var debounceTime = this.options.debounceTime;\r\n        if (target && isImageTag(target)) {\r\n            if (debounceTime === 0) {\r\n                this.scroll.refresh();\r\n            }\r\n            else {\r\n                clearTimeout(this.refreshTimer);\r\n                this.refreshTimer = window.setTimeout(function () {\r\n                    _this.scroll.refresh();\r\n                }, this.options.debounceTime);\r\n            }\r\n        }\r\n    };\r\n    ObserveImage.pluginName = 'observeImage';\r\n    return ObserveImage;\r\n}());\n\nvar resolveRatioOption = function (ratioConfig) {\r\n    var ret = {\r\n        ratioX: 0,\r\n        ratioY: 0,\r\n    };\r\n    /* istanbul ignore if  */\r\n    if (!ratioConfig) {\r\n        return ret;\r\n    }\r\n    if (typeof ratioConfig === 'number') {\r\n        ret.ratioX = ret.ratioY = ratioConfig;\r\n    }\r\n    else if (typeof ratioConfig === 'object' && ratioConfig) {\r\n        ret.ratioX = ratioConfig.x || 0;\r\n        ret.ratioY = ratioConfig.y || 0;\r\n    }\r\n    return ret;\r\n};\r\nvar handleBubbleAndCancelable = function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n};\r\nvar Indicator = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.currentPos = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.hooksFn = [];\r\n        this.handleDOM();\r\n        this.handleHooks();\r\n        this.handleInteractive();\r\n    }\r\n    Indicator.prototype.handleDOM = function () {\r\n        var _a = this.options, relationElement = _a.relationElement, _b = _a.relationElementHandleElementIndex, relationElementHandleElementIndex = _b === void 0 ? 0 : _b;\r\n        this.wrapper = relationElement;\r\n        this.indicatorEl = this.wrapper.children[relationElementHandleElementIndex];\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            _this.updatePosition(pos);\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.handleInteractive = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.registerEvents();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.registerEvents = function () {\r\n        var _a = this.scroll.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var _a = this.scroll, x = _a.x, y = _a.y, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, maxBScrollX = _a.maxScrollX, maxBScrollY = _a.maxScrollY;\r\n        var _b = resolveRatioOption(this.options.ratio), ratioX = _b.ratioX, ratioY = _b.ratioY;\r\n        var _c = getClientSize(this.wrapper), wrapperWidth = _c.width, wrapperHeight = _c.height;\r\n        var _d = getRect(this.indicatorEl), indicatorWidth = _d.width, indicatorHeight = _d.height;\r\n        if (hasHorizontalScroll) {\r\n            this.maxScrollX = wrapperWidth - indicatorWidth;\r\n            this.translateXSign =\r\n                this.maxScrollX > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollX = 0;\r\n            // ensure positive\r\n            this.ratioX = ratioX ? ratioX : Math.abs(this.maxScrollX / maxBScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            this.maxScrollY = wrapperHeight - indicatorHeight;\r\n            this.translateYSign =\r\n                this.maxScrollY > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollY = 0;\r\n            this.ratioY = ratioY ? ratioY : Math.abs(this.maxScrollY / maxBScrollY);\r\n        }\r\n        this.updatePosition({\r\n            x: x,\r\n            y: y,\r\n        });\r\n    };\r\n    Indicator.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        handleBubbleAndCancelable(e);\r\n        this.initiated = true;\r\n        this.moved = false;\r\n        this.lastPointX = point.pageX;\r\n        this.lastPointY = point.pageY;\r\n        this.startTime = getNow();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.BScrollIsDisabled = function () {\r\n        return !this.scroll.enabled;\r\n    };\r\n    Indicator.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointX = point.pageX;\r\n        var pointY = point.pageY;\r\n        handleBubbleAndCancelable(e);\r\n        var deltaX = pointX - this.lastPointX;\r\n        var deltaY = pointY - this.lastPointY;\r\n        this.lastPointX = pointX;\r\n        this.lastPointY = pointY;\r\n        if (!this.moved && !this.indicatorNotMoved(deltaX, deltaY)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.getBScrollPosByRatio(this.currentPos, deltaX, deltaY);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        handleBubbleAndCancelable(e);\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.getBScrollPosByRatio = function (currentPos, deltaX, deltaY) {\r\n        var currentX = currentPos.x, currentY = currentPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, BScrollMinScrollX = _a.minScrollX, BScrollMaxScrollX = _a.maxScrollX, BScrollMinScrollY = _a.minScrollY, BScrollMaxScrollY = _a.maxScrollY;\r\n        var _b = this.scroll, x = _b.x, y = _b.y;\r\n        if (hasHorizontalScroll) {\r\n            var newPosX = between(currentX + deltaX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n            var roundX = Math.round((newPosX / this.ratioX) * this.translateXSign);\r\n            x = between(roundX, BScrollMaxScrollX, BScrollMinScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var newPosY = between(currentY + deltaY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n            var roundY = Math.round((newPosY / this.ratioY) * this.translateYSign);\r\n            y = between(roundY, BScrollMaxScrollY, BScrollMinScrollY);\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (deltaX, deltaY) {\r\n        var _a = this.currentPos, x = _a.x, y = _a.y;\r\n        var xNotMoved = (x === this.minScrollX && deltaX <= 0) ||\r\n            (x === this.maxScrollX && deltaX >= 0);\r\n        var yNotMoved = (y === this.minScrollY && deltaY <= 0) ||\r\n            (y === this.maxScrollY && deltaY >= 0);\r\n        return xNotMoved && yNotMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, options = _a.options, scroller = _a.scroller;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        scroller.translater.translate(newPos);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.updatePosition = function (BScrollPos) {\r\n        var newIndicatorPos = this.getIndicatorPosByRatio(BScrollPos);\r\n        this.applyTransformProperty(newIndicatorPos);\r\n        this.currentPos = __assign({}, newIndicatorPos);\r\n    };\r\n    Indicator.prototype.applyTransformProperty = function (pos) {\r\n        var translateZ = this.scroll.options.translateZ;\r\n        var transformProperties = [\r\n            \"translateX(\" + pos.x + \"px)\",\r\n            \"translateY(\" + pos.y + \"px)\",\r\n            \"\" + translateZ,\r\n        ];\r\n        this.indicatorEl.style[style.transform] = transformProperties.join(' ');\r\n    };\r\n    Indicator.prototype.getIndicatorPosByRatio = function (BScrollPos) {\r\n        var x = BScrollPos.x, y = BScrollPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll;\r\n        var position = __assign({}, this.currentPos);\r\n        if (hasHorizontalScroll) {\r\n            var roundX = Math.round(this.ratioX * x * this.translateXSign);\r\n            // maybe maxScrollX is negative\r\n            position.x = between(roundX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var roundY = Math.round(this.ratioY * y * this.translateYSign);\r\n            // maybe maxScrollY is negative\r\n            position.y = between(roundY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n        }\r\n        return position;\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.startEventRegister.destroy();\r\n            this.moveEventRegister.destroy();\r\n            this.endEventRegister.destroy();\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar Indicators = /** @class */ (function () {\r\n    function Indicators(scroll) {\r\n        this.scroll = scroll;\r\n        this.options = [];\r\n        this.indicators = [];\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n    }\r\n    Indicators.prototype.handleOptions = function () {\r\n        var UserIndicatorsOptions = this.scroll.options.indicators;\r\n        assert(Array.isArray(UserIndicatorsOptions), \"'indicators' must be an array.\");\r\n        for (var _i = 0, UserIndicatorsOptions_1 = UserIndicatorsOptions; _i < UserIndicatorsOptions_1.length; _i++) {\r\n            var indicatorOptions = UserIndicatorsOptions_1[_i];\r\n            assert(!!indicatorOptions.relationElement, \"'relationElement' must be a HTMLElement.\");\r\n            this.createIndicators(indicatorOptions);\r\n        }\r\n    };\r\n    Indicators.prototype.createIndicators = function (options) {\r\n        this.indicators.push(new Indicator(this.scroll, options));\r\n    };\r\n    Indicators.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        scrollHooks.on(scrollHooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n            _this.indicators = [];\r\n        });\r\n    };\r\n    Indicators.pluginName = 'indicators';\r\n    return Indicators;\r\n}());\n\nBScroll.use(MouseWheel)\r\n    .use(ObserveDOM)\r\n    .use(PullDown)\r\n    .use(PullUp)\r\n    .use(ScrollBar)\r\n    .use(Slide)\r\n    .use(Wheel)\r\n    .use(Zoom)\r\n    .use(NestedScroll)\r\n    .use(InfinityScroll)\r\n    .use(Movable)\r\n    .use(ObserveImage)\r\n    .use(Indicators);\n\nexport default BScroll;\nexport { Behavior, CustomOptions, Indicators, InfinityScroll, MouseWheel, Movable, NestedScroll, ObserveDOM as ObserveDom, ObserveImage, PullDown as PullDownRefresh, PullUp as PullUpLoad, ScrollBar, Slide, Wheel, Zoom, createBScroll };\n","import { View, ViewStyle } from './View'\nimport BScroll from 'better-scroll'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\nimport { formatUnit } from '../../common/utils'\nexport class HorizontalScroller extends View {\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  protected _style: ViewStyle\n  // @ts-ignore\n  private bscroll: BScroll\n  private wrapper: Element\n  constructor() {\n    super()\n    this.wrapper = document.createElement('span');\n    this.wrapper.classList.add('hm-default-horizontal')\n    this.node.appendChild(this.wrapper)\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n    nodeObserver(this.node, () => {\n      this.bscroll && this.bscroll.refresh();\n    })\n  }\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-horizontal')\n  }\n\n  onMounted() {\n    this.refresh()\n  }\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n  appendChild(subview: any) {\n    this.wrapper.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  removeChild(subview: any) {\n    this.wrapper.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: true,\n        scrollY: false,\n        pullUpLoad: false,\n        pullDownRefresh: false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'vertical',\n      })\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.x >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x <= this.bscroll.maxScrollX) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x > this.bscroll.maxScrollX && e.x < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(this.bscroll.maxScrollX, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n}\n","import { View, ViewStyle, SIZE_STYLE } from './View'\nimport { formatUnit } from '../../common/utils'\n\nexport const INPUT_SIZE_STYLE: Array<any> = ['fontSize'].concat(SIZE_STYLE)\nexport interface InputStyle extends ViewStyle {\n  type?: 'default' | 'number' | 'tel' | 'email' | 'password'\n  color?: string\n  placeholderColor?: string\n  cursorColor?: string\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  // placeholderFontSize?: string\n  maxLength?: number\n  fontSize?: string | number\n  returnKeyType?: 'done' | 'go' | 'next' | 'search' | 'send'\n}\n\nexport class Input extends View {\n  protected _style: InputStyle\n\n  protected _randomPlaceholderClass!: string\n  protected _placeholderCssIndex: number = 0\n\n  constructor() {\n    super()\n    this._style = new Proxy(this._style,{\n        get: (target, key) => {\n          switch (key) {\n            case 'type':\n              // @ts-ignore\n              return target[key] || this.node.type\n            case 'maxLength':\n              // @ts-ignore\n              return target[key] || this.node.maxLength\n            case 'placeholderColor':\n            case 'placeholderFontSize':\n            case 'returnKeyType':\n              // @ts-ignore\n              return target[key]\n            case 'cursorColor':\n              // @ts-ignore\n              return target[key] || this.node.style['caretColor']\n            case 'color':\n            case 'fontSize':\n            default:\n              // @ts-ignore\n              return target[key] || this.node.style[key]\n          }\n          // 获取style\n        },\n        set: (target, key, value) => {\n          // 设置style\n          if (SIZE_STYLE.includes(key)) {\n            // @ts-ignore\n            target[key] = formatUnit(value)\n          } else {\n            // @ts-ignore\n            target[key] = value\n          }\n          switch (key) {\n            case 'type':\n              this.node.type!=='textarea'&&(this.node.type = value)\n              break\n            case 'placeholderColor':\n              this.changePlaceholder({\n                color: value,\n                fontSize: this.style.fontSize\n              })\n              break\n            case 'placeholderFontSize':\n              this.changePlaceholder({\n                color: this.style.placeholderColor,\n                fontSize: value\n              })\n              break\n            case 'cursorColor':\n              this.node.style.caretColor = value\n              break\n            case 'maxLength':\n              this.node.maxLength = value\n              break\n            case 'returnKeyType':\n              break\n            case 'color':\n            case 'fontSize':\n            default:\n              if (INPUT_SIZE_STYLE.includes(key)) {\n                this.node.style[key] = formatUnit(value)\n              } else {\n                this.node.style[key] = value\n              }\n          }\n          return true\n        }\n      }\n    )\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-inline')\n  }\n  /**\n   * 通过添加伪类::placeholder来修改placeholder\n   */\n  // @ts-ignore\n  protected changePlaceholder({ fontSize, color }) {\n    this.node.classList.remove(this._randomPlaceholderClass)\n    this._randomPlaceholderClass = `hm-placeholder-${++this\n      ._placeholderCssIndex}`\n    this.node.classList.add(this._randomPlaceholderClass)\n    if (document.styleSheets.item(0)) {\n      const item: any = document.styleSheets.item(0)\n      if (item.insertRule) {\n        item.insertRule(\n          `.${this._randomPlaceholderClass}::placeholder {font-size: ${formatUnit(fontSize)}; color: ${color};}`,\n          item.cssRules.length\n        )\n      }\n    }\n  }\n\n  protected createNode() {\n    this.node = document.createElement('input')\n  }\n\n  get text() {\n    return this.node.value\n  }\n\n  set text(value) {\n    this.node.value = value\n  }\n\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n\n  get placeholder() {\n    return this.node.placeholder\n  }\n\n  set placeholder(value) {\n    this.node.placeholder = value\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: InputStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  clear() {\n    this.text = ''\n  }\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\n// import { Hummer } from '../../base/Global'\nimport { formatUnit } from '../../common/utils'\nimport { nodeObserver } from '../../common/utils'\nexport interface ListStyle extends ViewStyle {\n  mode?: 'list' | 'grid' | 'waterfall'\n  scrollDirection?: 'vertical' | 'horizontal'\n  column?: number\n  lineSpacing?: number | string\n  itemSpacing?: number | string\n  leftSpacing?: number | string\n  rightSpacing?: number | string\n  topSpacing?: number | string\n  bottomSpacing?: number | string\n  bounces?: boolean,\n}\n\nexport class List extends View {\n  refreshView!: View\n  loadMoreView!: View\n  showScrollBar: boolean = false // 滑动时是否显示滚动条\n  bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ListStyle\n  protected mode: 'list' | 'grid' | 'waterfall' = 'list'\n  private rowCount: number = 0\n  private _listRows: View[] = []\n  private _gridRows: View[] = []\n  private _waterfalls: View[] = []\n\n  private wrapper: View\n  private recyclerView: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-list-content')\n    this.appendChild(this.wrapper)\n    this.recyclerView = new View()\n    this.wrapper.appendChild(this.recyclerView)\n    this.node.classList.add('hm-list')\n    this.node.classList.add('vertical')\n    this.node.classList.add('hm-list-wrapper')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'mode':\n            this.mode = value\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'scrollDirection':\n            if (value === 'vertical') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.add(value)\n            } else if (value === 'horizontal') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.remove('vertical')\n            }\n            break\n          case 'column':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'lineSpacing':\n            this.recyclerView?.node?.childNodes?.forEach((element: Element, index: Number) => {\n              if (this.style.scrollDirection === 'horizontal') {\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginLeft = formatUnit(value)\n                }\n              } else {\n                // 竖向滚动\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginTop = formatUnit(value)\n                }\n              }\n            });\n            break\n          case 'itemSpacing':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'bounces':\n            if (this.bscroll) {\n              this.bscroll.destroy()\n              this.bscroll = null\n              this.refresh(this.rowCount)\n            }\n            break\n          case 'leftSpacing':\n            this.recyclerView.style['paddingLeft'] = formatUnit(value)\n            break\n          case 'rightSpacing':\n            this.recyclerView.style['paddingRight'] = formatUnit(value)\n            break\n          case 'topSpacing':\n            this.recyclerView.style['paddingTop'] = formatUnit(value)\n            break\n          case 'bottomSpacing':\n            this.recyclerView.style['paddingBottom'] = formatUnit(value)\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n    nodeObserver(this.wrapper.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        if (this.mode === 'waterfall' && this.recyclerView.node.offsetHeight) {\n          this.computeElement()\n        }\n        this.bscroll.refresh()\n      }\n    })\n  }\n\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-list')\n  }\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n  /**\n   * @ignore\n   */\n  onCreate!: (type: number) => View\n  /**\n   * @not support\n   */\n  onUpdate!: (position: number, cell: View) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ListStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  refresh(count: number) {\n    switch (this.mode) {\n      case 'grid':\n        this.refreshGridView(count)\n        break\n      case 'waterfall':\n        this.refreshWaterfallView(count)\n        break\n      case 'list':\n      default:\n        this.refreshListView(count)\n        break\n    }\n    this.rowCount = count\n  }\n\n  /**\n   * 滚动到指定位置\n   * @param position 要滚动到的位置\n   */\n  scrollToPosition(position: number) {\n    if (this.bscroll) {\n      if (this.mode == 'list') {\n        const view = this._listRows[position]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'grid') {\n        // 计算行\n        const row = Math.floor(position / (this.style.column as any))\n        const view = this._gridRows[row]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'waterfall') {\n        const view = this._waterfalls[position]\n        view && this.bscroll.scrollToElement(view.node)\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定位置\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 结束下拉刷新\n   */\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll.finishPullUp()\n    this.loadMoreView.style = {\n      position: 'static',\n      transform: 'none',\n    }\n    this.bscroll && this.bscroll.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  /**\n   * 设置上拉加载控件\n   * @param enable 下次能否继续触发加载更多\n   */\n  stopLoadMore(enable?: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.loadMoreView.style = {\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          transform: 'translateY(100%) translateZ(0)',\n          width: '100%',\n        }\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   */\n  private refreshListView(count: number) {\n    // 添加data row\n    let types = []\n    if ((count - this.rowCount) >= 0) {\n      types = Array.from(new Array(Math.abs(count - this.rowCount))).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    } else {\n      this._listRows = []\n      this.wrapper.removeChild(this.recyclerView)\n      this.recyclerView.removeAll()\n      this.loadMoreView ? this.wrapper.insertBefore(this.recyclerView, this.loadMoreView) : this.wrapper.appendChild(this.recyclerView);\n      types = Array.from(new Array(count)).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    }\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate((count - this.rowCount) >= 0 ? (index + this.rowCount) : index, cell)\n      const row = new View()\n      if (this.style.lineSpacing) {\n        if (index > 0) {\n          if (this.style.scrollDirection === 'horizontal') {\n            row.node.style.marginLeft = formatUnit(this.style.lineSpacing)\n          } else {\n            row.node.style.marginTop = formatUnit(this.style.lineSpacing)\n          }\n        }\n      }\n      //如果是水平滚动\n      if (this.style.scrollDirection === 'horizontal') {\n        this.recyclerView.node.classList.add('horizontal')\n        this.wrapper.node.classList.add('hm-list-content-horizontal')\n        this.node.style.width = '100%'\n      }\n      row.appendChild(cell)\n      this.recyclerView.appendChild(row)\n      this._listRows.push(row)\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   *     hm-list-cell\n   * @param {number} count\n   */\n  private refreshGridView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    this._gridRows = [];\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-grid')\n      col.style.width = `calc(${100 / column}% - ${parseFloat(formatUnit(this.style.itemSpacing || 0)) * (column - 1) / column}px)`;\n      col.appendChild(cell)\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        if (this.style.lineSpacing && index > 0) {\n          row.style.marginTop = `${this.style.lineSpacing}`\n        }\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * 瀑布流布局\n   */\n  private refreshWaterfallView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    this._waterfalls = []\n    this._gridRows = []\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-waterfall')\n      col.appendChild(cell)\n\n      this._waterfalls.push(cell)\n\n      cell.node.classList.add('cell')\n\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          console.log(this.style.itemSpacing)\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n  // 计算绘制瀑布流\n  computeElement() {\n    const cols = document.getElementsByClassName('hm-list-column-waterfall')\n    // @ts-ignore\n    const parentOffsetTop = cols[0].parentElement.getBoundingClientRect().top\n    // @ts-ignore\n    const parentOffsetLeft = cols[0].parentElement.getBoundingClientRect()\n      .left\n\n    const column = this.style.column || 2\n    let colsArr = new Array(column)\n    const posArr = []\n    for (let index = 0; index < cols.length; index++) {\n      let top = 0\n      const offset = cols[index].getBoundingClientRect()\n      let marginTop = this.style.lineSpacing\n        ? +formatUnit(this.style.lineSpacing).replace('px', '')\n        : 0\n      const height = cols[index].children[0].clientHeight + marginTop\n      let minIndex = 0\n      if (index < column) {\n        colsArr[index] = height\n        top = offset.top - parentOffsetTop\n        minIndex = index % column\n      } else {\n        const min = Math.min.apply(null, colsArr)\n        top = min\n        minIndex = colsArr.indexOf(min)\n        colsArr[minIndex] += height\n      }\n      const width = cols[minIndex].getBoundingClientRect().width\n      posArr.push({\n        left: cols[minIndex].getBoundingClientRect().left - parentOffsetLeft,\n        top: top,\n        width: width\n      })\n    }\n    for (let index = 0; index < cols.length; index++) {\n      // @ts-ignore\n      cols[index]['style'].position = 'absolute'\n      // @ts-ignore\n      cols[index]['style'].top = posArr[index]['top'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].left = posArr[index]['left'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].width = posArr[index]['width'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].marginLeft = '0px'\n      // @ts-ignore\n      // cols[index].parentNode['style'].position = 'static'\n      index > column && (cols[index].parentNode['style'].marginTop = (-Math.max.apply(null, colsArr)) + 'px')\n      // @ts-ignore\n      cols[index].parentNode['style'].height =\n        Math.max.apply(null, colsArr) + 'px'\n    }\n    // @ts-ignore\n    // cols[0].parentElement.parentElement.style.height =\n    //   Math.max.apply(null, colsArr) + 'px'\n    // @ts-ignore\n    cols[0].parentElement.parentElement.style.width = '100%'\n    // this.bscroll.refresh()\n  }\n  private bscrollInit() {\n    // 添加refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // 添加 loadmore view\n    if (this.loadMoreView) {\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this.bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: this.style.scrollDirection === 'horizontal',\n        scrollY: this.style.scrollDirection !== 'horizontal',\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: this.style.scrollDirection === 'horizontal' ? 'vertical' : 'horizontal',\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y < this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n\n  }\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\nimport { formatUnit } from '../../common/utils'\n\nexport class Scroller extends View {\n\n  refreshView!: View\n  loadMoreView!: View\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ViewStyle\n\n  config = {\n    // 页面元素监听配置\n    attributes: true,\n    childList: true,\n    characterData: true,\n    subtree: true,\n  }\n  observer: ResizeObserver\n  private wrapper: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-list-content')\n    this.node.appendChild(this.wrapper.node)\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        // this.node.style[key] = value\n        switch (key) {\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n    // 监听元素是否渲染\n    nodeObserver(this.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        this.bscroll.refresh()\n      }\n    })\n  }\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n  onMounted() {\n    this.refresh()\n  }\n  onDestoryed(){\n    this.bscroll.destroy()\n  }\n\n  appendChild(subview: any) {\n    this.wrapper.node.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n  removeChild(subview: any) {\n    this.wrapper.node.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-vertical')\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    // this.wrapper.removeAll();\n    // add refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // add loadmore view\n    if (this.loadMoreView) {\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: false,\n        scrollY: true,\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'horizontal',\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y<this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0 ) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y <= this.bscroll.maxScrollY) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y > this.bscroll.maxScrollY && e.y < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, this.bscroll.maxScrollY, 300)\n    }\n  }\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll.finishPullUp()\n    this.loadMoreView.style = {\n      position: 'static',\n      transform: 'none',\n    }\n    this.bscroll && this.bscroll.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll.refresh()\n  }\n  stopLoadMore(enable: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.loadMoreView.style = {\n          position: 'absolute',\n          bottom: 0,\n          transform: 'translateY(100%) translateZ(0)',\n          width: '100%',\n        }\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n}\n\n","import { View, ViewStyle } from './View'\nimport { SwitchEvent, SwitchEventListener } from '../event/SwitchEvent'\nimport { formatUnit } from '../../common/utils'\n\nexport interface SwitchStyle extends ViewStyle {\n  onColor?: string\n  offColor?: string\n  thumbColor?: string\n}\n\nexport class Switch extends View {\n  private switchBtn!: HTMLElement\n  private circle!: HTMLElement\n  private addChangeEvent!: Function\n  public disabled!: boolean\n  protected _style: SwitchStyle\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'onColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(19, 206, 102)'\n            break\n          case 'offColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(255, 73, 73)'\n            break\n          case 'thumbColor':\n            // @ts-ignore\n            target[key] = target[key] || '#fff'\n            break\n        }\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'onColor':\n            if (this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'offColor':\n            if (!this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'thumbColor':\n            this.circle.style.backgroundColor = value\n            break\n          case 'height':\n            this.switchBtn.style[key] = formatUnit(value)\n            this.circle.style['height'] = formatUnit(value)\n            this.circle.style['width'] = formatUnit(value)\n            this.switchBtn.style['borderRadius'] = formatUnit(value)\n            break\n          case 'width':\n            this.switchBtn.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n    this.bindEvents()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n    this.node.classList.add('hm-switch')\n    this.switchBtn = document.createElement('div')\n    this.switchBtn.classList.add('hm-switch-btn')\n    this.circle = document.createElement('div')\n    this.circle.classList.add('hm-switch-thumb')\n    this.switchBtn.appendChild(this.circle)\n    this.node.appendChild(this.switchBtn)\n  }\n\n  private bindEvents() {\n    let dom = this.node\n    let that = this\n    dom.addEventListener('click', function() {\n      let className = dom.className\n      if (/hm-switch-checked/.test(className)) {\n        that.checked = false\n      } else {\n        that.checked = true\n      }\n    })\n  }\n\n  // @ts-ignore\n  addEventListener(key: 'switch', listener: SwitchEventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    // @ts-ignore\n    this.listeners[key].push(listener)\n    if (!this.eventListeners[key]) {\n      switch (key) {\n        case 'switch':\n          this.addChangeEvent = (ev: any) => {\n            this.listeners['switch'].forEach(listener => listener(ev))\n          }\n      }\n    }\n  }\n\n  set checked(val) {\n    if (this.disabled) {\n      return\n    }\n\n    let changeCbk = this.addChangeEvent\n\n    if (val === true) {\n      this.circle.style.right = '2px'\n      this.switchBtn.style.borderColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.switchBtn.style.backgroundColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.node.classList.add('hm-switch-checked')\n    } else {\n      const width = +`${this._style.width}`.replace('px', '')\n      const circleWidth = +this.circle.style['width'].replace('px', '')\n      this.circle.style.right = width - circleWidth - 2 + 'px'\n      this.switchBtn.style.borderColor =\n        this._style.offColor || 'rgb(255, 73, 73)'\n      this.switchBtn.style.backgroundColor =\n        this._style.offColor || 'rgb(255, 73, 73)'\n      this.node.classList.remove('hm-switch-checked')\n    }\n\n    if (changeCbk) {\n      const ev = new SwitchEvent()\n      ev.target = this\n      ev.state = this.checked\n      changeCbk(ev)\n    }\n  }\n\n  get checked() {\n    return /hm-switch-checked/.test(this.node.className)\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: SwitchStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n}\n","import { View, ViewStyle } from './View'\n// import { Image } from './Image'\nimport { formatUnit } from '../../common/utils'\nexport interface TextStyle extends ViewStyle {\n  color?: string\n  textAlign?: 'left' | 'center' | 'right'\n  textDecoration?: 'none' | 'underline' | 'line-through'\n  textVerticalAlign?: 'top' | 'center' | 'bottom'\n  fontFamily?: string\n  fontSize?: string | number\n  fontWeight?: 'normal' | 'bold'\n  fontStyle?: 'normal' | 'italic'\n  textOverflow?: 'clip' | 'ellipsis'\n  textLineClamp?: number\n  letterSpacing?: number\n  lineSpacingMulti?: number\n}\n\nexport class Text extends View {\n  protected _style: TextStyle\n\n  constructor() {\n    super()\n    this.node.classList.add('hm-text')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textVerticalAlign':\n            this.node.style.verticalAlign = value\n            break\n          case 'lineSpacingMulti':\n            this.node.style.lineHeight = value\n            break\n          case 'textLineClamp':\n            this.node.style['-webkitLineClamp'] = value\n            this.node.style.overflow = 'hidden'\n            this.node.style.display = '-webkit-box'\n            this.node.style['-webkitBoxOrient'] = 'vertical'\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-text-box')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('span')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(value: string) {\n    this.node.innerText = value\n  }\n\n  get richText() {\n    return this.node.innerText\n  }\n\n  set richText(value: any) {\n    // Todo: 解析富文本\n    this.parseRichText(value)\n  }\n\n  get formattedText() {\n    return this.node.innerHTML\n  }\n\n  set formattedText(value: string) {\n    this.node.innerHTML = value\n  }\n\n  private parseRichText(value: any) {\n    this.node.innerText = ''\n    let image, text\n    value.forEach(item => {\n      if (item?.image) {\n        image = document.createElement('img')\n        image.src = item.image\n        image.alt = \"加载失败\"\n        image.style.verticalAlign = item.imageAlign === 'center' ? 'middle' : item.imageAlign\n        image.style.width = formatUnit(item.imageWidth)\n        image.style.height = formatUnit(item.imageHeight)\n        this.node.appendChild(image)\n      }\n      if (item?.text) {\n        text = document.createElement('span')\n        text.className = 'hm-default-text'\n        text.innerHTML = item?.text;\n        (item?.color || item?.hrefColor) && (text.style.color = item?.color || item?.hrefColor)\n        item?.fontSize && (text.style.fontSize = formatUnit(item?.fontSize))\n        item?.backgroundColor && (text.style.backgroundColor = item?.backgroundColor)\n        item?.fontFamily && (text.style.fontFamily = item?.fontFamily)\n        item?.fontWeight && (text.style.fontWeight = item?.fontWeight)\n        item?.textDecoration && (text.style.textDecoration = item?.textDecoration)\n        text.style.verticalAlign = 'middle'\n        if (item?.href) {\n          text.style.textDecoration = 'underline'\n          text.onclick = () => {\n            window.open(item?.href)\n          }\n        }\n        this.node.appendChild(text)\n      }\n    });\n  }\n}\n","import { Input, InputStyle } from './Input'\n\nexport interface TextAreaStyle extends InputStyle {\n  textLineClamp?: number\n}\n\nexport class TextArea extends Input {\n  protected _style: TextAreaStyle\n  \n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        switch (key) {\n          case 'textLineClamp':\n            // @ts-ignore\n            return target[key] || this.node.rows\n          default:\n            // @ts-ignore\n            return target[key]\n        }\n        // 获取style\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textLineClamp':\n            this.node.rows = value\n            break\n        }\n        return true\n      }\n    })\n  }\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    console.log(focused)\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n  \n  protected defaultStyle() {\n    this.node.classList.add('hm-default-textarea')\n  }\n  protected createNode() {\n    this.node = document.createElement('textarea')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextAreaStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n}\n","/**\n * Swiper 7.3.3\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: December 16, 2021\n */\n\n (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Swiper = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * SSR Window 4.0.2\n   * Better handling for window object in SSR environment\n   * https://github.com/nolimits4web/ssr-window\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n\n  /* eslint-disable no-param-reassign */\n  function isObject$1(obj) {\n    return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n  }\n\n  function extend$1(target = {}, src = {}) {\n    Object.keys(src).forEach(key => {\n      if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject$1(src[key]) && isObject$1(target[key]) && Object.keys(src[key]).length > 0) {\n        extend$1(target[key], src[key]);\n      }\n    });\n  }\n\n  const ssrDocument = {\n    body: {},\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    activeElement: {\n      blur() {},\n\n      nodeName: ''\n    },\n\n    querySelector() {\n      return null;\n    },\n\n    querySelectorAll() {\n      return [];\n    },\n\n    getElementById() {\n      return null;\n    },\n\n    createEvent() {\n      return {\n        initEvent() {}\n\n      };\n    },\n\n    createElement() {\n      return {\n        children: [],\n        childNodes: [],\n        style: {},\n\n        setAttribute() {},\n\n        getElementsByTagName() {\n          return [];\n        }\n\n      };\n    },\n\n    createElementNS() {\n      return {};\n    },\n\n    importNode() {\n      return null;\n    },\n\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    }\n  };\n\n  function getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend$1(doc, ssrDocument);\n    return doc;\n  }\n\n  const ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n      userAgent: ''\n    },\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    },\n    history: {\n      replaceState() {},\n\n      pushState() {},\n\n      go() {},\n\n      back() {}\n\n    },\n    CustomEvent: function CustomEvent() {\n      return this;\n    },\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    getComputedStyle() {\n      return {\n        getPropertyValue() {\n          return '';\n        }\n\n      };\n    },\n\n    Image() {},\n\n    Date() {},\n\n    screen: {},\n\n    setTimeout() {},\n\n    clearTimeout() {},\n\n    matchMedia() {\n      return {};\n    },\n\n    requestAnimationFrame(callback) {\n      if (typeof setTimeout === 'undefined') {\n        callback();\n        return null;\n      }\n\n      return setTimeout(callback, 0);\n    },\n\n    cancelAnimationFrame(id) {\n      if (typeof setTimeout === 'undefined') {\n        return;\n      }\n\n      clearTimeout(id);\n    }\n\n  };\n\n  function getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend$1(win, ssrWindow);\n    return win;\n  }\n\n  /**\n   * Dom7 4.0.2\n   * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n   * https://framework7.io/docs/dom7.html\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n  /* eslint-disable no-proto */\n\n  function makeReactive(obj) {\n    const proto = obj.__proto__;\n    Object.defineProperty(obj, '__proto__', {\n      get() {\n        return proto;\n      },\n\n      set(value) {\n        proto.__proto__ = value;\n      }\n\n    });\n  }\n\n  class Dom7 extends Array {\n    constructor(items) {\n      super(...(items || []));\n      makeReactive(this);\n    }\n\n  }\n\n  function arrayFlat(arr = []) {\n    const res = [];\n    arr.forEach(el => {\n      if (Array.isArray(el)) {\n        res.push(...arrayFlat(el));\n      } else {\n        res.push(el);\n      }\n    });\n    return res;\n  }\n\n  function arrayFilter(arr, callback) {\n    return Array.prototype.filter.call(arr, callback);\n  }\n\n  function arrayUnique(arr) {\n    const uniqueArray = [];\n\n    for (let i = 0; i < arr.length; i += 1) {\n      if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n    }\n\n    return uniqueArray;\n  }\n\n\n  function qsa(selector, context) {\n    if (typeof selector !== 'string') {\n      return [selector];\n    }\n\n    const a = [];\n    const res = context.querySelectorAll(selector);\n\n    for (let i = 0; i < res.length; i += 1) {\n      a.push(res[i]);\n    }\n\n    return a;\n  }\n\n  function $(selector, context) {\n    const window = getWindow();\n    const document = getDocument();\n    let arr = [];\n\n    if (!context && selector instanceof Dom7) {\n      return selector;\n    }\n\n    if (!selector) {\n      return new Dom7(arr);\n    }\n\n    if (typeof selector === 'string') {\n      const html = selector.trim();\n\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        const tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n\n        for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        arr = qsa(selector.trim(), context || document);\n      } // arr = qsa(selector, document);\n\n    } else if (selector.nodeType || selector === window || selector === document) {\n      arr.push(selector);\n    } else if (Array.isArray(selector)) {\n      if (selector instanceof Dom7) return selector;\n      arr = selector;\n    }\n\n    return new Dom7(arrayUnique(arr));\n  }\n\n  $.fn = Dom7.prototype; // eslint-disable-next-line\n\n  function addClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.add(...classNames);\n    });\n    return this;\n  }\n\n  function removeClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.remove(...classNames);\n    });\n    return this;\n  }\n\n  function toggleClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      classNames.forEach(className => {\n        el.classList.toggle(className);\n      });\n    });\n  }\n\n  function hasClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    return arrayFilter(this, el => {\n      return classNames.filter(className => el.classList.contains(className)).length > 0;\n    }).length > 0;\n  }\n\n  function attr(attrs, value) {\n    if (arguments.length === 1 && typeof attrs === 'string') {\n      // Get attr\n      if (this[0]) return this[0].getAttribute(attrs);\n      return undefined;\n    } // Set attrs\n\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i].setAttribute(attrs, value);\n      } else {\n        // Object\n        for (const attrName in attrs) {\n          this[i][attrName] = attrs[attrName];\n          this[i].setAttribute(attrName, attrs[attrName]);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function removeAttr(attr) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].removeAttribute(attr);\n    }\n\n    return this;\n  }\n\n  function transform(transform) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transform = transform;\n    }\n\n    return this;\n  }\n\n  function transition$1(duration) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n    }\n\n    return this;\n  }\n\n  function on(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n\n    function handleLiveEvent(e) {\n      const target = e.target;\n      if (!target) return;\n      const eventData = e.target.dom7EventData || [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n        const parents = $(target).parents(); // eslint-disable-line\n\n        for (let k = 0; k < parents.length; k += 1) {\n          if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n        }\n      }\n    }\n\n    function handleEvent(e) {\n      const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      listener.apply(this, eventData);\n    }\n\n    const events = eventType.split(' ');\n    let j;\n\n    for (let i = 0; i < this.length; i += 1) {\n      const el = this[i];\n\n      if (!targetSelector) {\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7Listeners) el.dom7Listeners = {};\n          if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n          el.dom7Listeners[event].push({\n            listener,\n            proxyListener: handleEvent\n          });\n          el.addEventListener(event, handleEvent, capture);\n        }\n      } else {\n        // Live events\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n          if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n          el.dom7LiveListeners[event].push({\n            listener,\n            proxyListener: handleLiveEvent\n          });\n          el.addEventListener(event, handleLiveEvent, capture);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function off(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n    const events = eventType.split(' ');\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n        let handlers;\n\n        if (!targetSelector && el.dom7Listeners) {\n          handlers = el.dom7Listeners[event];\n        } else if (targetSelector && el.dom7LiveListeners) {\n          handlers = el.dom7LiveListeners[event];\n        }\n\n        if (handlers && handlers.length) {\n          for (let k = handlers.length - 1; k >= 0; k -= 1) {\n            const handler = handlers[k];\n\n            if (listener && handler.listener === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (!listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            }\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function trigger(...args) {\n    const window = getWindow();\n    const events = args[0].split(' ');\n    const eventData = args[1];\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n\n        if (window.CustomEvent) {\n          const evt = new window.CustomEvent(event, {\n            detail: eventData,\n            bubbles: true,\n            cancelable: true\n          });\n          el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n          el.dispatchEvent(evt);\n          el.dom7EventData = [];\n          delete el.dom7EventData;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function transitionEnd$1(callback) {\n    const dom = this;\n\n    function fireCallBack(e) {\n      if (e.target !== this) return;\n      callback.call(this, e);\n      dom.off('transitionend', fireCallBack);\n    }\n\n    if (callback) {\n      dom.on('transitionend', fireCallBack);\n    }\n\n    return this;\n  }\n\n  function outerWidth(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n      }\n\n      return this[0].offsetWidth;\n    }\n\n    return null;\n  }\n\n  function outerHeight(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n      }\n\n      return this[0].offsetHeight;\n    }\n\n    return null;\n  }\n\n  function offset() {\n    if (this.length > 0) {\n      const window = getWindow();\n      const document = getDocument();\n      const el = this[0];\n      const box = el.getBoundingClientRect();\n      const body = document.body;\n      const clientTop = el.clientTop || body.clientTop || 0;\n      const clientLeft = el.clientLeft || body.clientLeft || 0;\n      const scrollTop = el === window ? window.scrollY : el.scrollTop;\n      const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n      return {\n        top: box.top + scrollTop - clientTop,\n        left: box.left + scrollLeft - clientLeft\n      };\n    }\n\n    return null;\n  }\n\n  function styles() {\n    const window = getWindow();\n    if (this[0]) return window.getComputedStyle(this[0], null);\n    return {};\n  }\n\n  function css(props, value) {\n    const window = getWindow();\n    let i;\n\n    if (arguments.length === 1) {\n      if (typeof props === 'string') {\n        // .css('width')\n        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n      } else {\n        // .css({ width: '100px' })\n        for (i = 0; i < this.length; i += 1) {\n          for (const prop in props) {\n            this[i].style[prop] = props[prop];\n          }\n        }\n\n        return this;\n      }\n    }\n\n    if (arguments.length === 2 && typeof props === 'string') {\n      // .css('width', '100px')\n      for (i = 0; i < this.length; i += 1) {\n        this[i].style[props] = value;\n      }\n\n      return this;\n    }\n\n    return this;\n  }\n\n  function each(callback) {\n    if (!callback) return this;\n    this.forEach((el, index) => {\n      callback.apply(el, [el, index]);\n    });\n    return this;\n  }\n\n  function filter(callback) {\n    const result = arrayFilter(this, callback);\n    return $(result);\n  }\n\n  function html(html) {\n    if (typeof html === 'undefined') {\n      return this[0] ? this[0].innerHTML : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].innerHTML = html;\n    }\n\n    return this;\n  }\n\n  function text(text) {\n    if (typeof text === 'undefined') {\n      return this[0] ? this[0].textContent.trim() : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].textContent = text;\n    }\n\n    return this;\n  }\n\n  function is(selector) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    let compareWith;\n    let i;\n    if (!el || typeof selector === 'undefined') return false;\n\n    if (typeof selector === 'string') {\n      if (el.matches) return el.matches(selector);\n      if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n      if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n      compareWith = $(selector);\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    if (selector === document) {\n      return el === document;\n    }\n\n    if (selector === window) {\n      return el === window;\n    }\n\n    if (selector.nodeType || selector instanceof Dom7) {\n      compareWith = selector.nodeType ? [selector] : selector;\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  function index() {\n    let child = this[0];\n    let i;\n\n    if (child) {\n      i = 0; // eslint-disable-next-line\n\n      while ((child = child.previousSibling) !== null) {\n        if (child.nodeType === 1) i += 1;\n      }\n\n      return i;\n    }\n\n    return undefined;\n  }\n\n  function eq(index) {\n    if (typeof index === 'undefined') return this;\n    const length = this.length;\n\n    if (index > length - 1) {\n      return $([]);\n    }\n\n    if (index < 0) {\n      const returnIndex = length + index;\n      if (returnIndex < 0) return $([]);\n      return $([this[returnIndex]]);\n    }\n\n    return $([this[index]]);\n  }\n\n  function append(...els) {\n    let newChild;\n    const document = getDocument();\n\n    for (let k = 0; k < els.length; k += 1) {\n      newChild = els[k];\n\n      for (let i = 0; i < this.length; i += 1) {\n        if (typeof newChild === 'string') {\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = newChild;\n\n          while (tempDiv.firstChild) {\n            this[i].appendChild(tempDiv.firstChild);\n          }\n        } else if (newChild instanceof Dom7) {\n          for (let j = 0; j < newChild.length; j += 1) {\n            this[i].appendChild(newChild[j]);\n          }\n        } else {\n          this[i].appendChild(newChild);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function prepend(newChild) {\n    const document = getDocument();\n    let i;\n    let j;\n\n    for (i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n          this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (j = 0; j < newChild.length; j += 1) {\n          this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n        }\n      } else {\n        this[i].insertBefore(newChild, this[i].childNodes[0]);\n      }\n    }\n\n    return this;\n  }\n\n  function next(selector) {\n    if (this.length > 0) {\n      if (selector) {\n        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n          return $([this[0].nextElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function nextAll(selector) {\n    const nextEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.nextElementSibling) {\n      const next = el.nextElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(next).is(selector)) nextEls.push(next);\n      } else nextEls.push(next);\n\n      el = next;\n    }\n\n    return $(nextEls);\n  }\n\n  function prev(selector) {\n    if (this.length > 0) {\n      const el = this[0];\n\n      if (selector) {\n        if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n          return $([el.previousElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (el.previousElementSibling) return $([el.previousElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function prevAll(selector) {\n    const prevEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.previousElementSibling) {\n      const prev = el.previousElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(prev).is(selector)) prevEls.push(prev);\n      } else prevEls.push(prev);\n\n      el = prev;\n    }\n\n    return $(prevEls);\n  }\n\n  function parent(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode !== null) {\n        if (selector) {\n          if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n        } else {\n          parents.push(this[i].parentNode);\n        }\n      }\n    }\n\n    return $(parents);\n  }\n\n  function parents(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      let parent = this[i].parentNode; // eslint-disable-line\n\n      while (parent) {\n        if (selector) {\n          if ($(parent).is(selector)) parents.push(parent);\n        } else {\n          parents.push(parent);\n        }\n\n        parent = parent.parentNode;\n      }\n    }\n\n    return $(parents);\n  }\n\n  function closest(selector) {\n    let closest = this; // eslint-disable-line\n\n    if (typeof selector === 'undefined') {\n      return $([]);\n    }\n\n    if (!closest.is(selector)) {\n      closest = closest.parents(selector).eq(0);\n    }\n\n    return closest;\n  }\n\n  function find(selector) {\n    const foundElements = [];\n\n    for (let i = 0; i < this.length; i += 1) {\n      const found = this[i].querySelectorAll(selector);\n\n      for (let j = 0; j < found.length; j += 1) {\n        foundElements.push(found[j]);\n      }\n    }\n\n    return $(foundElements);\n  }\n\n  function children(selector) {\n    const children = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      const childNodes = this[i].children;\n\n      for (let j = 0; j < childNodes.length; j += 1) {\n        if (!selector || $(childNodes[j]).is(selector)) {\n          children.push(childNodes[j]);\n        }\n      }\n    }\n\n    return $(children);\n  }\n\n  function remove() {\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n    }\n\n    return this;\n  }\n\n  const Methods = {\n    addClass,\n    removeClass,\n    hasClass,\n    toggleClass,\n    attr,\n    removeAttr,\n    transform,\n    transition: transition$1,\n    on,\n    off,\n    trigger,\n    transitionEnd: transitionEnd$1,\n    outerWidth,\n    outerHeight,\n    styles,\n    offset,\n    css,\n    each,\n    html,\n    text,\n    is,\n    index,\n    eq,\n    append,\n    prepend,\n    next,\n    nextAll,\n    prev,\n    prevAll,\n    parent,\n    parents,\n    closest,\n    find,\n    children,\n    filter,\n    remove\n  };\n  Object.keys(Methods).forEach(methodName => {\n    Object.defineProperty($.fn, methodName, {\n      value: Methods[methodName],\n      writable: true\n    });\n  });\n\n  function deleteProps(obj) {\n    const object = obj;\n    Object.keys(object).forEach(key => {\n      try {\n        object[key] = null;\n      } catch (e) {// no getter for object\n      }\n\n      try {\n        delete object[key];\n      } catch (e) {// something got wrong\n      }\n    });\n  }\n\n  function nextTick(callback, delay = 0) {\n    return setTimeout(callback, delay);\n  }\n\n  function now() {\n    return Date.now();\n  }\n\n  function getComputedStyle$1(el) {\n    const window = getWindow();\n    let style;\n\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(el, null);\n    }\n\n    if (!style && el.currentStyle) {\n      style = el.currentStyle;\n    }\n\n    if (!style) {\n      style = el.style;\n    }\n\n    return style;\n  }\n\n  function getTranslate(el, axis = 'x') {\n    const window = getWindow();\n    let matrix;\n    let curTransform;\n    let transformMatrix;\n    const curStyle = getComputedStyle$1(el);\n\n    if (window.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n      } // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n\n\n      transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n    }\n\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n    }\n\n    return curTransform || 0;\n  }\n\n  function isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n  }\n\n  function isNode(node) {\n    // eslint-disable-next-line\n    if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n      return node instanceof HTMLElement;\n    }\n\n    return node && (node.nodeType === 1 || node.nodeType === 11);\n  }\n\n  function extend(...args) {\n    const to = Object(args[0]);\n    const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n    for (let i = 1; i < args.length; i += 1) {\n      const nextSource = args[i];\n\n      if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n        const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n        for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          const nextKey = keysArray[nextIndex];\n          const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n          if (desc !== undefined && desc.enumerable) {\n            if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n\n    return to;\n  }\n\n  function setCSSProperty(el, varName, varValue) {\n    el.style.setProperty(varName, varValue);\n  }\n\n  function animateCSSModeScroll({\n    swiper,\n    targetPosition,\n    side\n  }) {\n    const window = getWindow();\n    const startPosition = -swiper.translate;\n    let startTime = null;\n    let time;\n    const duration = swiper.params.speed;\n    swiper.wrapperEl.style.scrollSnapType = 'none';\n    window.cancelAnimationFrame(swiper.cssModeFrameID);\n    const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n    const isOutOfBound = (current, target) => {\n      return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n    };\n\n    const animate = () => {\n      time = new Date().getTime();\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n      let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        currentPosition = targetPosition;\n      }\n\n      swiper.wrapperEl.scrollTo({\n        [side]: currentPosition\n      });\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.scrollSnapType = '';\n        setTimeout(() => {\n          swiper.wrapperEl.style.overflow = '';\n          swiper.wrapperEl.scrollTo({\n            [side]: currentPosition\n          });\n        });\n        window.cancelAnimationFrame(swiper.cssModeFrameID);\n        return;\n      }\n\n      swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n    };\n\n    animate();\n  }\n\n  let support;\n\n  function calcSupport() {\n    const window = getWindow();\n    const document = getDocument();\n    return {\n      smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n      touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n      passiveListener: function checkPassiveListener() {\n        let supportsPassive = false;\n\n        try {\n          const opts = Object.defineProperty({}, 'passive', {\n            // eslint-disable-next-line\n            get() {\n              supportsPassive = true;\n            }\n\n          });\n          window.addEventListener('testPassiveListener', null, opts);\n        } catch (e) {// No support\n        }\n\n        return supportsPassive;\n      }(),\n      gestures: function checkGestures() {\n        return 'ongesturestart' in window;\n      }()\n    };\n  }\n\n  function getSupport() {\n    if (!support) {\n      support = calcSupport();\n    }\n\n    return support;\n  }\n\n  let deviceCached;\n\n  function calcDevice({\n    userAgent\n  } = {}) {\n    const support = getSupport();\n    const window = getWindow();\n    const platform = window.navigator.platform;\n    const ua = userAgent || window.navigator.userAgent;\n    const device = {\n      ios: false,\n      android: false\n    };\n    const screenWidth = window.screen.width;\n    const screenHeight = window.screen.height;\n    const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n    let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n    const windows = platform === 'Win32';\n    let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n    const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n    if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n      ipad = ua.match(/(Version)\\/([\\d.]+)/);\n      if (!ipad) ipad = [0, 1, '13_0_0'];\n      macos = false;\n    } // Android\n\n\n    if (android && !windows) {\n      device.os = 'android';\n      device.android = true;\n    }\n\n    if (ipad || iphone || ipod) {\n      device.os = 'ios';\n      device.ios = true;\n    } // Export object\n\n\n    return device;\n  }\n\n  function getDevice(overrides = {}) {\n    if (!deviceCached) {\n      deviceCached = calcDevice(overrides);\n    }\n\n    return deviceCached;\n  }\n\n  let browser;\n\n  function calcBrowser() {\n    const window = getWindow();\n\n    function isSafari() {\n      const ua = window.navigator.userAgent.toLowerCase();\n      return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n    }\n\n    return {\n      isSafari: isSafari(),\n      isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n    };\n  }\n\n  function getBrowser() {\n    if (!browser) {\n      browser = calcBrowser();\n    }\n\n    return browser;\n  }\n\n  function Resize({\n    swiper,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    let observer = null;\n\n    const resizeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('beforeResize');\n      emit('resize');\n    };\n\n    const createObserver = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      observer = new ResizeObserver(entries => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n      observer.observe(swiper.el);\n    };\n\n    const removeObserver = () => {\n      if (observer && observer.unobserve && swiper.el) {\n        observer.unobserve(swiper.el);\n        observer = null;\n      }\n    };\n\n    const orientationChangeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('orientationchange');\n    };\n\n    on('init', () => {\n      if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n        createObserver();\n        return;\n      }\n\n      window.addEventListener('resize', resizeHandler);\n      window.addEventListener('orientationchange', orientationChangeHandler);\n    });\n    on('destroy', () => {\n      removeObserver();\n      window.removeEventListener('resize', resizeHandler);\n      window.removeEventListener('orientationchange', orientationChangeHandler);\n    });\n  }\n\n  function Observer({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const observers = [];\n    const window = getWindow();\n\n    const attach = (target, options = {}) => {\n      const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n      const observer = new ObserverFunc(mutations => {\n        // The observerUpdate event should only be triggered\n        // once despite the number of mutations.  Additional\n        // triggers are redundant and are very costly\n        if (mutations.length === 1) {\n          emit('observerUpdate', mutations[0]);\n          return;\n        }\n\n        const observerUpdate = function observerUpdate() {\n          emit('observerUpdate', mutations[0]);\n        };\n\n        if (window.requestAnimationFrame) {\n          window.requestAnimationFrame(observerUpdate);\n        } else {\n          window.setTimeout(observerUpdate, 0);\n        }\n      });\n      observer.observe(target, {\n        attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n        childList: typeof options.childList === 'undefined' ? true : options.childList,\n        characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n      });\n      observers.push(observer);\n    };\n\n    const init = () => {\n      if (!swiper.params.observer) return;\n\n      if (swiper.params.observeParents) {\n        const containerParents = swiper.$el.parents();\n\n        for (let i = 0; i < containerParents.length; i += 1) {\n          attach(containerParents[i]);\n        }\n      } // Observe container\n\n\n      attach(swiper.$el[0], {\n        childList: swiper.params.observeSlideChildren\n      }); // Observe wrapper\n\n      attach(swiper.$wrapperEl[0], {\n        attributes: false\n      });\n    };\n\n    const destroy = () => {\n      observers.forEach(observer => {\n        observer.disconnect();\n      });\n      observers.splice(0, observers.length);\n    };\n\n    extendParams({\n      observer: false,\n      observeParents: false,\n      observeSlideChildren: false\n    });\n    on('init', init);\n    on('destroy', destroy);\n  }\n\n  /* eslint-disable no-underscore-dangle */\n  var eventsEmitter = {\n    on(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n      events.split(' ').forEach(event => {\n        if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n        self.eventsListeners[event][method](handler);\n      });\n      return self;\n    },\n\n    once(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n\n      function onceHandler(...args) {\n        self.off(events, onceHandler);\n\n        if (onceHandler.__emitterProxy) {\n          delete onceHandler.__emitterProxy;\n        }\n\n        handler.apply(self, args);\n      }\n\n      onceHandler.__emitterProxy = handler;\n      return self.on(events, onceHandler, priority);\n    },\n\n    onAny(handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n\n      if (self.eventsAnyListeners.indexOf(handler) < 0) {\n        self.eventsAnyListeners[method](handler);\n      }\n\n      return self;\n    },\n\n    offAny(handler) {\n      const self = this;\n      if (!self.eventsAnyListeners) return self;\n      const index = self.eventsAnyListeners.indexOf(handler);\n\n      if (index >= 0) {\n        self.eventsAnyListeners.splice(index, 1);\n      }\n\n      return self;\n    },\n\n    off(events, handler) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      events.split(' ').forEach(event => {\n        if (typeof handler === 'undefined') {\n          self.eventsListeners[event] = [];\n        } else if (self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach((eventHandler, index) => {\n            if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n              self.eventsListeners[event].splice(index, 1);\n            }\n          });\n        }\n      });\n      return self;\n    },\n\n    emit(...args) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      let events;\n      let data;\n      let context;\n\n      if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n        events = args[0];\n        data = args.slice(1, args.length);\n        context = self;\n      } else {\n        events = args[0].events;\n        data = args[0].data;\n        context = args[0].context || self;\n      }\n\n      data.unshift(context);\n      const eventsArray = Array.isArray(events) ? events : events.split(' ');\n      eventsArray.forEach(event => {\n        if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n          self.eventsAnyListeners.forEach(eventHandler => {\n            eventHandler.apply(context, [event, ...data]);\n          });\n        }\n\n        if (self.eventsListeners && self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach(eventHandler => {\n            eventHandler.apply(context, data);\n          });\n        }\n      });\n      return self;\n    }\n\n  };\n\n  function updateSize() {\n    const swiper = this;\n    let width;\n    let height;\n    const $el = swiper.$el;\n\n    if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n      width = swiper.params.width;\n    } else {\n      width = $el[0].clientWidth;\n    }\n\n    if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n      height = swiper.params.height;\n    } else {\n      height = $el[0].clientHeight;\n    }\n\n    if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n      return;\n    } // Subtract paddings\n\n\n    width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n    height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n    if (Number.isNaN(width)) width = 0;\n    if (Number.isNaN(height)) height = 0;\n    Object.assign(swiper, {\n      width,\n      height,\n      size: swiper.isHorizontal() ? width : height\n    });\n  }\n\n  function updateSlides() {\n    const swiper = this;\n\n    function getDirectionLabel(property) {\n      if (swiper.isHorizontal()) {\n        return property;\n      } // prettier-ignore\n\n\n      return {\n        'width': 'height',\n        'margin-top': 'margin-left',\n        'margin-bottom ': 'margin-right',\n        'margin-left': 'margin-top',\n        'margin-right': 'margin-bottom',\n        'padding-left': 'padding-top',\n        'padding-right': 'padding-bottom',\n        'marginRight': 'marginBottom'\n      }[property];\n    }\n\n    function getDirectionPropertyValue(node, label) {\n      return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n    }\n\n    const params = swiper.params;\n    const {\n      $wrapperEl,\n      size: swiperSize,\n      rtlTranslate: rtl,\n      wrongRTL\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n    const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n    const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n    let snapGrid = [];\n    const slidesGrid = [];\n    const slidesSizesGrid = [];\n    let offsetBefore = params.slidesOffsetBefore;\n\n    if (typeof offsetBefore === 'function') {\n      offsetBefore = params.slidesOffsetBefore.call(swiper);\n    }\n\n    let offsetAfter = params.slidesOffsetAfter;\n\n    if (typeof offsetAfter === 'function') {\n      offsetAfter = params.slidesOffsetAfter.call(swiper);\n    }\n\n    const previousSnapGridLength = swiper.snapGrid.length;\n    const previousSlidesGridLength = swiper.slidesGrid.length;\n    let spaceBetween = params.spaceBetween;\n    let slidePosition = -offsetBefore;\n    let prevSlideSize = 0;\n    let index = 0;\n\n    if (typeof swiperSize === 'undefined') {\n      return;\n    }\n\n    if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n      spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n    }\n\n    swiper.virtualSize = -spaceBetween; // reset margins\n\n    if (rtl) slides.css({\n      marginLeft: '',\n      marginBottom: '',\n      marginTop: ''\n    });else slides.css({\n      marginRight: '',\n      marginBottom: '',\n      marginTop: ''\n    }); // reset cssMode offsets\n\n    if (params.centeredSlides && params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n    }\n\n    const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n    if (gridEnabled) {\n      swiper.grid.initSlides(slidesLength);\n    } // Calc slides\n\n\n    let slideSize;\n    const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n      return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n    }).length > 0;\n\n    for (let i = 0; i < slidesLength; i += 1) {\n      slideSize = 0;\n      const slide = slides.eq(i);\n\n      if (gridEnabled) {\n        swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n      }\n\n      if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n      if (params.slidesPerView === 'auto') {\n        if (shouldResetSlideSize) {\n          slides[i].style[getDirectionLabel('width')] = ``;\n        }\n\n        const slideStyles = getComputedStyle(slide[0]);\n        const currentTransform = slide[0].style.transform;\n        const currentWebKitTransform = slide[0].style.webkitTransform;\n\n        if (currentTransform) {\n          slide[0].style.transform = 'none';\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = 'none';\n        }\n\n        if (params.roundLengths) {\n          slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n        } else {\n          // eslint-disable-next-line\n          const width = getDirectionPropertyValue(slideStyles, 'width');\n          const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n          const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n          const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n          const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n          const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n          if (boxSizing && boxSizing === 'border-box') {\n            slideSize = width + marginLeft + marginRight;\n          } else {\n            const {\n              clientWidth,\n              offsetWidth\n            } = slide[0];\n            slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n          }\n        }\n\n        if (currentTransform) {\n          slide[0].style.transform = currentTransform;\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = currentWebKitTransform;\n        }\n\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n      } else {\n        slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n        if (slides[i]) {\n          slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n        }\n      }\n\n      if (slides[i]) {\n        slides[i].swiperSlideSize = slideSize;\n      }\n\n      slidesSizesGrid.push(slideSize);\n\n      if (params.centeredSlides) {\n        slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n        if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n      } else {\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n        slidePosition = slidePosition + slideSize + spaceBetween;\n      }\n\n      swiper.virtualSize += slideSize + spaceBetween;\n      prevSlideSize = slideSize;\n      index += 1;\n    }\n\n    swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n    if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n      $wrapperEl.css({\n        width: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (params.setWrapperSize) {\n      $wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (gridEnabled) {\n      swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n    } // Remove last grid elements depending on width\n\n\n    if (!params.centeredSlides) {\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n        if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n          newSlidesGrid.push(slidesGridItem);\n        }\n      }\n\n      snapGrid = newSlidesGrid;\n\n      if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n        snapGrid.push(swiper.virtualSize - swiperSize);\n      }\n    }\n\n    if (snapGrid.length === 0) snapGrid = [0];\n\n    if (params.spaceBetween !== 0) {\n      const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n      slides.filter((_, slideIndex) => {\n        if (!params.cssMode) return true;\n\n        if (slideIndex === slides.length - 1) {\n          return false;\n        }\n\n        return true;\n      }).css({\n        [key]: `${spaceBetween}px`\n      });\n    }\n\n    if (params.centeredSlides && params.centeredSlidesBounds) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n      const maxSnap = allSlidesSize - swiperSize;\n      snapGrid = snapGrid.map(snap => {\n        if (snap < 0) return -offsetBefore;\n        if (snap > maxSnap) return maxSnap + offsetAfter;\n        return snap;\n      });\n    }\n\n    if (params.centerInsufficientSlides) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n\n      if (allSlidesSize < swiperSize) {\n        const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n        snapGrid.forEach((snap, snapIndex) => {\n          snapGrid[snapIndex] = snap - allSlidesOffset;\n        });\n        slidesGrid.forEach((snap, snapIndex) => {\n          slidesGrid[snapIndex] = snap + allSlidesOffset;\n        });\n      }\n    }\n\n    Object.assign(swiper, {\n      slides,\n      snapGrid,\n      slidesGrid,\n      slidesSizesGrid\n    });\n\n    if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n      const addToSnapGrid = -swiper.snapGrid[0];\n      const addToSlidesGrid = -swiper.slidesGrid[0];\n      swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n      swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n    }\n\n    if (slidesLength !== previousSlidesLength) {\n      swiper.emit('slidesLengthChange');\n    }\n\n    if (snapGrid.length !== previousSnapGridLength) {\n      if (swiper.params.watchOverflow) swiper.checkOverflow();\n      swiper.emit('snapGridLengthChange');\n    }\n\n    if (slidesGrid.length !== previousSlidesGridLength) {\n      swiper.emit('slidesGridLengthChange');\n    }\n\n    if (params.watchSlidesProgress) {\n      swiper.updateSlidesOffset();\n    }\n  }\n\n  function updateAutoHeight(speed) {\n    const swiper = this;\n    const activeSlides = [];\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let newHeight = 0;\n    let i;\n\n    if (typeof speed === 'number') {\n      swiper.setTransition(speed);\n    } else if (speed === true) {\n      swiper.setTransition(swiper.params.speed);\n    }\n\n    const getSlideByIndex = index => {\n      if (isVirtual) {\n        return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n      }\n\n      return swiper.slides.eq(index)[0];\n    }; // Find slides currently in view\n\n\n    if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n      if (swiper.params.centeredSlides) {\n        swiper.visibleSlides.each(slide => {\n          activeSlides.push(slide);\n        });\n      } else {\n        for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n          const index = swiper.activeIndex + i;\n          if (index > swiper.slides.length && !isVirtual) break;\n          activeSlides.push(getSlideByIndex(index));\n        }\n      }\n    } else {\n      activeSlides.push(getSlideByIndex(swiper.activeIndex));\n    } // Find new height from highest slide in view\n\n\n    for (i = 0; i < activeSlides.length; i += 1) {\n      if (typeof activeSlides[i] !== 'undefined') {\n        const height = activeSlides[i].offsetHeight;\n        newHeight = height > newHeight ? height : newHeight;\n      }\n    } // Update Height\n\n\n    if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n  }\n\n  function updateSlidesOffset() {\n    const swiper = this;\n    const slides = swiper.slides;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n    }\n  }\n\n  function updateSlidesProgress(translate = this && this.translate || 0) {\n    const swiper = this;\n    const params = swiper.params;\n    const {\n      slides,\n      rtlTranslate: rtl,\n      snapGrid\n    } = swiper;\n    if (slides.length === 0) return;\n    if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n    let offsetCenter = -translate;\n    if (rtl) offsetCenter = translate; // Visible Slides\n\n    slides.removeClass(params.slideVisibleClass);\n    swiper.visibleSlidesIndexes = [];\n    swiper.visibleSlides = [];\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const slide = slides[i];\n      let slideOffset = slide.swiperSlideOffset;\n\n      if (params.cssMode && params.centeredSlides) {\n        slideOffset -= slides[0].swiperSlideOffset;\n      }\n\n      const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const slideBefore = -(offsetCenter - slideOffset);\n      const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n\n      slide.progress = rtl ? -slideProgress : slideProgress;\n      slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n    }\n\n    swiper.visibleSlides = $(swiper.visibleSlides);\n  }\n\n  function updateProgress(translate) {\n    const swiper = this;\n\n    if (typeof translate === 'undefined') {\n      const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n      translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n    }\n\n    const params = swiper.params;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n    let {\n      progress,\n      isBeginning,\n      isEnd\n    } = swiper;\n    const wasBeginning = isBeginning;\n    const wasEnd = isEnd;\n\n    if (translatesDiff === 0) {\n      progress = 0;\n      isBeginning = true;\n      isEnd = true;\n    } else {\n      progress = (translate - swiper.minTranslate()) / translatesDiff;\n      isBeginning = progress <= 0;\n      isEnd = progress >= 1;\n    }\n\n    Object.assign(swiper, {\n      progress,\n      isBeginning,\n      isEnd\n    });\n    if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n    if (isBeginning && !wasBeginning) {\n      swiper.emit('reachBeginning toEdge');\n    }\n\n    if (isEnd && !wasEnd) {\n      swiper.emit('reachEnd toEdge');\n    }\n\n    if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n      swiper.emit('fromEdge');\n    }\n\n    swiper.emit('progress', progress);\n  }\n\n  function updateSlidesClasses() {\n    const swiper = this;\n    const {\n      slides,\n      params,\n      $wrapperEl,\n      activeIndex,\n      realIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n    let activeSlide;\n\n    if (isVirtual) {\n      activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n    } else {\n      activeSlide = slides.eq(activeIndex);\n    } // Active classes\n\n\n    activeSlide.addClass(params.slideActiveClass);\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (activeSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      }\n    } // Next Slide\n\n\n    let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n    if (params.loop && nextSlide.length === 0) {\n      nextSlide = slides.eq(0);\n      nextSlide.addClass(params.slideNextClass);\n    } // Prev Slide\n\n\n    let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n    if (params.loop && prevSlide.length === 0) {\n      prevSlide = slides.eq(-1);\n      prevSlide.addClass(params.slidePrevClass);\n    }\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (nextSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      }\n\n      if (prevSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      }\n    }\n\n    swiper.emitSlidesClasses();\n  }\n\n  function updateActiveIndex(newActiveIndex) {\n    const swiper = this;\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n    const {\n      slidesGrid,\n      snapGrid,\n      params,\n      activeIndex: previousIndex,\n      realIndex: previousRealIndex,\n      snapIndex: previousSnapIndex\n    } = swiper;\n    let activeIndex = newActiveIndex;\n    let snapIndex;\n\n    if (typeof activeIndex === 'undefined') {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n            activeIndex = i;\n          } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n            activeIndex = i + 1;\n          }\n        } else if (translate >= slidesGrid[i]) {\n          activeIndex = i;\n        }\n      } // Normalize slideIndex\n\n\n      if (params.normalizeSlideIndex) {\n        if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n      }\n    }\n\n    if (snapGrid.indexOf(translate) >= 0) {\n      snapIndex = snapGrid.indexOf(translate);\n    } else {\n      const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n      snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n    }\n\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if (activeIndex === previousIndex) {\n      if (snapIndex !== previousSnapIndex) {\n        swiper.snapIndex = snapIndex;\n        swiper.emit('snapIndexChange');\n      }\n\n      return;\n    } // Get real index\n\n\n    const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n    Object.assign(swiper, {\n      snapIndex,\n      realIndex,\n      previousIndex,\n      activeIndex\n    });\n    swiper.emit('activeIndexChange');\n    swiper.emit('snapIndexChange');\n\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n\n    if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n      swiper.emit('slideChange');\n    }\n  }\n\n  function updateClickedSlide(e) {\n    const swiper = this;\n    const params = swiper.params;\n    const slide = $(e).closest(`.${params.slideClass}`)[0];\n    let slideFound = false;\n    let slideIndex;\n\n    if (slide) {\n      for (let i = 0; i < swiper.slides.length; i += 1) {\n        if (swiper.slides[i] === slide) {\n          slideFound = true;\n          slideIndex = i;\n          break;\n        }\n      }\n    }\n\n    if (slide && slideFound) {\n      swiper.clickedSlide = slide;\n\n      if (swiper.virtual && swiper.params.virtual.enabled) {\n        swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n      } else {\n        swiper.clickedIndex = slideIndex;\n      }\n    } else {\n      swiper.clickedSlide = undefined;\n      swiper.clickedIndex = undefined;\n      return;\n    }\n\n    if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n      swiper.slideToClickedSlide();\n    }\n  }\n\n  var update = {\n    updateSize,\n    updateSlides,\n    updateAutoHeight,\n    updateSlidesOffset,\n    updateSlidesProgress,\n    updateProgress,\n    updateSlidesClasses,\n    updateActiveIndex,\n    updateClickedSlide\n  };\n\n  function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n    const swiper = this;\n    const {\n      params,\n      rtlTranslate: rtl,\n      translate,\n      $wrapperEl\n    } = swiper;\n\n    if (params.virtualTranslate) {\n      return rtl ? -translate : translate;\n    }\n\n    if (params.cssMode) {\n      return translate;\n    }\n\n    let currentTranslate = getTranslate($wrapperEl[0], axis);\n    if (rtl) currentTranslate = -currentTranslate;\n    return currentTranslate || 0;\n  }\n\n  function setTranslate(translate, byController) {\n    const swiper = this;\n    const {\n      rtlTranslate: rtl,\n      params,\n      $wrapperEl,\n      wrapperEl,\n      progress\n    } = swiper;\n    let x = 0;\n    let y = 0;\n    const z = 0;\n\n    if (swiper.isHorizontal()) {\n      x = rtl ? -translate : translate;\n    } else {\n      y = translate;\n    }\n\n    if (params.roundLengths) {\n      x = Math.floor(x);\n      y = Math.floor(y);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n    } else if (!params.virtualTranslate) {\n      $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n    }\n\n    swiper.previousTranslate = swiper.translate;\n    swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== progress) {\n      swiper.updateProgress(translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, byController);\n  }\n\n  function minTranslate() {\n    return -this.snapGrid[0];\n  }\n\n  function maxTranslate() {\n    return -this.snapGrid[this.snapGrid.length - 1];\n  }\n\n  function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      wrapperEl\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return false;\n    }\n\n    const minTranslate = swiper.minTranslate();\n    const maxTranslate = swiper.maxTranslate();\n    let newTranslate;\n    if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n    swiper.updateProgress(newTranslate);\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n\n      if (speed === 0) {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: -newTranslate,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: -newTranslate,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionEnd');\n      }\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionStart');\n      }\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onTranslateToWrapperTransitionEnd) {\n          swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.onTranslateToWrapperTransitionEnd = null;\n            delete swiper.onTranslateToWrapperTransitionEnd;\n\n            if (runCallbacks) {\n              swiper.emit('transitionEnd');\n            }\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  var translate = {\n    getTranslate: getSwiperTranslate,\n    setTranslate,\n    minTranslate,\n    maxTranslate,\n    translateTo\n  };\n\n  function setTransition(duration, byController) {\n    const swiper = this;\n\n    if (!swiper.params.cssMode) {\n      swiper.$wrapperEl.transition(duration);\n    }\n\n    swiper.emit('setTransition', duration, byController);\n  }\n\n  function transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  }) {\n    const {\n      activeIndex,\n      previousIndex\n    } = swiper;\n    let dir = direction;\n\n    if (!dir) {\n      if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n    }\n\n    swiper.emit(`transition${step}`);\n\n    if (runCallbacks && activeIndex !== previousIndex) {\n      if (dir === 'reset') {\n        swiper.emit(`slideResetTransition${step}`);\n        return;\n      }\n\n      swiper.emit(`slideChangeTransition${step}`);\n\n      if (dir === 'next') {\n        swiper.emit(`slideNextTransition${step}`);\n      } else {\n        swiper.emit(`slidePrevTransition${step}`);\n      }\n    }\n  }\n\n  function transitionStart(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    if (params.cssMode) return;\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'Start'\n    });\n  }\n\n  function transitionEnd(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    swiper.animating = false;\n    if (params.cssMode) return;\n    swiper.setTransition(0);\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'End'\n    });\n  }\n\n  var transition = {\n    setTransition,\n    transitionStart,\n    transitionEnd\n  };\n\n  function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n    if (typeof index !== 'number' && typeof index !== 'string') {\n      throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n    }\n\n    if (typeof index === 'string') {\n      /**\n       * The `index` argument converted from `string` to `number`.\n       * @type {number}\n       */\n      const indexAsNumber = parseInt(index, 10);\n      /**\n       * Determines whether the `index` argument is a valid `number`\n       * after being converted from the `string` type.\n       * @type {boolean}\n       */\n\n      const isValidNumber = isFinite(indexAsNumber);\n\n      if (!isValidNumber) {\n        throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n      } // Knowing that the converted `index` is a valid number,\n      // we can update the original argument's value.\n\n\n      index = indexAsNumber;\n    }\n\n    const swiper = this;\n    let slideIndex = index;\n    if (slideIndex < 0) slideIndex = 0;\n    const {\n      params,\n      snapGrid,\n      slidesGrid,\n      previousIndex,\n      activeIndex,\n      rtlTranslate: rtl,\n      wrapperEl,\n      enabled\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n      return false;\n    }\n\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n    let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n      swiper.emit('beforeSlideChangeStart');\n    }\n\n    const translate = -snapGrid[snapIndex]; // Update progress\n\n    swiper.updateProgress(translate); // Normalize slideIndex\n\n    if (params.normalizeSlideIndex) {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        const normalizedTranslate = -Math.floor(translate * 100);\n        const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n        const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n            slideIndex = i;\n          } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n            slideIndex = i + 1;\n          }\n        } else if (normalizedTranslate >= normalizedGrid) {\n          slideIndex = i;\n        }\n      }\n    } // Directions locks\n\n\n    if (swiper.initialized && slideIndex !== activeIndex) {\n      if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n        if ((activeIndex || 0) !== slideIndex) return false;\n      }\n    }\n\n    let direction;\n    if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n    if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n      swiper.updateActiveIndex(slideIndex); // Update Height\n\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n\n      swiper.updateSlidesClasses();\n\n      if (params.effect !== 'slide') {\n        swiper.setTranslate(translate);\n      }\n\n      if (direction !== 'reset') {\n        swiper.transitionStart(runCallbacks, direction);\n        swiper.transitionEnd(runCallbacks, direction);\n      }\n\n      return false;\n    }\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n      const t = rtl ? translate : -translate;\n\n      if (speed === 0) {\n        const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n        if (isVirtual) {\n          swiper.wrapperEl.style.scrollSnapType = 'none';\n          swiper._immediateVirtual = true;\n        }\n\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n        if (isVirtual) {\n          requestAnimationFrame(() => {\n            swiper.wrapperEl.style.scrollSnapType = '';\n            swiper._swiperImmediateVirtual = false;\n          });\n        }\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: t,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: t,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onSlideToWrapperTransitionEnd) {\n          swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n            swiper.onSlideToWrapperTransitionEnd = null;\n            delete swiper.onSlideToWrapperTransitionEnd;\n            swiper.transitionEnd(runCallbacks, direction);\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    let newIndex = index;\n\n    if (swiper.params.loop) {\n      newIndex += swiper.loopedSlides;\n    }\n\n    return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      animating,\n      enabled,\n      params\n    } = swiper;\n    if (!enabled) return swiper;\n    let perGroup = params.slidesPerGroup;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n    }\n\n    const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      animating,\n      snapGrid,\n      slidesGrid,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return swiper;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n    function normalize(val) {\n      if (val < 0) return -Math.floor(Math.abs(val));\n      return Math.floor(val);\n    }\n\n    const normalizedTranslate = normalize(translate);\n    const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n    let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n    if (typeof prevSnap === 'undefined' && params.cssMode) {\n      let prevSnapIndex;\n      snapGrid.forEach((snap, snapIndex) => {\n        if (normalizedTranslate >= snap) {\n          // prevSnap = snap;\n          prevSnapIndex = snapIndex;\n        }\n      });\n\n      if (typeof prevSnapIndex !== 'undefined') {\n        prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n      }\n    }\n\n    let prevIndex = 0;\n\n    if (typeof prevSnap !== 'undefined') {\n      prevIndex = slidesGrid.indexOf(prevSnap);\n      if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n      if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n        prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n        prevIndex = Math.max(prevIndex, 0);\n      }\n    }\n\n    return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n    const swiper = this;\n    let index = swiper.activeIndex;\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n    const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n    if (translate >= swiper.snapGrid[snapIndex]) {\n      // The current translate is on or after the current snap index, so the choice\n      // is between the current index and the one after it.\n      const currentSnap = swiper.snapGrid[snapIndex];\n      const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n      if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n        index += swiper.params.slidesPerGroup;\n      }\n    } else {\n      // The current translate is before the current snap index, so the choice\n      // is between the current index and the one before it.\n      const prevSnap = swiper.snapGrid[snapIndex - 1];\n      const currentSnap = swiper.snapGrid[snapIndex];\n\n      if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n        index -= swiper.params.slidesPerGroup;\n      }\n    }\n\n    index = Math.max(index, 0);\n    index = Math.min(index, swiper.slidesGrid.length - 1);\n    return swiper.slideTo(index, speed, runCallbacks, internal);\n  }\n\n  function slideToClickedSlide() {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl\n    } = swiper;\n    const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n    let slideToIndex = swiper.clickedIndex;\n    let realIndex;\n\n    if (params.loop) {\n      if (swiper.animating) return;\n      realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n      if (params.centeredSlides) {\n        if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n          swiper.loopFix();\n          slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n          nextTick(() => {\n            swiper.slideTo(slideToIndex);\n          });\n        } else {\n          swiper.slideTo(slideToIndex);\n        }\n      } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  }\n\n  var slide = {\n    slideTo,\n    slideToLoop,\n    slideNext,\n    slidePrev,\n    slideReset,\n    slideToClosest,\n    slideToClickedSlide\n  };\n\n  function loopCreate() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      $wrapperEl\n    } = swiper; // Remove duplicated slides\n\n    const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n    $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n    let slides = $selector.children(`.${params.slideClass}`);\n\n    if (params.loopFillGroupWithBlank) {\n      const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n      if (blankSlidesNum !== params.slidesPerGroup) {\n        for (let i = 0; i < blankSlidesNum; i += 1) {\n          const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n          $selector.append(blankNode);\n        }\n\n        slides = $selector.children(`.${params.slideClass}`);\n      }\n    }\n\n    if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n    swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n    swiper.loopedSlides += params.loopAdditionalSlides;\n\n    if (swiper.loopedSlides > slides.length) {\n      swiper.loopedSlides = slides.length;\n    }\n\n    const prependSlides = [];\n    const appendSlides = [];\n    slides.each((el, index) => {\n      const slide = $(el);\n\n      if (index < swiper.loopedSlides) {\n        appendSlides.push(el);\n      }\n\n      if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n        prependSlides.push(el);\n      }\n\n      slide.attr('data-swiper-slide-index', index);\n    });\n\n    for (let i = 0; i < appendSlides.length; i += 1) {\n      $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n\n    for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n      $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n  }\n\n  function loopFix() {\n    const swiper = this;\n    swiper.emit('beforeLoopFix');\n    const {\n      activeIndex,\n      slides,\n      loopedSlides,\n      allowSlidePrev,\n      allowSlideNext,\n      snapGrid,\n      rtlTranslate: rtl\n    } = swiper;\n    let newIndex;\n    swiper.allowSlidePrev = true;\n    swiper.allowSlideNext = true;\n    const snapTranslate = -snapGrid[activeIndex];\n    const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n    if (activeIndex < loopedSlides) {\n      newIndex = slides.length - loopedSlides * 3 + activeIndex;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    } else if (activeIndex >= slides.length - loopedSlides) {\n      // Fix For Positive Oversliding\n      newIndex = -slides.length + activeIndex + loopedSlides;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    }\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n  }\n\n  function loopDestroy() {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      slides\n    } = swiper;\n    $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n    slides.removeAttr('data-swiper-slide-index');\n  }\n\n  var loop = {\n    loopCreate,\n    loopFix,\n    loopDestroy\n  };\n\n  function setGrabCursor(moving) {\n    const swiper = this;\n    if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n    const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n    el.style.cursor = 'move';\n    el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n    el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n    el.style.cursor = moving ? 'grabbing' : 'grab';\n  }\n\n  function unsetGrabCursor() {\n    const swiper = this;\n\n    if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n      return;\n    }\n\n    swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  }\n\n  var grabCursor = {\n    setGrabCursor,\n    unsetGrabCursor\n  };\n\n  function closestElement(selector, base = this) {\n    function __closestFrom(el) {\n      if (!el || el === getDocument() || el === getWindow()) return null;\n      if (el.assignedSlot) el = el.assignedSlot;\n      const found = el.closest(selector);\n      return found || __closestFrom(el.getRootNode().host);\n    }\n\n    return __closestFrom(base);\n  }\n\n  function onTouchStart(event) {\n    const swiper = this;\n    const document = getDocument();\n    const window = getWindow();\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return;\n    }\n\n    if (!swiper.animating && params.cssMode && params.loop) {\n      swiper.loopFix();\n    }\n\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n    let $targetEl = $(e.target);\n\n    if (params.touchEventsTarget === 'wrapper') {\n      if (!$targetEl.closest(swiper.wrapperEl).length) return;\n    }\n\n    data.isTouchEvent = e.type === 'touchstart';\n    if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n    if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n    if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n    const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n    if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n      $targetEl = $(event.path[0]);\n    }\n\n    const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n    const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n    if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n      swiper.allowClick = true;\n      return;\n    }\n\n    if (params.swipeHandler) {\n      if (!$targetEl.closest(params.swipeHandler)[0]) return;\n    }\n\n    touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    const startX = touches.currentX;\n    const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n    const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n    const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n    if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n      if (edgeSwipeDetection === 'prevent') {\n        event.preventDefault();\n      } else {\n        return;\n      }\n    }\n\n    Object.assign(data, {\n      isTouched: true,\n      isMoved: false,\n      allowTouchCallbacks: true,\n      isScrolling: undefined,\n      startMoving: undefined\n    });\n    touches.startX = startX;\n    touches.startY = startY;\n    data.touchStartTime = now();\n    swiper.allowClick = true;\n    swiper.updateSize();\n    swiper.swipeDirection = undefined;\n    if (params.threshold > 0) data.allowThresholdMove = false;\n\n    if (e.type !== 'touchstart') {\n      let preventDefault = true;\n      if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n      if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n        document.activeElement.blur();\n      }\n\n      const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n      if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n        e.preventDefault();\n      }\n    }\n\n    swiper.emit('touchStart', e);\n  }\n\n  function onTouchMove(event) {\n    const document = getDocument();\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (!data.isTouched) {\n      if (data.startMoving && data.isScrolling) {\n        swiper.emit('touchMoveOpposite', e);\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && e.type !== 'touchmove') return;\n    const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n    const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n    if (e.preventedByNestedSwiper) {\n      touches.startX = pageX;\n      touches.startY = pageY;\n      return;\n    }\n\n    if (!swiper.allowTouchMove) {\n      // isMoved = true;\n      swiper.allowClick = false;\n\n      if (data.isTouched) {\n        Object.assign(touches, {\n          startX: pageX,\n          startY: pageY,\n          currentX: pageX,\n          currentY: pageY\n        });\n        data.touchStartTime = now();\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n      if (swiper.isVertical()) {\n        // Vertical\n        if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n          data.isTouched = false;\n          data.isMoved = false;\n          return;\n        }\n      } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n        return;\n      }\n    }\n\n    if (data.isTouchEvent && document.activeElement) {\n      if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n        data.isMoved = true;\n        swiper.allowClick = false;\n        return;\n      }\n    }\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchMove', e);\n    }\n\n    if (e.targetTouches && e.targetTouches.length > 1) return;\n    touches.currentX = pageX;\n    touches.currentY = pageY;\n    const diffX = touches.currentX - touches.startX;\n    const diffY = touches.currentY - touches.startY;\n    if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n    if (typeof data.isScrolling === 'undefined') {\n      let touchAngle;\n\n      if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n        data.isScrolling = false;\n      } else {\n        // eslint-disable-next-line\n        if (diffX * diffX + diffY * diffY >= 25) {\n          touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n          data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n        }\n      }\n    }\n\n    if (data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    if (typeof data.startMoving === 'undefined') {\n      if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n        data.startMoving = true;\n      }\n    }\n\n    if (data.isScrolling) {\n      data.isTouched = false;\n      return;\n    }\n\n    if (!data.startMoving) {\n      return;\n    }\n\n    swiper.allowClick = false;\n\n    if (!params.cssMode && e.cancelable) {\n      e.preventDefault();\n    }\n\n    if (params.touchMoveStopPropagation && !params.nested) {\n      e.stopPropagation();\n    }\n\n    if (!data.isMoved) {\n      if (params.loop && !params.cssMode) {\n        swiper.loopFix();\n      }\n\n      data.startTranslate = swiper.getTranslate();\n      swiper.setTransition(0);\n\n      if (swiper.animating) {\n        swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n      }\n\n      data.allowMomentumBounce = false; // Grab Cursor\n\n      if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n        swiper.setGrabCursor(true);\n      }\n\n      swiper.emit('sliderFirstMove', e);\n    }\n\n    swiper.emit('sliderMove', e);\n    data.isMoved = true;\n    let diff = swiper.isHorizontal() ? diffX : diffY;\n    touches.diff = diff;\n    diff *= params.touchRatio;\n    if (rtl) diff = -diff;\n    swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n    data.currentTranslate = diff + data.startTranslate;\n    let disableParentSwiper = true;\n    let resistanceRatio = params.resistanceRatio;\n\n    if (params.touchReleaseOnEdges) {\n      resistanceRatio = 0;\n    }\n\n    if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n    } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n    }\n\n    if (disableParentSwiper) {\n      e.preventedByNestedSwiper = true;\n    } // Directions locks\n\n\n    if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n      data.currentTranslate = data.startTranslate;\n    } // Threshold\n\n\n    if (params.threshold > 0) {\n      if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n        if (!data.allowThresholdMove) {\n          data.allowThresholdMove = true;\n          touches.startX = touches.currentX;\n          touches.startY = touches.currentY;\n          data.currentTranslate = data.startTranslate;\n          touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n          return;\n        }\n      } else {\n        data.currentTranslate = data.startTranslate;\n        return;\n      }\n    }\n\n    if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n    if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n      swiper.freeMode.onTouchMove();\n    } // Update progress\n\n\n    swiper.updateProgress(data.currentTranslate); // Update translate\n\n    swiper.setTranslate(data.currentTranslate);\n  }\n\n  function onTouchEnd(event) {\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      slidesGrid,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchEnd', e);\n    }\n\n    data.allowTouchCallbacks = false;\n\n    if (!data.isTouched) {\n      if (data.isMoved && params.grabCursor) {\n        swiper.setGrabCursor(false);\n      }\n\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    } // Return Grab Cursor\n\n\n    if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(false);\n    } // Time diff\n\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n    if (swiper.allowClick) {\n      const pathTree = e.path || e.composedPath && e.composedPath();\n      swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n      swiper.emit('tap click', e);\n\n      if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n        swiper.emit('doubleTap doubleClick', e);\n      }\n    }\n\n    data.lastClickTime = now();\n    nextTick(() => {\n      if (!swiper.destroyed) swiper.allowClick = true;\n    });\n\n    if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n      data.isTouched = false;\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    }\n\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    let currentPos;\n\n    if (params.followFinger) {\n      currentPos = rtl ? swiper.translate : -swiper.translate;\n    } else {\n      currentPos = -data.currentTranslate;\n    }\n\n    if (params.cssMode) {\n      return;\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled) {\n      swiper.freeMode.onTouchEnd({\n        currentPos\n      });\n      return;\n    } // Find current slide\n\n\n    let stopIndex = 0;\n    let groupSize = swiper.slidesSizesGrid[0];\n\n    for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n      const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n      if (typeof slidesGrid[i + increment] !== 'undefined') {\n        if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n          stopIndex = i;\n          groupSize = slidesGrid[i + increment] - slidesGrid[i];\n        }\n      } else if (currentPos >= slidesGrid[i]) {\n        stopIndex = i;\n        groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n      }\n    } // Find current slide size\n\n\n    const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n    const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (timeDiff > params.longSwipesMs) {\n      // Long touches\n      if (!params.longSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (swiper.swipeDirection === 'next') {\n        if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n    } else {\n      // Short swipes\n      if (!params.shortSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n      if (!isNavButtonTarget) {\n        if (swiper.swipeDirection === 'next') {\n          swiper.slideTo(stopIndex + increment);\n        }\n\n        if (swiper.swipeDirection === 'prev') {\n          swiper.slideTo(stopIndex);\n        }\n      } else if (e.target === swiper.navigation.nextEl) {\n        swiper.slideTo(stopIndex + increment);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  }\n\n  function onResize() {\n    const swiper = this;\n    const {\n      params,\n      el\n    } = swiper;\n    if (el && el.offsetWidth === 0) return; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Save locks\n\n\n    const {\n      allowSlideNext,\n      allowSlidePrev,\n      snapGrid\n    } = swiper; // Disable locks on resize\n\n    swiper.allowSlideNext = true;\n    swiper.allowSlidePrev = true;\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateSlidesClasses();\n\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n\n    if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n    } // Return locks after resize\n\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n\n    if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n  }\n\n  function onClick(e) {\n    const swiper = this;\n    if (!swiper.enabled) return;\n\n    if (!swiper.allowClick) {\n      if (swiper.params.preventClicks) e.preventDefault();\n\n      if (swiper.params.preventClicksPropagation && swiper.animating) {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n    }\n  }\n\n  function onScroll() {\n    const swiper = this;\n    const {\n      wrapperEl,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    swiper.previousTranslate = swiper.translate;\n\n    if (swiper.isHorizontal()) {\n      swiper.translate = -wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollTop;\n    } // eslint-disable-next-line\n\n\n    if (swiper.translate === -0) swiper.translate = 0;\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== swiper.progress) {\n      swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, false);\n  }\n\n  let dummyEventAttached = false;\n\n  function dummyEventListener() {}\n\n  const events = (swiper, method) => {\n    const document = getDocument();\n    const {\n      params,\n      touchEvents,\n      el,\n      wrapperEl,\n      device,\n      support\n    } = swiper;\n    const capture = !!params.nested;\n    const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n    const swiperMethod = method; // Touch Events\n\n    if (!support.touch) {\n      el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n      document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n      document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n      el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture\n      } : capture);\n      el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    } // Prevent Links Clicks\n\n\n    if (params.preventClicks || params.preventClicksPropagation) {\n      el[domMethod]('click', swiper.onClick, true);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[domMethod]('scroll', swiper.onScroll);\n    } // Resize handler\n\n\n    if (params.updateOnWindowResize) {\n      swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n    } else {\n      swiper[swiperMethod]('observerUpdate', onResize, true);\n    }\n  };\n\n  function attachEvents() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      support\n    } = swiper;\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n    if (params.cssMode) {\n      swiper.onScroll = onScroll.bind(swiper);\n    }\n\n    swiper.onClick = onClick.bind(swiper);\n\n    if (support.touch && !dummyEventAttached) {\n      document.addEventListener('touchstart', dummyEventListener);\n      dummyEventAttached = true;\n    }\n\n    events(swiper, 'on');\n  }\n\n  function detachEvents() {\n    const swiper = this;\n    events(swiper, 'off');\n  }\n\n  var events$1 = {\n    attachEvents,\n    detachEvents\n  };\n\n  const isGridEnabled = (swiper, params) => {\n    return swiper.grid && params.grid && params.grid.rows > 1;\n  };\n\n  function setBreakpoint() {\n    const swiper = this;\n    const {\n      activeIndex,\n      initialized,\n      loopedSlides = 0,\n      params,\n      $el\n    } = swiper;\n    const breakpoints = params.breakpoints;\n    if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n    const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n    if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n    const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n    const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n    const wasMultiRow = isGridEnabled(swiper, params);\n    const isMultiRow = isGridEnabled(swiper, breakpointParams);\n    const wasEnabled = params.enabled;\n\n    if (wasMultiRow && !isMultiRow) {\n      $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n      swiper.emitContainerClasses();\n    } else if (!wasMultiRow && isMultiRow) {\n      $el.addClass(`${params.containerModifierClass}grid`);\n\n      if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n        $el.addClass(`${params.containerModifierClass}grid-column`);\n      }\n\n      swiper.emitContainerClasses();\n    }\n\n    const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n    const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n    if (directionChanged && initialized) {\n      swiper.changeDirection();\n    }\n\n    extend(swiper.params, breakpointParams);\n    const isEnabled = swiper.params.enabled;\n    Object.assign(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev\n    });\n\n    if (wasEnabled && !isEnabled) {\n      swiper.disable();\n    } else if (!wasEnabled && isEnabled) {\n      swiper.enable();\n    }\n\n    swiper.currentBreakpoint = breakpoint;\n    swiper.emit('_beforeBreakpoint', breakpointParams);\n\n    if (needsReLoop && initialized) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n    }\n\n    swiper.emit('breakpoint', breakpointParams);\n  }\n\n  function getBreakpoint(breakpoints, base = 'window', containerEl) {\n    if (!breakpoints || base === 'container' && !containerEl) return undefined;\n    let breakpoint = false;\n    const window = getWindow();\n    const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n    const points = Object.keys(breakpoints).map(point => {\n      if (typeof point === 'string' && point.indexOf('@') === 0) {\n        const minRatio = parseFloat(point.substr(1));\n        const value = currentHeight * minRatio;\n        return {\n          value,\n          point\n        };\n      }\n\n      return {\n        value: point,\n        point\n      };\n    });\n    points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n    for (let i = 0; i < points.length; i += 1) {\n      const {\n        point,\n        value\n      } = points[i];\n\n      if (base === 'window') {\n        if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n          breakpoint = point;\n        }\n      } else if (value <= containerEl.clientWidth) {\n        breakpoint = point;\n      }\n    }\n\n    return breakpoint || 'max';\n  }\n\n  var breakpoints = {\n    setBreakpoint,\n    getBreakpoint\n  };\n\n  function prepareClasses(entries, prefix) {\n    const resultClasses = [];\n    entries.forEach(item => {\n      if (typeof item === 'object') {\n        Object.keys(item).forEach(classNames => {\n          if (item[classNames]) {\n            resultClasses.push(prefix + classNames);\n          }\n        });\n      } else if (typeof item === 'string') {\n        resultClasses.push(prefix + item);\n      }\n    });\n    return resultClasses;\n  }\n\n  function addClasses() {\n    const swiper = this;\n    const {\n      classNames,\n      params,\n      rtl,\n      $el,\n      device,\n      support\n    } = swiper; // prettier-ignore\n\n    const suffixes = prepareClasses(['initialized', params.direction, {\n      'pointer-events': !support.touch\n    }, {\n      'free-mode': swiper.params.freeMode && params.freeMode.enabled\n    }, {\n      'autoheight': params.autoHeight\n    }, {\n      'rtl': rtl\n    }, {\n      'grid': params.grid && params.grid.rows > 1\n    }, {\n      'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n    }, {\n      'android': device.android\n    }, {\n      'ios': device.ios\n    }, {\n      'css-mode': params.cssMode\n    }, {\n      'centered': params.cssMode && params.centeredSlides\n    }], params.containerModifierClass);\n    classNames.push(...suffixes);\n    $el.addClass([...classNames].join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  function removeClasses() {\n    const swiper = this;\n    const {\n      $el,\n      classNames\n    } = swiper;\n    $el.removeClass(classNames.join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  var classes = {\n    addClasses,\n    removeClasses\n  };\n\n  function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n    const window = getWindow();\n    let image;\n\n    function onReady() {\n      if (callback) callback();\n    }\n\n    const isPicture = $(imageEl).parent('picture')[0];\n\n    if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n      if (src) {\n        image = new window.Image();\n        image.onload = onReady;\n        image.onerror = onReady;\n\n        if (sizes) {\n          image.sizes = sizes;\n        }\n\n        if (srcset) {\n          image.srcset = srcset;\n        }\n\n        if (src) {\n          image.src = src;\n        }\n      } else {\n        onReady();\n      }\n    } else {\n      // image already loaded...\n      onReady();\n    }\n  }\n\n  function preloadImages() {\n    const swiper = this;\n    swiper.imagesToLoad = swiper.$el.find('img');\n\n    function onReady() {\n      if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n      if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n      if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n        if (swiper.params.updateOnImagesReady) swiper.update();\n        swiper.emit('imagesReady');\n      }\n    }\n\n    for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n      const imageEl = swiper.imagesToLoad[i];\n      swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n    }\n  }\n\n  var images = {\n    loadImage,\n    preloadImages\n  };\n\n  function checkOverflow() {\n    const swiper = this;\n    const {\n      isLocked: wasLocked,\n      params\n    } = swiper;\n    const {\n      slidesOffsetBefore\n    } = params;\n\n    if (slidesOffsetBefore) {\n      const lastSlideIndex = swiper.slides.length - 1;\n      const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n      swiper.isLocked = swiper.size > lastSlideRightEdge;\n    } else {\n      swiper.isLocked = swiper.snapGrid.length === 1;\n    }\n\n    if (params.allowSlideNext === true) {\n      swiper.allowSlideNext = !swiper.isLocked;\n    }\n\n    if (params.allowSlidePrev === true) {\n      swiper.allowSlidePrev = !swiper.isLocked;\n    }\n\n    if (wasLocked && wasLocked !== swiper.isLocked) {\n      swiper.isEnd = false;\n    }\n\n    if (wasLocked !== swiper.isLocked) {\n      swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n    }\n  }\n\n  var checkOverflow$1 = {\n    checkOverflow\n  };\n\n  var defaults = {\n    init: true,\n    direction: 'horizontal',\n    touchEventsTarget: 'wrapper',\n    initialSlide: 0,\n    speed: 300,\n    cssMode: false,\n    updateOnWindowResize: true,\n    resizeObserver: true,\n    nested: false,\n    createElements: false,\n    enabled: true,\n    focusableElements: 'input, select, option, textarea, button, video, label',\n    // Overrides\n    width: null,\n    height: null,\n    //\n    preventInteractionOnTransition: false,\n    // ssr\n    userAgent: null,\n    url: null,\n    // To support iOS's swipe-to-go-back gesture (when being used in-app).\n    edgeSwipeDetection: false,\n    edgeSwipeThreshold: 20,\n    // Autoheight\n    autoHeight: false,\n    // Set wrapper width\n    setWrapperSize: false,\n    // Virtual Translate\n    virtualTranslate: false,\n    // Effects\n    effect: 'slide',\n    // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n    // Breakpoints\n    breakpoints: undefined,\n    breakpointsBase: 'window',\n    // Slides grid\n    spaceBetween: 0,\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    slidesPerGroupSkip: 0,\n    slidesPerGroupAuto: false,\n    centeredSlides: false,\n    centeredSlidesBounds: false,\n    slidesOffsetBefore: 0,\n    // in px\n    slidesOffsetAfter: 0,\n    // in px\n    normalizeSlideIndex: true,\n    centerInsufficientSlides: false,\n    // Disable swiper and hide navigation when container not overflow\n    watchOverflow: true,\n    // Round length\n    roundLengths: false,\n    // Touches\n    touchRatio: 1,\n    touchAngle: 45,\n    simulateTouch: true,\n    shortSwipes: true,\n    longSwipes: true,\n    longSwipesRatio: 0.5,\n    longSwipesMs: 300,\n    followFinger: true,\n    allowTouchMove: true,\n    threshold: 0,\n    touchMoveStopPropagation: false,\n    touchStartPreventDefault: true,\n    touchStartForcePreventDefault: false,\n    touchReleaseOnEdges: false,\n    // Unique Navigation Elements\n    uniqueNavElements: true,\n    // Resistance\n    resistance: true,\n    resistanceRatio: 0.85,\n    // Progress\n    watchSlidesProgress: false,\n    // Cursor\n    grabCursor: false,\n    // Clicks\n    preventClicks: true,\n    preventClicksPropagation: true,\n    slideToClickedSlide: false,\n    // Images\n    preloadImages: true,\n    updateOnImagesReady: true,\n    // loop\n    loop: false,\n    loopAdditionalSlides: 0,\n    loopedSlides: null,\n    loopFillGroupWithBlank: false,\n    loopPreventsSlide: true,\n    // Swiping/no swiping\n    allowSlidePrev: true,\n    allowSlideNext: true,\n    swipeHandler: null,\n    // '.swipe-handler',\n    noSwiping: true,\n    noSwipingClass: 'swiper-no-swiping',\n    noSwipingSelector: null,\n    // Passive Listeners\n    passiveListeners: true,\n    // NS\n    containerModifierClass: 'swiper-',\n    // NEW\n    slideClass: 'swiper-slide',\n    slideBlankClass: 'swiper-slide-invisible-blank',\n    slideActiveClass: 'swiper-slide-active',\n    slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n    slideVisibleClass: 'swiper-slide-visible',\n    slideDuplicateClass: 'swiper-slide-duplicate',\n    slideNextClass: 'swiper-slide-next',\n    slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n    slidePrevClass: 'swiper-slide-prev',\n    slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n    wrapperClass: 'swiper-wrapper',\n    // Callbacks\n    runCallbacksOnInit: true,\n    // Internals\n    _emitClasses: false\n  };\n\n  function moduleExtendParams(params, allModulesParams) {\n    return function extendParams(obj = {}) {\n      const moduleParamName = Object.keys(obj)[0];\n      const moduleParams = obj[moduleParamName];\n\n      if (typeof moduleParams !== 'object' || moduleParams === null) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          auto: true\n        };\n      }\n\n      if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          enabled: true\n        };\n      }\n\n      if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n        params[moduleParamName].enabled = true;\n      }\n\n      if (!params[moduleParamName]) params[moduleParamName] = {\n        enabled: false\n      };\n      extend(allModulesParams, obj);\n    };\n  }\n\n  /* eslint no-param-reassign: \"off\" */\n  const prototypes = {\n    eventsEmitter,\n    update,\n    translate,\n    transition,\n    slide,\n    loop,\n    grabCursor,\n    events: events$1,\n    breakpoints,\n    checkOverflow: checkOverflow$1,\n    classes,\n    images\n  };\n  const extendedDefaults = {};\n\n  class Swiper {\n    constructor(...args) {\n      let el;\n      let params;\n\n      if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n        params = args[0];\n      } else {\n        [el, params] = args;\n      }\n\n      if (!params) params = {};\n      params = extend({}, params);\n      if (el && !params.el) params.el = el;\n\n      if (params.el && $(params.el).length > 1) {\n        const swipers = [];\n        $(params.el).each(containerEl => {\n          const newParams = extend({}, params, {\n            el: containerEl\n          });\n          swipers.push(new Swiper(newParams));\n        });\n        return swipers;\n      } // Swiper Instance\n\n\n      const swiper = this;\n      swiper.__swiper__ = true;\n      swiper.support = getSupport();\n      swiper.device = getDevice({\n        userAgent: params.userAgent\n      });\n      swiper.browser = getBrowser();\n      swiper.eventsListeners = {};\n      swiper.eventsAnyListeners = [];\n      swiper.modules = [...swiper.__modules__];\n\n      if (params.modules && Array.isArray(params.modules)) {\n        swiper.modules.push(...params.modules);\n      }\n\n      const allModulesParams = {};\n      swiper.modules.forEach(mod => {\n        mod({\n          swiper,\n          extendParams: moduleExtendParams(params, allModulesParams),\n          on: swiper.on.bind(swiper),\n          once: swiper.once.bind(swiper),\n          off: swiper.off.bind(swiper),\n          emit: swiper.emit.bind(swiper)\n        });\n      }); // Extend defaults with modules params\n\n      const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n      swiper.params = extend({}, swiperParams, extendedDefaults, params);\n      swiper.originalParams = extend({}, swiper.params);\n      swiper.passedParams = extend({}, params); // add event listeners\n\n      if (swiper.params && swiper.params.on) {\n        Object.keys(swiper.params.on).forEach(eventName => {\n          swiper.on(eventName, swiper.params.on[eventName]);\n        });\n      }\n\n      if (swiper.params && swiper.params.onAny) {\n        swiper.onAny(swiper.params.onAny);\n      } // Save Dom lib\n\n\n      swiper.$ = $; // Extend Swiper\n\n      Object.assign(swiper, {\n        enabled: swiper.params.enabled,\n        el,\n        // Classes\n        classNames: [],\n        // Slides\n        slides: $(),\n        slidesGrid: [],\n        snapGrid: [],\n        slidesSizesGrid: [],\n\n        // isDirection\n        isHorizontal() {\n          return swiper.params.direction === 'horizontal';\n        },\n\n        isVertical() {\n          return swiper.params.direction === 'vertical';\n        },\n\n        // Indexes\n        activeIndex: 0,\n        realIndex: 0,\n        //\n        isBeginning: true,\n        isEnd: false,\n        // Props\n        translate: 0,\n        previousTranslate: 0,\n        progress: 0,\n        velocity: 0,\n        animating: false,\n        // Locks\n        allowSlideNext: swiper.params.allowSlideNext,\n        allowSlidePrev: swiper.params.allowSlidePrev,\n        // Touch Events\n        touchEvents: function touchEvents() {\n          const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n          const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n          swiper.touchEventsTouch = {\n            start: touch[0],\n            move: touch[1],\n            end: touch[2],\n            cancel: touch[3]\n          };\n          swiper.touchEventsDesktop = {\n            start: desktop[0],\n            move: desktop[1],\n            end: desktop[2]\n          };\n          return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n        }(),\n        touchEventsData: {\n          isTouched: undefined,\n          isMoved: undefined,\n          allowTouchCallbacks: undefined,\n          touchStartTime: undefined,\n          isScrolling: undefined,\n          currentTranslate: undefined,\n          startTranslate: undefined,\n          allowThresholdMove: undefined,\n          // Form elements to match\n          focusableElements: swiper.params.focusableElements,\n          // Last click time\n          lastClickTime: now(),\n          clickTimeout: undefined,\n          // Velocities\n          velocities: [],\n          allowMomentumBounce: undefined,\n          isTouchEvent: undefined,\n          startMoving: undefined\n        },\n        // Clicks\n        allowClick: true,\n        // Touches\n        allowTouchMove: swiper.params.allowTouchMove,\n        touches: {\n          startX: 0,\n          startY: 0,\n          currentX: 0,\n          currentY: 0,\n          diff: 0\n        },\n        // Images\n        imagesToLoad: [],\n        imagesLoaded: 0\n      });\n      swiper.emit('_swiper'); // Init\n\n      if (swiper.params.init) {\n        swiper.init();\n      } // Return app instance\n\n\n      return swiper;\n    }\n\n    enable() {\n      const swiper = this;\n      if (swiper.enabled) return;\n      swiper.enabled = true;\n\n      if (swiper.params.grabCursor) {\n        swiper.setGrabCursor();\n      }\n\n      swiper.emit('enable');\n    }\n\n    disable() {\n      const swiper = this;\n      if (!swiper.enabled) return;\n      swiper.enabled = false;\n\n      if (swiper.params.grabCursor) {\n        swiper.unsetGrabCursor();\n      }\n\n      swiper.emit('disable');\n    }\n\n    setProgress(progress, speed) {\n      const swiper = this;\n      progress = Math.min(Math.max(progress, 0), 1);\n      const min = swiper.minTranslate();\n      const max = swiper.maxTranslate();\n      const current = (max - min) * progress + min;\n      swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    emitContainerClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const cls = swiper.el.className.split(' ').filter(className => {\n        return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n      });\n      swiper.emit('_containerClasses', cls.join(' '));\n    }\n\n    getSlideClasses(slideEl) {\n      const swiper = this;\n      return slideEl.className.split(' ').filter(className => {\n        return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n      }).join(' ');\n    }\n\n    emitSlidesClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const updates = [];\n      swiper.slides.each(slideEl => {\n        const classNames = swiper.getSlideClasses(slideEl);\n        updates.push({\n          slideEl,\n          classNames\n        });\n        swiper.emit('_slideClass', slideEl, classNames);\n      });\n      swiper.emit('_slideClasses', updates);\n    }\n\n    slidesPerViewDynamic(view = 'current', exact = false) {\n      const swiper = this;\n      const {\n        params,\n        slides,\n        slidesGrid,\n        slidesSizesGrid,\n        size: swiperSize,\n        activeIndex\n      } = swiper;\n      let spv = 1;\n\n      if (params.centeredSlides) {\n        let slideSize = slides[activeIndex].swiperSlideSize;\n        let breakLoop;\n\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n      } else {\n        // eslint-disable-next-line\n        if (view === 'current') {\n          for (let i = activeIndex + 1; i < slides.length; i += 1) {\n            const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        } else {\n          // previous\n          for (let i = activeIndex - 1; i >= 0; i -= 1) {\n            const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        }\n      }\n\n      return spv;\n    }\n\n    update() {\n      const swiper = this;\n      if (!swiper || swiper.destroyed) return;\n      const {\n        snapGrid,\n        params\n      } = swiper; // Breakpoints\n\n      if (params.breakpoints) {\n        swiper.setBreakpoint();\n      }\n\n      swiper.updateSize();\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      function setTranslate() {\n        const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n        const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n        swiper.setTranslate(newTranslate);\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n\n      let translated;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n        setTranslate();\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      } else {\n        if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n          translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n        } else {\n          translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n        }\n\n        if (!translated) {\n          setTranslate();\n        }\n      }\n\n      if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n        swiper.checkOverflow();\n      }\n\n      swiper.emit('update');\n    }\n\n    changeDirection(newDirection, needUpdate = true) {\n      const swiper = this;\n      const currentDirection = swiper.params.direction;\n\n      if (!newDirection) {\n        // eslint-disable-next-line\n        newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n      }\n\n      if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n        return swiper;\n      }\n\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n      swiper.emitContainerClasses();\n      swiper.params.direction = newDirection;\n      swiper.slides.each(slideEl => {\n        if (newDirection === 'vertical') {\n          slideEl.style.width = '';\n        } else {\n          slideEl.style.height = '';\n        }\n      });\n      swiper.emit('changeDirection');\n      if (needUpdate) swiper.update();\n      return swiper;\n    }\n\n    mount(el) {\n      const swiper = this;\n      if (swiper.mounted) return true; // Find el\n\n      const $el = $(el || swiper.params.el);\n      el = $el[0];\n\n      if (!el) {\n        return false;\n      }\n\n      el.swiper = swiper;\n\n      const getWrapperSelector = () => {\n        return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n      };\n\n      const getWrapper = () => {\n        if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n          const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n          res.children = options => $el.children(options);\n\n          return res;\n        }\n\n        return $el.children(getWrapperSelector());\n      }; // Find Wrapper\n\n\n      let $wrapperEl = getWrapper();\n\n      if ($wrapperEl.length === 0 && swiper.params.createElements) {\n        const document = getDocument();\n        const wrapper = document.createElement('div');\n        $wrapperEl = $(wrapper);\n        wrapper.className = swiper.params.wrapperClass;\n        $el.append(wrapper);\n        $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n          $wrapperEl.append(slideEl);\n        });\n      }\n\n      Object.assign(swiper, {\n        $el,\n        el,\n        $wrapperEl,\n        wrapperEl: $wrapperEl[0],\n        mounted: true,\n        // RTL\n        rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n        rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n        wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n      });\n      return true;\n    }\n\n    init(el) {\n      const swiper = this;\n      if (swiper.initialized) return swiper;\n      const mounted = swiper.mount(el);\n      if (mounted === false) return swiper;\n      swiper.emit('beforeInit'); // Set breakpoint\n\n      if (swiper.params.breakpoints) {\n        swiper.setBreakpoint();\n      } // Add Classes\n\n\n      swiper.addClasses(); // Create loop\n\n      if (swiper.params.loop) {\n        swiper.loopCreate();\n      } // Update size\n\n\n      swiper.updateSize(); // Update slides\n\n      swiper.updateSlides();\n\n      if (swiper.params.watchOverflow) {\n        swiper.checkOverflow();\n      } // Set Grab Cursor\n\n\n      if (swiper.params.grabCursor && swiper.enabled) {\n        swiper.setGrabCursor();\n      }\n\n      if (swiper.params.preloadImages) {\n        swiper.preloadImages();\n      } // Slide To Initial Slide\n\n\n      if (swiper.params.loop) {\n        swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n      } else {\n        swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n      } // Attach events\n\n\n      swiper.attachEvents(); // Init Flag\n\n      swiper.initialized = true; // Emit\n\n      swiper.emit('init');\n      swiper.emit('afterInit');\n      return swiper;\n    }\n\n    destroy(deleteInstance = true, cleanStyles = true) {\n      const swiper = this;\n      const {\n        params,\n        $el,\n        $wrapperEl,\n        slides\n      } = swiper;\n\n      if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n        return null;\n      }\n\n      swiper.emit('beforeDestroy'); // Init Flag\n\n      swiper.initialized = false; // Detach events\n\n      swiper.detachEvents(); // Destroy loop\n\n      if (params.loop) {\n        swiper.loopDestroy();\n      } // Cleanup styles\n\n\n      if (cleanStyles) {\n        swiper.removeClasses();\n        $el.removeAttr('style');\n        $wrapperEl.removeAttr('style');\n\n        if (slides && slides.length) {\n          slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n        }\n      }\n\n      swiper.emit('destroy'); // Detach emitter events\n\n      Object.keys(swiper.eventsListeners).forEach(eventName => {\n        swiper.off(eventName);\n      });\n\n      if (deleteInstance !== false) {\n        swiper.$el[0].swiper = null;\n        deleteProps(swiper);\n      }\n\n      swiper.destroyed = true;\n      return null;\n    }\n\n    static extendDefaults(newDefaults) {\n      extend(extendedDefaults, newDefaults);\n    }\n\n    static get extendedDefaults() {\n      return extendedDefaults;\n    }\n\n    static get defaults() {\n      return defaults;\n    }\n\n    static installModule(mod) {\n      if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n      const modules = Swiper.prototype.__modules__;\n\n      if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n        modules.push(mod);\n      }\n    }\n\n    static use(module) {\n      if (Array.isArray(module)) {\n        module.forEach(m => Swiper.installModule(m));\n        return Swiper;\n      }\n\n      Swiper.installModule(module);\n      return Swiper;\n    }\n\n  }\n\n  Object.keys(prototypes).forEach(prototypeGroup => {\n    Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n      Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n    });\n  });\n  Swiper.use([Resize, Observer]);\n\n  function Virtual({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      virtual: {\n        enabled: false,\n        slides: [],\n        cache: true,\n        renderSlide: null,\n        renderExternal: null,\n        renderExternalUpdate: true,\n        addSlidesBefore: 0,\n        addSlidesAfter: 0\n      }\n    });\n    let cssModeTimeout;\n    swiper.virtual = {\n      cache: {},\n      from: undefined,\n      to: undefined,\n      slides: [],\n      offset: 0,\n      slidesGrid: []\n    };\n\n    function renderSlide(slide, index) {\n      const params = swiper.params.virtual;\n\n      if (params.cache && swiper.virtual.cache[index]) {\n        return swiper.virtual.cache[index];\n      }\n\n      const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n      if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n      if (params.cache) swiper.virtual.cache[index] = $slideEl;\n      return $slideEl;\n    }\n\n    function update(force) {\n      const {\n        slidesPerView,\n        slidesPerGroup,\n        centeredSlides\n      } = swiper.params;\n      const {\n        addSlidesBefore,\n        addSlidesAfter\n      } = swiper.params.virtual;\n      const {\n        from: previousFrom,\n        to: previousTo,\n        slides,\n        slidesGrid: previousSlidesGrid,\n        offset: previousOffset\n      } = swiper.virtual;\n\n      if (!swiper.params.cssMode) {\n        swiper.updateActiveIndex();\n      }\n\n      const activeIndex = swiper.activeIndex || 0;\n      let offsetProp;\n      if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n      let slidesAfter;\n      let slidesBefore;\n\n      if (centeredSlides) {\n        slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n        slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n      } else {\n        slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n        slidesBefore = slidesPerGroup + addSlidesBefore;\n      }\n\n      const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n      const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n      const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n      Object.assign(swiper.virtual, {\n        from,\n        to,\n        offset,\n        slidesGrid: swiper.slidesGrid\n      });\n\n      function onRendered() {\n        swiper.updateSlides();\n        swiper.updateProgress();\n        swiper.updateSlidesClasses();\n\n        if (swiper.lazy && swiper.params.lazy.enabled) {\n          swiper.lazy.load();\n        }\n      }\n\n      if (previousFrom === from && previousTo === to && !force) {\n        if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n          swiper.slides.css(offsetProp, `${offset}px`);\n        }\n\n        swiper.updateProgress();\n        return;\n      }\n\n      if (swiper.params.virtual.renderExternal) {\n        swiper.params.virtual.renderExternal.call(swiper, {\n          offset,\n          from,\n          to,\n          slides: function getSlides() {\n            const slidesToRender = [];\n\n            for (let i = from; i <= to; i += 1) {\n              slidesToRender.push(slides[i]);\n            }\n\n            return slidesToRender;\n          }()\n        });\n\n        if (swiper.params.virtual.renderExternalUpdate) {\n          onRendered();\n        }\n\n        return;\n      }\n\n      const prependIndexes = [];\n      const appendIndexes = [];\n\n      if (force) {\n        swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n      } else {\n        for (let i = previousFrom; i <= previousTo; i += 1) {\n          if (i < from || i > to) {\n            swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        if (i >= from && i <= to) {\n          if (typeof previousTo === 'undefined' || force) {\n            appendIndexes.push(i);\n          } else {\n            if (i > previousTo) appendIndexes.push(i);\n            if (i < previousFrom) prependIndexes.push(i);\n          }\n        }\n      }\n\n      appendIndexes.forEach(index => {\n        swiper.$wrapperEl.append(renderSlide(slides[index], index));\n      });\n      prependIndexes.sort((a, b) => b - a).forEach(index => {\n        swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n      });\n      swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n      onRendered();\n    }\n\n    function appendSlide(slides) {\n      if (typeof slides === 'object' && 'length' in slides) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.push(slides[i]);\n        }\n      } else {\n        swiper.virtual.slides.push(slides);\n      }\n\n      update(true);\n    }\n\n    function prependSlide(slides) {\n      const activeIndex = swiper.activeIndex;\n      let newActiveIndex = activeIndex + 1;\n      let numberOfNewSlides = 1;\n\n      if (Array.isArray(slides)) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n        }\n\n        newActiveIndex = activeIndex + slides.length;\n        numberOfNewSlides = slides.length;\n      } else {\n        swiper.virtual.slides.unshift(slides);\n      }\n\n      if (swiper.params.virtual.cache) {\n        const cache = swiper.virtual.cache;\n        const newCache = {};\n        Object.keys(cache).forEach(cachedIndex => {\n          const $cachedEl = cache[cachedIndex];\n          const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n          if (cachedElIndex) {\n            $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n          }\n\n          newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n        });\n        swiper.virtual.cache = newCache;\n      }\n\n      update(true);\n      swiper.slideTo(newActiveIndex, 0);\n    }\n\n    function removeSlide(slidesIndexes) {\n      if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n      let activeIndex = swiper.activeIndex;\n\n      if (Array.isArray(slidesIndexes)) {\n        for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n          swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n          if (swiper.params.virtual.cache) {\n            delete swiper.virtual.cache[slidesIndexes[i]];\n          }\n\n          if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n          activeIndex = Math.max(activeIndex, 0);\n        }\n      } else {\n        swiper.virtual.slides.splice(slidesIndexes, 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes];\n        }\n\n        if (slidesIndexes < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n\n      update(true);\n      swiper.slideTo(activeIndex, 0);\n    }\n\n    function removeAllSlides() {\n      swiper.virtual.slides = [];\n\n      if (swiper.params.virtual.cache) {\n        swiper.virtual.cache = {};\n      }\n\n      update(true);\n      swiper.slideTo(0, 0);\n    }\n\n    on('beforeInit', () => {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.slides = swiper.params.virtual.slides;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n\n      if (!swiper.params.initialSlide) {\n        update();\n      }\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode && !swiper._immediateVirtual) {\n        clearTimeout(cssModeTimeout);\n        cssModeTimeout = setTimeout(() => {\n          update();\n        }, 100);\n      } else {\n        update();\n      }\n    });\n    on('init update resize', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode) {\n        setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n      }\n    });\n    Object.assign(swiper.virtual, {\n      appendSlide,\n      prependSlide,\n      removeSlide,\n      removeAllSlides,\n      update\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Keyboard({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    const window = getWindow();\n    swiper.keyboard = {\n      enabled: false\n    };\n    extendParams({\n      keyboard: {\n        enabled: false,\n        onlyInViewport: true,\n        pageUpDown: true\n      }\n    });\n\n    function handle(event) {\n      if (!swiper.enabled) return;\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let e = event;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      const kc = e.keyCode || e.charCode;\n      const pageUpDown = swiper.params.keyboard.pageUpDown;\n      const isPageUp = pageUpDown && kc === 33;\n      const isPageDown = pageUpDown && kc === 34;\n      const isArrowLeft = kc === 37;\n      const isArrowRight = kc === 39;\n      const isArrowUp = kc === 38;\n      const isArrowDown = kc === 40; // Directions locks\n\n      if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n        return false;\n      }\n\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return undefined;\n      }\n\n      if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n        return undefined;\n      }\n\n      if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n        let inView = false; // Check that swiper should be inside of visible area of window\n\n        if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n          return undefined;\n        }\n\n        const $el = swiper.$el;\n        const swiperWidth = $el[0].clientWidth;\n        const swiperHeight = $el[0].clientHeight;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const swiperOffset = swiper.$el.offset();\n        if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n        const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n        for (let i = 0; i < swiperCoord.length; i += 1) {\n          const point = swiperCoord[i];\n\n          if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n            if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n            inView = true;\n          }\n        }\n\n        if (!inView) return undefined;\n      }\n\n      if (swiper.isHorizontal()) {\n        if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n        if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n      } else {\n        if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if (isPageDown || isArrowDown) swiper.slideNext();\n        if (isPageUp || isArrowUp) swiper.slidePrev();\n      }\n\n      emit('keyPress', kc);\n      return undefined;\n    }\n\n    function enable() {\n      if (swiper.keyboard.enabled) return;\n      $(document).on('keydown', handle);\n      swiper.keyboard.enabled = true;\n    }\n\n    function disable() {\n      if (!swiper.keyboard.enabled) return;\n      $(document).off('keydown', handle);\n      swiper.keyboard.enabled = false;\n    }\n\n    on('init', () => {\n      if (swiper.params.keyboard.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.keyboard.enabled) {\n        disable();\n      }\n    });\n    Object.assign(swiper.keyboard, {\n      enable,\n      disable\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Mousewheel({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      mousewheel: {\n        enabled: false,\n        releaseOnEdges: false,\n        invert: false,\n        forceToAxis: false,\n        sensitivity: 1,\n        eventsTarget: 'container',\n        thresholdDelta: null,\n        thresholdTime: null\n      }\n    });\n    swiper.mousewheel = {\n      enabled: false\n    };\n    let timeout;\n    let lastScrollTime = now();\n    let lastEventBeforeSnap;\n    const recentWheelEvents = [];\n\n    function normalize(e) {\n      // Reasonable defaults\n      const PIXEL_STEP = 10;\n      const LINE_HEIGHT = 40;\n      const PAGE_HEIGHT = 800;\n      let sX = 0;\n      let sY = 0; // spinX, spinY\n\n      let pX = 0;\n      let pY = 0; // pixelX, pixelY\n      // Legacy\n\n      if ('detail' in e) {\n        sY = e.detail;\n      }\n\n      if ('wheelDelta' in e) {\n        sY = -e.wheelDelta / 120;\n      }\n\n      if ('wheelDeltaY' in e) {\n        sY = -e.wheelDeltaY / 120;\n      }\n\n      if ('wheelDeltaX' in e) {\n        sX = -e.wheelDeltaX / 120;\n      } // side scrolling on FF with DOMMouseScroll\n\n\n      if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n      }\n\n      pX = sX * PIXEL_STEP;\n      pY = sY * PIXEL_STEP;\n\n      if ('deltaY' in e) {\n        pY = e.deltaY;\n      }\n\n      if ('deltaX' in e) {\n        pX = e.deltaX;\n      }\n\n      if (e.shiftKey && !pX) {\n        // if user scrolls with shift he wants horizontal scroll\n        pX = pY;\n        pY = 0;\n      }\n\n      if ((pX || pY) && e.deltaMode) {\n        if (e.deltaMode === 1) {\n          // delta in LINE units\n          pX *= LINE_HEIGHT;\n          pY *= LINE_HEIGHT;\n        } else {\n          // delta in PAGE units\n          pX *= PAGE_HEIGHT;\n          pY *= PAGE_HEIGHT;\n        }\n      } // Fall-back if spin cannot be determined\n\n\n      if (pX && !sX) {\n        sX = pX < 1 ? -1 : 1;\n      }\n\n      if (pY && !sY) {\n        sY = pY < 1 ? -1 : 1;\n      }\n\n      return {\n        spinX: sX,\n        spinY: sY,\n        pixelX: pX,\n        pixelY: pY\n      };\n    }\n\n    function handleMouseEnter() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = true;\n    }\n\n    function handleMouseLeave() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = false;\n    }\n\n    function animateSlider(newEvent) {\n      if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n        // Prevent if delta of wheel scroll delta is below configured threshold\n        return false;\n      }\n\n      if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n        // Prevent if time between scrolls is below configured threshold\n        return false;\n      } // If the movement is NOT big enough and\n      // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n      //   Don't go any further (avoid insignificant scroll movement).\n\n\n      if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n        // Return false as a default\n        return true;\n      } // If user is scrolling towards the end:\n      //   If the slider hasn't hit the latest slide or\n      //   if the slider is a loop and\n      //   if the slider isn't moving right now:\n      //     Go to next slide and\n      //     emit a scroll event.\n      // Else (the user is scrolling towards the beginning) and\n      // if the slider hasn't hit the first slide or\n      // if the slider is a loop and\n      // if the slider isn't moving right now:\n      //   Go to prev slide and\n      //   emit a scroll event.\n\n\n      if (newEvent.direction < 0) {\n        if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n          swiper.slideNext();\n          emit('scroll', newEvent.raw);\n        }\n      } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n        swiper.slidePrev();\n        emit('scroll', newEvent.raw);\n      } // If you got here is because an animation has been triggered so store the current time\n\n\n      lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n      return false;\n    }\n\n    function releaseScroll(newEvent) {\n      const params = swiper.params.mousewheel;\n\n      if (newEvent.direction < 0) {\n        if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n          // Return true to animate scroll on edges\n          return true;\n        }\n      } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n\n      return false;\n    }\n\n    function handle(event) {\n      let e = event;\n      let disableParentSwiper = true;\n      if (!swiper.enabled) return;\n      const params = swiper.params.mousewheel;\n\n      if (swiper.params.cssMode) {\n        e.preventDefault();\n      }\n\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      let delta = 0;\n      const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n      const data = normalize(e);\n\n      if (params.forceToAxis) {\n        if (swiper.isHorizontal()) {\n          if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n        } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n      } else {\n        delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n      }\n\n      if (delta === 0) return true;\n      if (params.invert) delta = -delta; // Get the scroll positions\n\n      let positions = swiper.getTranslate() + delta * params.sensitivity;\n      if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n      if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n      //     the disableParentSwiper will be true.\n      // When loop is false:\n      //     if the scroll positions is not on edge,\n      //     then the disableParentSwiper will be true.\n      //     if the scroll on edge positions,\n      //     then the disableParentSwiper will be false.\n\n      disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n      if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n      if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n        // Register the new event in a variable which stores the relevant data\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta),\n          raw: event\n        }; // Keep the most recent events\n\n        if (recentWheelEvents.length >= 2) {\n          recentWheelEvents.shift(); // only store the last N events\n        }\n\n        const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n        recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n        //   If direction has changed or\n        //   if the scroll is quicker than the previous one:\n        //     Animate the slider.\n        // Else (this is the first time the wheel is moved):\n        //     Animate the slider.\n\n        if (prevEvent) {\n          if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n            animateSlider(newEvent);\n          }\n        } else {\n          animateSlider(newEvent);\n        } // If it's time to release the scroll:\n        //   Return now so you don't hit the preventDefault.\n\n\n        if (releaseScroll(newEvent)) {\n          return true;\n        }\n      } else {\n        // Freemode or scrollContainer:\n        // If we recently snapped after a momentum scroll, then ignore wheel events\n        // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n        // or if it's a new scroll (larger delta or inverse sign as last event before\n        // an end-of-momentum snap).\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta)\n        };\n        const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n        if (!ignoreWheelEvents) {\n          lastEventBeforeSnap = undefined;\n\n          if (swiper.params.loop) {\n            swiper.loopFix();\n          }\n\n          let position = swiper.getTranslate() + delta * params.sensitivity;\n          const wasBeginning = swiper.isBeginning;\n          const wasEnd = swiper.isEnd;\n          if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n          if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n          swiper.setTransition(0);\n          swiper.setTranslate(position);\n          swiper.updateProgress();\n          swiper.updateActiveIndex();\n          swiper.updateSlidesClasses();\n\n          if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n            swiper.updateSlidesClasses();\n          }\n\n          if (swiper.params.freeMode.sticky) {\n            // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n            // the end of a momentum scroll by storing recent (N=15?) wheel events.\n            // 1. do all N events have decreasing or same (absolute value) delta?\n            // 2. did all N events arrive in the last M (M=500?) msecs?\n            // 3. does the earliest event have an (absolute value) delta that's\n            //    at least P (P=1?) larger than the most recent event's delta?\n            // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n            // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n            // Snap immediately and ignore remaining wheel events in this scroll.\n            // See comment above for \"remaining wheel events in this scroll\" determination.\n            // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n            clearTimeout(timeout);\n            timeout = undefined;\n\n            if (recentWheelEvents.length >= 15) {\n              recentWheelEvents.shift(); // only store the last N events\n            }\n\n            const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n            const firstEvent = recentWheelEvents[0];\n            recentWheelEvents.push(newEvent);\n\n            if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n              // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n              recentWheelEvents.splice(0);\n            } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n              // We're at the end of the deceleration of a momentum scroll, so there's no need\n              // to wait for more events. Snap ASAP on the next tick.\n              // Also, because there's some remaining momentum we'll bias the snap in the\n              // direction of the ongoing scroll because it's better UX for the scroll to snap\n              // in the same direction as the scroll instead of reversing to snap.  Therefore,\n              // if it's already scrolled more than 20% in the current direction, keep going.\n              const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              timeout = nextTick(() => {\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 0); // no delay; move on next tick\n            }\n\n            if (!timeout) {\n              // if we get here, then we haven't detected the end of a momentum scroll, so\n              // we'll consider a scroll \"complete\" when there haven't been any wheel events\n              // for 500ms.\n              timeout = nextTick(() => {\n                const snapToThreshold = 0.5;\n                lastEventBeforeSnap = newEvent;\n                recentWheelEvents.splice(0);\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 500);\n            }\n          } // Emit event\n\n\n          if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n          if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n          if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n        }\n      }\n\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      return false;\n    }\n\n    function events(method) {\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      target[method]('mouseenter', handleMouseEnter);\n      target[method]('mouseleave', handleMouseLeave);\n      target[method]('wheel', handle);\n    }\n\n    function enable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.removeEventListener('wheel', handle);\n        return true;\n      }\n\n      if (swiper.mousewheel.enabled) return false;\n      events('on');\n      swiper.mousewheel.enabled = true;\n      return true;\n    }\n\n    function disable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.addEventListener(event, handle);\n        return true;\n      }\n\n      if (!swiper.mousewheel.enabled) return false;\n      events('off');\n      swiper.mousewheel.enabled = false;\n      return true;\n    }\n\n    on('init', () => {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) enable();\n    });\n    on('destroy', () => {\n      if (swiper.params.cssMode) {\n        enable();\n      }\n\n      if (swiper.mousewheel.enabled) disable();\n    });\n    Object.assign(swiper.mousewheel, {\n      enable,\n      disable\n    });\n  }\n\n  function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n    const document = getDocument();\n\n    if (swiper.params.createElements) {\n      Object.keys(checkProps).forEach(key => {\n        if (!params[key] && params.auto === true) {\n          let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n          if (!element) {\n            element = document.createElement('div');\n            element.className = checkProps[key];\n            swiper.$el.append(element);\n          }\n\n          params[key] = element;\n          originalParams[key] = element;\n        }\n      });\n    }\n\n    return params;\n  }\n\n  function Navigation({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      navigation: {\n        nextEl: null,\n        prevEl: null,\n        hideOnClick: false,\n        disabledClass: 'swiper-button-disabled',\n        hiddenClass: 'swiper-button-hidden',\n        lockClass: 'swiper-button-lock'\n      }\n    });\n    swiper.navigation = {\n      nextEl: null,\n      $nextEl: null,\n      prevEl: null,\n      $prevEl: null\n    };\n\n    function getEl(el) {\n      let $el;\n\n      if (el) {\n        $el = $(el);\n\n        if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n          $el = swiper.$el.find(el);\n        }\n      }\n\n      return $el;\n    }\n\n    function toggleEl($el, disabled) {\n      const params = swiper.params.navigation;\n\n      if ($el && $el.length > 0) {\n        $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n        if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n        if (swiper.params.watchOverflow && swiper.enabled) {\n          $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n        }\n      }\n    }\n\n    function update() {\n      // Update Navigation Buttons\n      if (swiper.params.loop) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      toggleEl($prevEl, swiper.isBeginning);\n      toggleEl($nextEl, swiper.isEnd);\n    }\n\n    function onPrevClick(e) {\n      e.preventDefault();\n      if (swiper.isBeginning && !swiper.params.loop) return;\n      swiper.slidePrev();\n    }\n\n    function onNextClick(e) {\n      e.preventDefault();\n      if (swiper.isEnd && !swiper.params.loop) return;\n      swiper.slideNext();\n    }\n\n    function init() {\n      const params = swiper.params.navigation;\n      swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n        nextEl: 'swiper-button-next',\n        prevEl: 'swiper-button-prev'\n      });\n      if (!(params.nextEl || params.prevEl)) return;\n      const $nextEl = getEl(params.nextEl);\n      const $prevEl = getEl(params.prevEl);\n\n      if ($nextEl && $nextEl.length > 0) {\n        $nextEl.on('click', onNextClick);\n      }\n\n      if ($prevEl && $prevEl.length > 0) {\n        $prevEl.on('click', onPrevClick);\n      }\n\n      Object.assign(swiper.navigation, {\n        $nextEl,\n        nextEl: $nextEl && $nextEl[0],\n        $prevEl,\n        prevEl: $prevEl && $prevEl[0]\n      });\n\n      if (!swiper.enabled) {\n        if ($nextEl) $nextEl.addClass(params.lockClass);\n        if ($prevEl) $prevEl.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl && $nextEl.length) {\n        $nextEl.off('click', onNextClick);\n        $nextEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        $prevEl.off('click', onPrevClick);\n        $prevEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n    }\n\n    on('init', () => {\n      init();\n      update();\n    });\n    on('toEdge fromEdge lock unlock', () => {\n      update();\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    });\n    on('click', (_s, e) => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      const targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        let isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          emit('navigationShow');\n        } else {\n          emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    });\n    Object.assign(swiper.navigation, {\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function classesToSelector(classes = '') {\n    return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n.replace(/ /g, '.')}`;\n  }\n\n  function Pagination({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const pfx = 'swiper-pagination';\n    extendParams({\n      pagination: {\n        el: null,\n        bulletElement: 'span',\n        clickable: false,\n        hideOnClick: false,\n        renderBullet: null,\n        renderProgressbar: null,\n        renderFraction: null,\n        renderCustom: null,\n        progressbarOpposite: false,\n        type: 'bullets',\n        // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n        dynamicBullets: false,\n        dynamicMainBullets: 1,\n        formatFractionCurrent: number => number,\n        formatFractionTotal: number => number,\n        bulletClass: `${pfx}-bullet`,\n        bulletActiveClass: `${pfx}-bullet-active`,\n        modifierClass: `${pfx}-`,\n        currentClass: `${pfx}-current`,\n        totalClass: `${pfx}-total`,\n        hiddenClass: `${pfx}-hidden`,\n        progressbarFillClass: `${pfx}-progressbar-fill`,\n        progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n        clickableClass: `${pfx}-clickable`,\n        lockClass: `${pfx}-lock`,\n        horizontalClass: `${pfx}-horizontal`,\n        verticalClass: `${pfx}-vertical`\n      }\n    });\n    swiper.pagination = {\n      el: null,\n      $el: null,\n      bullets: []\n    };\n    let bulletSize;\n    let dynamicBulletIndex = 0;\n\n    function isPaginationDisabled() {\n      return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n    }\n\n    function setSideBullets($bulletEl, position) {\n      const {\n        bulletActiveClass\n      } = swiper.params.pagination;\n      $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n    }\n\n    function update() {\n      // Render || Update Pagination bullets/items\n      const rtl = swiper.rtl;\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el; // Current/Total\n\n      let current;\n      const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.loop) {\n        current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n        if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n          current -= slidesLength - swiper.loopedSlides * 2;\n        }\n\n        if (current > total - 1) current -= total;\n        if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n      } else if (typeof swiper.snapIndex !== 'undefined') {\n        current = swiper.snapIndex;\n      } else {\n        current = swiper.activeIndex || 0;\n      } // Types\n\n\n      if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n        const bullets = swiper.pagination.bullets;\n        let firstIndex;\n        let lastIndex;\n        let midIndex;\n\n        if (params.dynamicBullets) {\n          bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n          $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n          if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n            dynamicBulletIndex += current - swiper.previousIndex;\n\n            if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n              dynamicBulletIndex = params.dynamicMainBullets - 1;\n            } else if (dynamicBulletIndex < 0) {\n              dynamicBulletIndex = 0;\n            }\n          }\n\n          firstIndex = current - dynamicBulletIndex;\n          lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n          midIndex = (lastIndex + firstIndex) / 2;\n        }\n\n        bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n        if ($el.length > 1) {\n          bullets.each(bullet => {\n            const $bullet = $(bullet);\n            const bulletIndex = $bullet.index();\n\n            if (bulletIndex === current) {\n              $bullet.addClass(params.bulletActiveClass);\n            }\n\n            if (params.dynamicBullets) {\n              if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n                $bullet.addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              if (bulletIndex === firstIndex) {\n                setSideBullets($bullet, 'prev');\n              }\n\n              if (bulletIndex === lastIndex) {\n                setSideBullets($bullet, 'next');\n              }\n            }\n          });\n        } else {\n          const $bullet = bullets.eq(current);\n          const bulletIndex = $bullet.index();\n          $bullet.addClass(params.bulletActiveClass);\n\n          if (params.dynamicBullets) {\n            const $firstDisplayedBullet = bullets.eq(firstIndex);\n            const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n            for (let i = firstIndex; i <= lastIndex; i += 1) {\n              bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (swiper.params.loop) {\n              if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n                for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                  bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n                }\n\n                bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n              } else {\n                setSideBullets($firstDisplayedBullet, 'prev');\n                setSideBullets($lastDisplayedBullet, 'next');\n              }\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          }\n        }\n\n        if (params.dynamicBullets) {\n          const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n          const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n          const offsetProp = rtl ? 'right' : 'left';\n          bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n        }\n      }\n\n      if (params.type === 'fraction') {\n        $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n        $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n      }\n\n      if (params.type === 'progressbar') {\n        let progressbarDirection;\n\n        if (params.progressbarOpposite) {\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n        } else {\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n        }\n\n        const scale = (current + 1) / total;\n        let scaleX = 1;\n        let scaleY = 1;\n\n        if (progressbarDirection === 'horizontal') {\n          scaleX = scale;\n        } else {\n          scaleY = scale;\n        }\n\n        $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n      }\n\n      if (params.type === 'custom' && params.renderCustom) {\n        $el.html(params.renderCustom(swiper, current + 1, total));\n        emit('paginationRender', $el[0]);\n      } else {\n        emit('paginationUpdate', $el[0]);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    function render() {\n      // Render Container\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el;\n      let paginationHTML = '';\n\n      if (params.type === 'bullets') {\n        let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n        if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n          numberOfBullets = slidesLength;\n        }\n\n        for (let i = 0; i < numberOfBullets; i += 1) {\n          if (params.renderBullet) {\n            paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n          } else {\n            paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n          }\n        }\n\n        $el.html(paginationHTML);\n        swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n      }\n\n      if (params.type === 'fraction') {\n        if (params.renderFraction) {\n          paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n        } else {\n          paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type === 'progressbar') {\n        if (params.renderProgressbar) {\n          paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n        } else {\n          paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type !== 'custom') {\n        emit('paginationRender', swiper.pagination.$el[0]);\n      }\n    }\n\n    function init() {\n      swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n        el: 'swiper-pagination'\n      });\n      const params = swiper.params.pagination;\n      if (!params.el) return;\n      let $el = $(params.el);\n      if ($el.length === 0) return;\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n        $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n        if ($el.length > 1) {\n          $el = $el.filter(el => {\n            if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n            return true;\n          });\n        }\n      }\n\n      if (params.type === 'bullets' && params.clickable) {\n        $el.addClass(params.clickableClass);\n      }\n\n      $el.addClass(params.modifierClass + params.type);\n      $el.addClass(params.modifierClass + swiper.params.direction);\n\n      if (params.type === 'bullets' && params.dynamicBullets) {\n        $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n        dynamicBulletIndex = 0;\n\n        if (params.dynamicMainBullets < 1) {\n          params.dynamicMainBullets = 1;\n        }\n      }\n\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\n        $el.addClass(params.progressbarOppositeClass);\n      }\n\n      if (params.clickable) {\n        $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n          e.preventDefault();\n          let index = $(this).index() * swiper.params.slidesPerGroup;\n          if (swiper.params.loop) index += swiper.loopedSlides;\n          swiper.slideTo(index);\n        });\n      }\n\n      Object.assign(swiper.pagination, {\n        $el,\n        el: $el[0]\n      });\n\n      if (!swiper.enabled) {\n        $el.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const $el = swiper.pagination.$el;\n      $el.removeClass(params.hiddenClass);\n      $el.removeClass(params.modifierClass + params.type);\n      $el.removeClass(params.modifierClass + swiper.params.direction);\n      if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n      if (params.clickable) {\n        $el.off('click', classesToSelector(params.bulletClass));\n      }\n    }\n\n    on('init', () => {\n      init();\n      render();\n      update();\n    });\n    on('activeIndexChange', () => {\n      if (swiper.params.loop) {\n        update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        update();\n      }\n    });\n    on('snapIndexChange', () => {\n      if (!swiper.params.loop) {\n        update();\n      }\n    });\n    on('slidesLengthChange', () => {\n      if (swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('snapGridLengthChange', () => {\n      if (!swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.pagination;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    });\n    on('lock unlock', () => {\n      update();\n    });\n    on('click', (_s, e) => {\n      const targetEl = e.target;\n      const {\n        $el\n      } = swiper.pagination;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          emit('paginationShow');\n        } else {\n          emit('paginationHide');\n        }\n\n        $el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    });\n    Object.assign(swiper.pagination, {\n      render,\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function Scrollbar({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    let isTouched = false;\n    let timeout = null;\n    let dragTimeout = null;\n    let dragStartPos;\n    let dragSize;\n    let trackSize;\n    let divider;\n    extendParams({\n      scrollbar: {\n        el: null,\n        dragSize: 'auto',\n        hide: false,\n        draggable: false,\n        snapOnRelease: true,\n        lockClass: 'swiper-scrollbar-lock',\n        dragClass: 'swiper-scrollbar-drag'\n      }\n    });\n    swiper.scrollbar = {\n      el: null,\n      dragEl: null,\n      $el: null,\n      $dragEl: null\n    };\n\n    function setTranslate() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar,\n        rtlTranslate: rtl,\n        progress\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      const params = swiper.params.scrollbar;\n      let newSize = dragSize;\n      let newPos = (trackSize - dragSize) * progress;\n\n      if (rtl) {\n        newPos = -newPos;\n\n        if (newPos > 0) {\n          newSize = dragSize - newPos;\n          newPos = 0;\n        } else if (-newPos + dragSize > trackSize) {\n          newSize = trackSize + newPos;\n        }\n      } else if (newPos < 0) {\n        newSize = dragSize + newPos;\n        newPos = 0;\n      } else if (newPos + dragSize > trackSize) {\n        newSize = trackSize - newPos;\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n        $dragEl[0].style.width = `${newSize}px`;\n      } else {\n        $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n        $dragEl[0].style.height = `${newSize}px`;\n      }\n\n      if (params.hide) {\n        clearTimeout(timeout);\n        $el[0].style.opacity = 1;\n        timeout = setTimeout(() => {\n          $el[0].style.opacity = 0;\n          $el.transition(400);\n        }, 1000);\n      }\n    }\n\n    function setTransition(duration) {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      swiper.scrollbar.$dragEl.transition(duration);\n    }\n\n    function updateSize() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      $dragEl[0].style.width = '';\n      $dragEl[0].style.height = '';\n      trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n      divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n      if (swiper.params.scrollbar.dragSize === 'auto') {\n        dragSize = trackSize * divider;\n      } else {\n        dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl[0].style.width = `${dragSize}px`;\n      } else {\n        $dragEl[0].style.height = `${dragSize}px`;\n      }\n\n      if (divider >= 1) {\n        $el[0].style.display = 'none';\n      } else {\n        $el[0].style.display = '';\n      }\n\n      if (swiper.params.scrollbar.hide) {\n        $el[0].style.opacity = 0;\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function getPointerPosition(e) {\n      if (swiper.isHorizontal()) {\n        return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n      }\n\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n    }\n\n    function setDragPosition(e) {\n      const {\n        scrollbar,\n        rtlTranslate: rtl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      let positionRatio;\n      positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n      positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n      if (rtl) {\n        positionRatio = 1 - positionRatio;\n      }\n\n      const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n      swiper.updateProgress(position);\n      swiper.setTranslate(position);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    function onDragStart(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      isTouched = true;\n      dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n      e.preventDefault();\n      e.stopPropagation();\n      $wrapperEl.transition(100);\n      $dragEl.transition(100);\n      setDragPosition(e);\n      clearTimeout(dragTimeout);\n      $el.transition(0);\n\n      if (params.hide) {\n        $el.css('opacity', 1);\n      }\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', 'none');\n      }\n\n      emit('scrollbarDragStart', e);\n    }\n\n    function onDragMove(e) {\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      if (!isTouched) return;\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      setDragPosition(e);\n      $wrapperEl.transition(0);\n      $el.transition(0);\n      $dragEl.transition(0);\n      emit('scrollbarDragMove', e);\n    }\n\n    function onDragEnd(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      if (!isTouched) return;\n      isTouched = false;\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', '');\n        $wrapperEl.transition('');\n      }\n\n      if (params.hide) {\n        clearTimeout(dragTimeout);\n        dragTimeout = nextTick(() => {\n          $el.css('opacity', 0);\n          $el.transition(400);\n        }, 1000);\n      }\n\n      emit('scrollbarDragEnd', e);\n\n      if (params.snapOnRelease) {\n        swiper.slideToClosest();\n      }\n    }\n\n    function events(method) {\n      const {\n        scrollbar,\n        touchEventsTouch,\n        touchEventsDesktop,\n        params,\n        support\n      } = swiper;\n      const $el = scrollbar.$el;\n      const target = $el[0];\n      const activeListener = support.passiveListener && params.passiveListeners ? {\n        passive: false,\n        capture: false\n      } : false;\n      const passiveListener = support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      if (!target) return;\n      const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n      if (!support.touch) {\n        target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n        document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n        document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n      } else {\n        target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n        target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n        target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n      }\n    }\n\n    function enableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('on');\n    }\n\n    function disableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('off');\n    }\n\n    function init() {\n      const {\n        scrollbar,\n        $el: $swiperEl\n      } = swiper;\n      swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n        el: 'swiper-scrollbar'\n      });\n      const params = swiper.params.scrollbar;\n      if (!params.el) return;\n      let $el = $(params.el);\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n        $el = $swiperEl.find(params.el);\n      }\n\n      let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n      if ($dragEl.length === 0) {\n        $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n        $el.append($dragEl);\n      }\n\n      Object.assign(scrollbar, {\n        $el,\n        el: $el[0],\n        $dragEl,\n        dragEl: $dragEl[0]\n      });\n\n      if (params.draggable) {\n        enableDraggable();\n      }\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function destroy() {\n      disableDraggable();\n    }\n\n    on('init', () => {\n      init();\n      updateSize();\n      setTranslate();\n    });\n    on('update resize observerUpdate lock unlock', () => {\n      updateSize();\n    });\n    on('setTranslate', () => {\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      setTransition(duration);\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.scrollbar;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    Object.assign(swiper.scrollbar, {\n      updateSize,\n      setTranslate,\n      init,\n      destroy\n    });\n  }\n\n  function Parallax({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      parallax: {\n        enabled: false\n      }\n    });\n\n    const setTransform = (el, progress) => {\n      const {\n        rtl\n      } = swiper;\n      const $el = $(el);\n      const rtlFactor = rtl ? -1 : 1;\n      const p = $el.attr('data-swiper-parallax') || '0';\n      let x = $el.attr('data-swiper-parallax-x');\n      let y = $el.attr('data-swiper-parallax-y');\n      const scale = $el.attr('data-swiper-parallax-scale');\n      const opacity = $el.attr('data-swiper-parallax-opacity');\n\n      if (x || y) {\n        x = x || '0';\n        y = y || '0';\n      } else if (swiper.isHorizontal()) {\n        x = p;\n        y = '0';\n      } else {\n        y = p;\n        x = '0';\n      }\n\n      if (x.indexOf('%') >= 0) {\n        x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n      } else {\n        x = `${x * progress * rtlFactor}px`;\n      }\n\n      if (y.indexOf('%') >= 0) {\n        y = `${parseInt(y, 10) * progress}%`;\n      } else {\n        y = `${y * progress}px`;\n      }\n\n      if (typeof opacity !== 'undefined' && opacity !== null) {\n        const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n        $el[0].style.opacity = currentOpacity;\n      }\n\n      if (typeof scale === 'undefined' || scale === null) {\n        $el.transform(`translate3d(${x}, ${y}, 0px)`);\n      } else {\n        const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n        $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n      }\n    };\n\n    const setTranslate = () => {\n      const {\n        $el,\n        slides,\n        progress,\n        snapGrid\n      } = swiper;\n      $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, progress);\n      });\n      slides.each((slideEl, slideIndex) => {\n        let slideProgress = slideEl.progress;\n\n        if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n          slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n        }\n\n        slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n        $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n          setTransform(el, slideProgress);\n        });\n      });\n    };\n\n    const setTransition = (duration = swiper.params.speed) => {\n      const {\n        $el\n      } = swiper;\n      $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n        const $parallaxEl = $(parallaxEl);\n        let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) parallaxDuration = 0;\n        $parallaxEl.transition(parallaxDuration);\n      });\n    };\n\n    on('beforeInit', () => {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    });\n    on('init', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTransition', (_swiper, duration) => {\n      if (!swiper.params.parallax.enabled) return;\n      setTransition(duration);\n    });\n  }\n\n  function Zoom({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      zoom: {\n        enabled: false,\n        maxRatio: 3,\n        minRatio: 1,\n        toggle: true,\n        containerClass: 'swiper-zoom-container',\n        zoomedSlideClass: 'swiper-slide-zoomed'\n      }\n    });\n    swiper.zoom = {\n      enabled: false\n    };\n    let currentScale = 1;\n    let isScaling = false;\n    let gesturesEnabled;\n    let fakeGestureTouched;\n    let fakeGestureMoved;\n    const gesture = {\n      $slideEl: undefined,\n      slideWidth: undefined,\n      slideHeight: undefined,\n      $imageEl: undefined,\n      $imageWrapEl: undefined,\n      maxRatio: 3\n    };\n    const image = {\n      isTouched: undefined,\n      isMoved: undefined,\n      currentX: undefined,\n      currentY: undefined,\n      minX: undefined,\n      minY: undefined,\n      maxX: undefined,\n      maxY: undefined,\n      width: undefined,\n      height: undefined,\n      startX: undefined,\n      startY: undefined,\n      touchesStart: {},\n      touchesCurrent: {}\n    };\n    const velocity = {\n      x: undefined,\n      y: undefined,\n      prevPositionX: undefined,\n      prevPositionY: undefined,\n      prevTime: undefined\n    };\n    let scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get() {\n        return scale;\n      },\n\n      set(value) {\n        if (scale !== value) {\n          const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n          const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n          emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n\n    });\n\n    function getDistanceBetweenTouches(e) {\n      if (e.targetTouches.length < 2) return 1;\n      const x1 = e.targetTouches[0].pageX;\n      const y1 = e.targetTouches[0].pageY;\n      const x2 = e.targetTouches[1].pageX;\n      const y2 = e.targetTouches[1].pageY;\n      const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n      return distance;\n    } // Events\n\n\n    function onGestureStart(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureTouched = true;\n        gesture.scaleStart = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$slideEl || !gesture.$slideEl.length) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n        gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n        if (gesture.$imageWrapEl.length === 0) {\n          gesture.$imageEl = undefined;\n          return;\n        }\n      }\n\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transition(0);\n      }\n\n      isScaling = true;\n    }\n\n    function onGestureChange(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureMoved = true;\n        gesture.scaleMove = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n        if (e.type === 'gesturechange') onGestureStart(e);\n        return;\n      }\n\n      if (support.gestures) {\n        zoom.scale = e.scale * currentScale;\n      } else {\n        zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n      }\n\n      if (zoom.scale > gesture.maxRatio) {\n        zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n      }\n\n      if (zoom.scale < params.minRatio) {\n        zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n      }\n\n      gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function onGestureEnd(e) {\n      const device = swiper.device;\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (!fakeGestureTouched || !fakeGestureMoved) {\n          return;\n        }\n\n        if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n          return;\n        }\n\n        fakeGestureTouched = false;\n        fakeGestureMoved = false;\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n      gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n      currentScale = zoom.scale;\n      isScaling = false;\n      if (zoom.scale === 1) gesture.$slideEl = undefined;\n    }\n\n    function onTouchStart(e) {\n      const device = swiper.device;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      if (image.isTouched) return;\n      if (device.android && e.cancelable) e.preventDefault();\n      image.isTouched = true;\n      image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function onTouchMove(e) {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      swiper.allowClick = false;\n      if (!image.isTouched || !gesture.$slideEl) return;\n\n      if (!image.isMoved) {\n        image.width = gesture.$imageEl[0].offsetWidth;\n        image.height = gesture.$imageEl[0].offsetHeight;\n        image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n        image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n        gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n        gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n        gesture.$imageWrapEl.transition(0);\n      } // Define if we need image drag\n\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (!image.isMoved && !isScaling) {\n        if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n          image.isTouched = false;\n          return;\n        }\n\n        if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n          image.isTouched = false;\n          return;\n        }\n      }\n\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      e.stopPropagation();\n      image.isMoved = true;\n      image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n      image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n      if (image.currentX < image.minX) {\n        image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n      }\n\n      if (image.currentX > image.maxX) {\n        image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n      }\n\n      if (image.currentY < image.minY) {\n        image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n      }\n\n      if (image.currentY > image.maxY) {\n        image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n      } // Velocity\n\n\n      if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n      if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n      if (!velocity.prevTime) velocity.prevTime = Date.now();\n      velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n      velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n      if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n      if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n      velocity.prevPositionX = image.touchesCurrent.x;\n      velocity.prevPositionY = image.touchesCurrent.y;\n      velocity.prevTime = Date.now();\n      gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTouchEnd() {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n      if (!image.isTouched || !image.isMoved) {\n        image.isTouched = false;\n        image.isMoved = false;\n        return;\n      }\n\n      image.isTouched = false;\n      image.isMoved = false;\n      let momentumDurationX = 300;\n      let momentumDurationY = 300;\n      const momentumDistanceX = velocity.x * momentumDurationX;\n      const newPositionX = image.currentX + momentumDistanceX;\n      const momentumDistanceY = velocity.y * momentumDurationY;\n      const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n      if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n      if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n      const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n      image.currentX = newPositionX;\n      image.currentY = newPositionY; // Define if we need image drag\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n      image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n      gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTransitionEnd() {\n      const zoom = swiper.zoom;\n\n      if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n        if (gesture.$imageEl) {\n          gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n        }\n\n        if (gesture.$imageWrapEl) {\n          gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n        }\n\n        zoom.scale = 1;\n        currentScale = 1;\n        gesture.$slideEl = undefined;\n        gesture.$imageEl = undefined;\n        gesture.$imageWrapEl = undefined;\n      }\n    }\n\n    function zoomIn(e) {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (e && e.target) {\n          gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        }\n\n        if (!gesture.$slideEl) {\n          if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n            gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n          } else {\n            gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n          }\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.touchAction = 'none';\n      }\n\n      gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n      let touchX;\n      let touchY;\n      let offsetX;\n      let offsetY;\n      let diffX;\n      let diffY;\n      let translateX;\n      let translateY;\n      let imageWidth;\n      let imageHeight;\n      let scaledWidth;\n      let scaledHeight;\n      let translateMinX;\n      let translateMinY;\n      let translateMaxX;\n      let translateMaxY;\n      let slideWidth;\n      let slideHeight;\n\n      if (typeof image.touchesStart.x === 'undefined' && e) {\n        touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n        touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n      } else {\n        touchX = image.touchesStart.x;\n        touchY = image.touchesStart.y;\n      }\n\n      zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (e) {\n        slideWidth = gesture.$slideEl[0].offsetWidth;\n        slideHeight = gesture.$slideEl[0].offsetHeight;\n        offsetX = gesture.$slideEl.offset().left + window.scrollX;\n        offsetY = gesture.$slideEl.offset().top + window.scrollY;\n        diffX = offsetX + slideWidth / 2 - touchX;\n        diffY = offsetY + slideHeight / 2 - touchY;\n        imageWidth = gesture.$imageEl[0].offsetWidth;\n        imageHeight = gesture.$imageEl[0].offsetHeight;\n        scaledWidth = imageWidth * zoom.scale;\n        scaledHeight = imageHeight * zoom.scale;\n        translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n        translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n        translateMaxX = -translateMinX;\n        translateMaxY = -translateMinY;\n        translateX = diffX * zoom.scale;\n        translateY = diffY * zoom.scale;\n\n        if (translateX < translateMinX) {\n          translateX = translateMinX;\n        }\n\n        if (translateX > translateMaxX) {\n          translateX = translateMaxX;\n        }\n\n        if (translateY < translateMinY) {\n          translateY = translateMinY;\n        }\n\n        if (translateY > translateMaxY) {\n          translateY = translateMaxY;\n        }\n      } else {\n        translateX = 0;\n        translateY = 0;\n      }\n\n      gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n      gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function zoomOut() {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.style.touchAction = '';\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n      gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n      gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n      gesture.$slideEl = undefined;\n    } // Toggle Zoom\n\n\n    function zoomToggle(e) {\n      const zoom = swiper.zoom;\n\n      if (zoom.scale && zoom.scale !== 1) {\n        // Zoom Out\n        zoomOut();\n      } else {\n        // Zoom In\n        zoomIn(e);\n      }\n    }\n\n    function getListeners() {\n      const support = swiper.support;\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      const activeListenerWithCapture = support.passiveListener ? {\n        passive: false,\n        capture: true\n      } : true;\n      return {\n        passiveListener,\n        activeListenerWithCapture\n      };\n    }\n\n    function getSlideSelector() {\n      return `.${swiper.params.slideClass}`;\n    }\n\n    function toggleGestures(method) {\n      const {\n        passiveListener\n      } = getListeners();\n      const slideSelector = getSlideSelector();\n      swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n      swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n    }\n\n    function enableGestures() {\n      if (gesturesEnabled) return;\n      gesturesEnabled = true;\n      toggleGestures('on');\n    }\n\n    function disableGestures() {\n      if (!gesturesEnabled) return;\n      gesturesEnabled = false;\n      toggleGestures('off');\n    } // Attach/Detach Events\n\n\n    function enable() {\n      const zoom = swiper.zoom;\n      if (zoom.enabled) return;\n      zoom.enabled = true;\n      const support = swiper.support;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    function disable() {\n      const zoom = swiper.zoom;\n      if (!zoom.enabled) return;\n      const support = swiper.support;\n      zoom.enabled = false;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    on('init', () => {\n      if (swiper.params.zoom.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      disable();\n    });\n    on('touchStart', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchStart(e);\n    });\n    on('touchEnd', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchEnd();\n    });\n    on('doubleTap', (_s, e) => {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        zoomToggle(e);\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        onTransitionEnd();\n      }\n    });\n    on('slideChange', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        onTransitionEnd();\n      }\n    });\n    Object.assign(swiper.zoom, {\n      enable,\n      disable,\n      in: zoomIn,\n      out: zoomOut,\n      toggle: zoomToggle\n    });\n  }\n\n  function Lazy({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      lazy: {\n        checkInView: false,\n        enabled: false,\n        loadPrevNext: false,\n        loadPrevNextAmount: 1,\n        loadOnTransitionStart: false,\n        scrollingElement: '',\n        elementClass: 'swiper-lazy',\n        loadingClass: 'swiper-lazy-loading',\n        loadedClass: 'swiper-lazy-loaded',\n        preloaderClass: 'swiper-lazy-preloader'\n      }\n    });\n    swiper.lazy = {};\n    let scrollHandlerAttached = false;\n    let initialImageLoaded = false;\n\n    function loadInSlide(index, loadInDuplicate = true) {\n      const params = swiper.params.lazy;\n      if (typeof index === 'undefined') return;\n      if (swiper.slides.length === 0) return;\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n      const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n      if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n        $images.push($slideEl[0]);\n      }\n\n      if ($images.length === 0) return;\n      $images.each(imageEl => {\n        const $imageEl = $(imageEl);\n        $imageEl.addClass(params.loadingClass);\n        const background = $imageEl.attr('data-background');\n        const src = $imageEl.attr('data-src');\n        const srcset = $imageEl.attr('data-srcset');\n        const sizes = $imageEl.attr('data-sizes');\n        const $pictureEl = $imageEl.parent('picture');\n        swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n          if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n          if (background) {\n            $imageEl.css('background-image', `url(\"${background}\")`);\n            $imageEl.removeAttr('data-background');\n          } else {\n            if (srcset) {\n              $imageEl.attr('srcset', srcset);\n              $imageEl.removeAttr('data-srcset');\n            }\n\n            if (sizes) {\n              $imageEl.attr('sizes', sizes);\n              $imageEl.removeAttr('data-sizes');\n            }\n\n            if ($pictureEl.length) {\n              $pictureEl.children('source').each(sourceEl => {\n                const $source = $(sourceEl);\n\n                if ($source.attr('data-srcset')) {\n                  $source.attr('srcset', $source.attr('data-srcset'));\n                  $source.removeAttr('data-srcset');\n                }\n              });\n            }\n\n            if (src) {\n              $imageEl.attr('src', src);\n              $imageEl.removeAttr('data-src');\n            }\n          }\n\n          $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n          $slideEl.find(`.${params.preloaderClass}`).remove();\n\n          if (swiper.params.loop && loadInDuplicate) {\n            const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n            if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n              const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n              loadInSlide(originalSlide.index(), false);\n            } else {\n              const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n              loadInSlide(duplicatedSlide.index(), false);\n            }\n          }\n\n          emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n          if (swiper.params.autoHeight) {\n            swiper.updateAutoHeight();\n          }\n        });\n        emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n      });\n    }\n\n    function load() {\n      const {\n        $wrapperEl,\n        params: swiperParams,\n        slides,\n        activeIndex\n      } = swiper;\n      const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n      const params = swiperParams.lazy;\n      let slidesPerView = swiperParams.slidesPerView;\n\n      if (slidesPerView === 'auto') {\n        slidesPerView = 0;\n      }\n\n      function slideExist(index) {\n        if (isVirtual) {\n          if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n            return true;\n          }\n        } else if (slides[index]) return true;\n\n        return false;\n      }\n\n      function slideIndex(slideEl) {\n        if (isVirtual) {\n          return $(slideEl).attr('data-swiper-slide-index');\n        }\n\n        return $(slideEl).index();\n      }\n\n      if (!initialImageLoaded) initialImageLoaded = true;\n\n      if (swiper.params.watchSlidesProgress) {\n        $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n          const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n          loadInSlide(index);\n        });\n      } else if (slidesPerView > 1) {\n        for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        loadInSlide(activeIndex);\n      }\n\n      if (params.loadPrevNext) {\n        if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n          const amount = params.loadPrevNextAmount;\n          const spv = slidesPerView;\n          const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n          const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n          for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          } // Prev Slides\n\n\n          for (let i = minIndex; i < activeIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          }\n        } else {\n          const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n          if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n          const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n          if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n        }\n      }\n    }\n\n    function checkInViewOnLoad() {\n      const window = getWindow();\n      if (!swiper || swiper.destroyed) return;\n      const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n      const isWindow = $scrollElement[0] === window;\n      const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n      const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n      const swiperOffset = swiper.$el.offset();\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let inView = false;\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n\n      if (inView) {\n        load();\n        $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n      } else if (!scrollHandlerAttached) {\n        scrollHandlerAttached = true;\n        $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n      }\n    }\n\n    on('beforeInit', () => {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    });\n    on('init', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('scroll', () => {\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n        load();\n      }\n    });\n    on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('transitionStart', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n          if (swiper.params.lazy.checkInView) {\n            checkInViewOnLoad();\n          } else {\n            load();\n          }\n        }\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('slideChange', () => {\n      const {\n        lazy,\n        cssMode,\n        watchSlidesProgress,\n        touchReleaseOnEdges,\n        resistanceRatio\n      } = swiper.params;\n\n      if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        load();\n      }\n    });\n    Object.assign(swiper.lazy, {\n      load,\n      loadInSlide\n    });\n  }\n\n  /* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\n  function Controller({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      controller: {\n        control: undefined,\n        inverse: false,\n        by: 'slide' // or 'container'\n\n      }\n    });\n    swiper.controller = {\n      control: undefined\n    };\n\n    function LinearSpline(x, y) {\n      const binarySearch = function search() {\n        let maxIndex;\n        let minIndex;\n        let guess;\n        return (array, val) => {\n          minIndex = -1;\n          maxIndex = array.length;\n\n          while (maxIndex - minIndex > 1) {\n            guess = maxIndex + minIndex >> 1;\n\n            if (array[guess] <= val) {\n              minIndex = guess;\n            } else {\n              maxIndex = guess;\n            }\n          }\n\n          return maxIndex;\n        };\n      }();\n\n      this.x = x;\n      this.y = y;\n      this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n      // (x1,y1) is the known point before given value,\n      // (x3,y3) is the known point after given value.\n\n      let i1;\n      let i3;\n\n      this.interpolate = function interpolate(x2) {\n        if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n        i3 = binarySearch(this.x, x2);\n        i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n        // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n        return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n      };\n\n      return this;\n    } // xxx: for now i will just save one spline function to to\n\n\n    function getInterpolateFunction(c) {\n      if (!swiper.controller.spline) {\n        swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n      }\n    }\n\n    function setTranslate(_t, byController) {\n      const controlled = swiper.controller.control;\n      let multiplier;\n      let controlledTranslate;\n      const Swiper = swiper.constructor;\n\n      function setControlledTranslate(c) {\n        // this will create an Interpolate function based on the snapGrids\n        // x is the Grid of the scrolled scroller and y will be the controlled scroller\n        // it makes sense to create this only once and recall it for the interpolation\n        // the function does a lot of value caching for performance\n        const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n        if (swiper.params.controller.by === 'slide') {\n          getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n          // but it did not work out\n\n          controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n        }\n\n        if (!controlledTranslate || swiper.params.controller.by === 'container') {\n          multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n          controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n        }\n\n        if (swiper.params.controller.inverse) {\n          controlledTranslate = c.maxTranslate() - controlledTranslate;\n        }\n\n        c.updateProgress(controlledTranslate);\n        c.setTranslate(controlledTranslate, swiper);\n        c.updateActiveIndex();\n        c.updateSlidesClasses();\n      }\n\n      if (Array.isArray(controlled)) {\n        for (let i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTranslate(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTranslate(controlled);\n      }\n    }\n\n    function setTransition(duration, byController) {\n      const Swiper = swiper.constructor;\n      const controlled = swiper.controller.control;\n      let i;\n\n      function setControlledTransition(c) {\n        c.setTransition(duration, swiper);\n\n        if (duration !== 0) {\n          c.transitionStart();\n\n          if (c.params.autoHeight) {\n            nextTick(() => {\n              c.updateAutoHeight();\n            });\n          }\n\n          c.$wrapperEl.transitionEnd(() => {\n            if (!controlled) return;\n\n            if (c.params.loop && swiper.params.controller.by === 'slide') {\n              c.loopFix();\n            }\n\n            c.transitionEnd();\n          });\n        }\n      }\n\n      if (Array.isArray(controlled)) {\n        for (i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTransition(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTransition(controlled);\n      }\n    }\n\n    function removeSpline() {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    }\n\n    on('beforeInit', () => {\n      swiper.controller.control = swiper.params.controller.control;\n    });\n    on('update', () => {\n      removeSpline();\n    });\n    on('resize', () => {\n      removeSpline();\n    });\n    on('observerUpdate', () => {\n      removeSpline();\n    });\n    on('setTranslate', (_s, translate, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    });\n    on('setTransition', (_s, duration, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    });\n    Object.assign(swiper.controller, {\n      setTranslate,\n      setTransition\n    });\n  }\n\n  function A11y({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      a11y: {\n        enabled: true,\n        notificationClass: 'swiper-notification',\n        prevSlideMessage: 'Previous slide',\n        nextSlideMessage: 'Next slide',\n        firstSlideMessage: 'This is the first slide',\n        lastSlideMessage: 'This is the last slide',\n        paginationBulletMessage: 'Go to slide {{index}}',\n        slideLabelMessage: '{{index}} / {{slidesLength}}',\n        containerMessage: null,\n        containerRoleDescriptionMessage: null,\n        itemRoleDescriptionMessage: null,\n        slideRole: 'group'\n      }\n    });\n    let liveRegion = null;\n\n    function notify(message) {\n      const notification = liveRegion;\n      if (notification.length === 0) return;\n      notification.html('');\n      notification.html(message);\n    }\n\n    function getRandomNumber(size = 16) {\n      const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n      return 'x'.repeat(size).replace(/x/g, randomChar);\n    }\n\n    function makeElFocusable($el) {\n      $el.attr('tabIndex', '0');\n    }\n\n    function makeElNotFocusable($el) {\n      $el.attr('tabIndex', '-1');\n    }\n\n    function addElRole($el, role) {\n      $el.attr('role', role);\n    }\n\n    function addElRoleDescription($el, description) {\n      $el.attr('aria-roledescription', description);\n    }\n\n    function addElControls($el, controls) {\n      $el.attr('aria-controls', controls);\n    }\n\n    function addElLabel($el, label) {\n      $el.attr('aria-label', label);\n    }\n\n    function addElId($el, id) {\n      $el.attr('id', id);\n    }\n\n    function addElLive($el, live) {\n      $el.attr('aria-live', live);\n    }\n\n    function disableEl($el) {\n      $el.attr('aria-disabled', true);\n    }\n\n    function enableEl($el) {\n      $el.attr('aria-disabled', false);\n    }\n\n    function onEnterOrSpaceKey(e) {\n      if (e.keyCode !== 13 && e.keyCode !== 32) return;\n      const params = swiper.params.a11y;\n      const $targetEl = $(e.target);\n\n      if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n        if (!(swiper.isEnd && !swiper.params.loop)) {\n          swiper.slideNext();\n        }\n\n        if (swiper.isEnd) {\n          notify(params.lastSlideMessage);\n        } else {\n          notify(params.nextSlideMessage);\n        }\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n        if (!(swiper.isBeginning && !swiper.params.loop)) {\n          swiper.slidePrev();\n        }\n\n        if (swiper.isBeginning) {\n          notify(params.firstSlideMessage);\n        } else {\n          notify(params.prevSlideMessage);\n        }\n      }\n\n      if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n        $targetEl[0].click();\n      }\n    }\n\n    function updateNavigation() {\n      if (swiper.params.loop || !swiper.navigation) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($prevEl && $prevEl.length > 0) {\n        if (swiper.isBeginning) {\n          disableEl($prevEl);\n          makeElNotFocusable($prevEl);\n        } else {\n          enableEl($prevEl);\n          makeElFocusable($prevEl);\n        }\n      }\n\n      if ($nextEl && $nextEl.length > 0) {\n        if (swiper.isEnd) {\n          disableEl($nextEl);\n          makeElNotFocusable($nextEl);\n        } else {\n          enableEl($nextEl);\n          makeElFocusable($nextEl);\n        }\n      }\n    }\n\n    function hasPagination() {\n      return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n    }\n\n    function hasClickablePagination() {\n      return hasPagination() && swiper.params.pagination.clickable;\n    }\n\n    function updatePagination() {\n      const params = swiper.params.a11y;\n      if (!hasPagination()) return;\n      swiper.pagination.bullets.each(bulletEl => {\n        const $bulletEl = $(bulletEl);\n\n        if (swiper.params.pagination.clickable) {\n          makeElFocusable($bulletEl);\n\n          if (!swiper.params.pagination.renderBullet) {\n            addElRole($bulletEl, 'button');\n            addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n          }\n        }\n\n        if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n          $bulletEl.attr('aria-current', 'true');\n        } else {\n          $bulletEl.removeAttr('aria-current');\n        }\n      });\n    }\n\n    const initNavEl = ($el, wrapperId, message) => {\n      makeElFocusable($el);\n\n      if ($el[0].tagName !== 'BUTTON') {\n        addElRole($el, 'button');\n        $el.on('keydown', onEnterOrSpaceKey);\n      }\n\n      addElLabel($el, message);\n      addElControls($el, wrapperId);\n    };\n\n    function init() {\n      const params = swiper.params.a11y;\n      swiper.$el.append(liveRegion); // Container\n\n      const $containerEl = swiper.$el;\n\n      if (params.containerRoleDescriptionMessage) {\n        addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n      }\n\n      if (params.containerMessage) {\n        addElLabel($containerEl, params.containerMessage);\n      } // Wrapper\n\n\n      const $wrapperEl = swiper.$wrapperEl;\n      const wrapperId = $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n      const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n      addElId($wrapperEl, wrapperId);\n      addElLive($wrapperEl, live); // Slide\n\n      if (params.itemRoleDescriptionMessage) {\n        addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n      }\n\n      addElRole($(swiper.slides), params.slideRole);\n      const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      }); // Navigation\n\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl && $nextEl.length) {\n        initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    function destroy() {\n      if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl) {\n        $nextEl.off('keydown', onEnterOrSpaceKey);\n      }\n\n      if ($prevEl) {\n        $prevEl.off('keydown', onEnterOrSpaceKey);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    on('beforeInit', () => {\n      liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n    });\n    on('afterInit', () => {\n      if (!swiper.params.a11y.enabled) return;\n      init();\n      updateNavigation();\n    });\n    on('toEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('fromEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('paginationUpdate', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updatePagination();\n    });\n    on('destroy', () => {\n      if (!swiper.params.a11y.enabled) return;\n      destroy();\n    });\n  }\n\n  function History({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      history: {\n        enabled: false,\n        root: '',\n        replaceState: false,\n        key: 'slides'\n      }\n    });\n    let initialized = false;\n    let paths = {};\n\n    const slugify = text => {\n      return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n    };\n\n    const getPathValues = urlOverride => {\n      const window = getWindow();\n      let location;\n\n      if (urlOverride) {\n        location = new URL(urlOverride);\n      } else {\n        location = window.location;\n      }\n\n      const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n      const total = pathArray.length;\n      const key = pathArray[total - 2];\n      const value = pathArray[total - 1];\n      return {\n        key,\n        value\n      };\n    };\n\n    const setHistory = (key, index) => {\n      const window = getWindow();\n      if (!initialized || !swiper.params.history.enabled) return;\n      let location;\n\n      if (swiper.params.url) {\n        location = new URL(swiper.params.url);\n      } else {\n        location = window.location;\n      }\n\n      const slide = swiper.slides.eq(index);\n      let value = slugify(slide.attr('data-history'));\n\n      if (swiper.params.history.root.length > 0) {\n        let root = swiper.params.history.root;\n        if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n        value = `${root}/${key}/${value}`;\n      } else if (!location.pathname.includes(key)) {\n        value = `${key}/${value}`;\n      }\n\n      const currentState = window.history.state;\n\n      if (currentState && currentState.value === value) {\n        return;\n      }\n\n      if (swiper.params.history.replaceState) {\n        window.history.replaceState({\n          value\n        }, null, value);\n      } else {\n        window.history.pushState({\n          value\n        }, null, value);\n      }\n    };\n\n    const scrollToSlide = (speed, value, runCallbacks) => {\n      if (value) {\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHistory = slugify(slide.attr('data-history'));\n\n          if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, runCallbacks);\n          }\n        }\n      } else {\n        swiper.slideTo(0, speed, runCallbacks);\n      }\n    };\n\n    const setHistoryPopState = () => {\n      paths = getPathValues(swiper.params.url);\n      scrollToSlide(swiper.params.speed, swiper.paths.value, false);\n    };\n\n    const init = () => {\n      const window = getWindow();\n      if (!swiper.params.history) return;\n\n      if (!window.history || !window.history.pushState) {\n        swiper.params.history.enabled = false;\n        swiper.params.hashNavigation.enabled = true;\n        return;\n      }\n\n      initialized = true;\n      paths = getPathValues(swiper.params.url);\n      if (!paths.key && !paths.value) return;\n      scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n      if (!swiper.params.history.replaceState) {\n        window.addEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    const destroy = () => {\n      const window = getWindow();\n\n      if (!swiper.params.history.replaceState) {\n        window.removeEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.history.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.history.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n  }\n\n  function HashNavigation({\n    swiper,\n    extendParams,\n    emit,\n    on\n  }) {\n    let initialized = false;\n    const document = getDocument();\n    const window = getWindow();\n    extendParams({\n      hashNavigation: {\n        enabled: false,\n        replaceState: false,\n        watchState: false\n      }\n    });\n\n    const onHashChange = () => {\n      emit('hashChange');\n      const newHash = document.location.hash.replace('#', '');\n      const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n      if (newHash !== activeSlideHash) {\n        const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n        if (typeof newIndex === 'undefined') return;\n        swiper.slideTo(newIndex);\n      }\n    };\n\n    const setHash = () => {\n      if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n      if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n        window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n        emit('hashSet');\n      } else {\n        const slide = swiper.slides.eq(swiper.activeIndex);\n        const hash = slide.attr('data-hash') || slide.attr('data-history');\n        document.location.hash = hash || '';\n        emit('hashSet');\n      }\n    };\n\n    const init = () => {\n      if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n      initialized = true;\n      const hash = document.location.hash.replace('#', '');\n\n      if (hash) {\n        const speed = 0;\n\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n          if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n          }\n        }\n      }\n\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).on('hashchange', onHashChange);\n      }\n    };\n\n    const destroy = () => {\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).off('hashchange', onHashChange);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHash();\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHash();\n      }\n    });\n  }\n\n  /* eslint no-underscore-dangle: \"off\" */\n  function Autoplay({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    let timeout;\n    swiper.autoplay = {\n      running: false,\n      paused: false\n    };\n    extendParams({\n      autoplay: {\n        enabled: false,\n        delay: 3000,\n        waitForTransition: true,\n        disableOnInteraction: true,\n        stopOnLastSlide: false,\n        reverseDirection: false,\n        pauseOnMouseEnter: false\n      }\n    });\n\n    function run() {\n      const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n      let delay = swiper.params.autoplay.delay;\n\n      if ($activeSlideEl.attr('data-swiper-autoplay')) {\n        delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n      }\n\n      clearTimeout(timeout);\n      timeout = nextTick(() => {\n        let autoplayResult;\n\n        if (swiper.params.autoplay.reverseDirection) {\n          if (swiper.params.loop) {\n            swiper.loopFix();\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.isBeginning) {\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.params.autoplay.stopOnLastSlide) {\n            autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n            emit('autoplay');\n          } else {\n            stop();\n          }\n        } else if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isEnd) {\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n\n        if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n          run();\n        }\n      }, delay);\n    }\n\n    function start() {\n      if (typeof timeout !== 'undefined') return false;\n      if (swiper.autoplay.running) return false;\n      swiper.autoplay.running = true;\n      emit('autoplayStart');\n      run();\n      return true;\n    }\n\n    function stop() {\n      if (!swiper.autoplay.running) return false;\n      if (typeof timeout === 'undefined') return false;\n\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n\n      swiper.autoplay.running = false;\n      emit('autoplayStop');\n      return true;\n    }\n\n    function pause(speed) {\n      if (!swiper.autoplay.running) return;\n      if (swiper.autoplay.paused) return;\n      if (timeout) clearTimeout(timeout);\n      swiper.autoplay.paused = true;\n\n      if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n        swiper.autoplay.paused = false;\n        run();\n      } else {\n        ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n          swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n        });\n      }\n    }\n\n    function onVisibilityChange() {\n      const document = getDocument();\n\n      if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n        pause();\n      }\n\n      if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n        run();\n        swiper.autoplay.paused = false;\n      }\n    }\n\n    function onTransitionEnd(e) {\n      if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n      if (e.target !== swiper.$wrapperEl[0]) return;\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n      swiper.autoplay.paused = false;\n\n      if (!swiper.autoplay.running) {\n        stop();\n      } else {\n        run();\n      }\n    }\n\n    function onMouseEnter() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n    }\n\n    function onMouseLeave() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        return;\n      }\n\n      swiper.autoplay.paused = false;\n      run();\n    }\n\n    function attachMouseEvents() {\n      if (swiper.params.autoplay.pauseOnMouseEnter) {\n        swiper.$el.on('mouseenter', onMouseEnter);\n        swiper.$el.on('mouseleave', onMouseLeave);\n      }\n    }\n\n    function detachMouseEvents() {\n      swiper.$el.off('mouseenter', onMouseEnter);\n      swiper.$el.off('mouseleave', onMouseLeave);\n    }\n\n    on('init', () => {\n      if (swiper.params.autoplay.enabled) {\n        start();\n        const document = getDocument();\n        document.addEventListener('visibilitychange', onVisibilityChange);\n        attachMouseEvents();\n      }\n    });\n    on('beforeTransitionStart', (_s, speed, internal) => {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          stop();\n        }\n      }\n    });\n    on('sliderFirstMove', () => {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          stop();\n        } else {\n          pause();\n        }\n      }\n    });\n    on('touchEnd', () => {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        run();\n      }\n    });\n    on('destroy', () => {\n      detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        stop();\n      }\n\n      const document = getDocument();\n      document.removeEventListener('visibilitychange', onVisibilityChange);\n    });\n    Object.assign(swiper.autoplay, {\n      pause,\n      run,\n      start,\n      stop\n    });\n  }\n\n  function Thumb({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      thumbs: {\n        swiper: null,\n        multipleActiveThumbs: true,\n        autoScrollOffset: 0,\n        slideThumbActiveClass: 'swiper-slide-thumb-active',\n        thumbsContainerClass: 'swiper-thumbs'\n      }\n    });\n    let initialized = false;\n    let swiperCreated = false;\n    swiper.thumbs = {\n      swiper: null\n    };\n\n    function onThumbClick() {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const clickedIndex = thumbsSwiper.clickedIndex;\n      const clickedSlide = thumbsSwiper.clickedSlide;\n      if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n      if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n      let slideToIndex;\n\n      if (thumbsSwiper.params.loop) {\n        slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n      } else {\n        slideToIndex = clickedIndex;\n      }\n\n      if (swiper.params.loop) {\n        let currentIndex = swiper.activeIndex;\n\n        if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n          swiper.loopFix(); // eslint-disable-next-line\n\n          swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n          currentIndex = swiper.activeIndex;\n        }\n\n        const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n      }\n\n      swiper.slideTo(slideToIndex);\n    }\n\n    function init() {\n      const {\n        thumbs: thumbsParams\n      } = swiper.params;\n      if (initialized) return false;\n      initialized = true;\n      const SwiperClass = swiper.constructor;\n\n      if (thumbsParams.swiper instanceof SwiperClass) {\n        swiper.thumbs.swiper = thumbsParams.swiper;\n        Object.assign(swiper.thumbs.swiper.originalParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        Object.assign(swiper.thumbs.swiper.params, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n      } else if (isObject(thumbsParams.swiper)) {\n        const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n        Object.assign(thumbsSwiperParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n        swiperCreated = true;\n      }\n\n      swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n      swiper.thumbs.swiper.on('tap', onThumbClick);\n      return true;\n    }\n\n    function update(initial) {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n      const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n      const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n      if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n        let currentThumbsIndex = thumbsSwiper.activeIndex;\n        let newThumbsIndex;\n        let direction;\n\n        if (thumbsSwiper.params.loop) {\n          if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n            thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n            thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n            currentThumbsIndex = thumbsSwiper.activeIndex;\n          } // Find actual thumbs index to slide to\n\n\n          const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n          const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n          if (typeof prevThumbsIndex === 'undefined') {\n            newThumbsIndex = nextThumbsIndex;\n          } else if (typeof nextThumbsIndex === 'undefined') {\n            newThumbsIndex = prevThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = nextThumbsIndex;\n          } else {\n            newThumbsIndex = prevThumbsIndex;\n          }\n\n          direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n        } else {\n          newThumbsIndex = swiper.realIndex;\n          direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n        }\n\n        if (useOffset) {\n          newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n        }\n\n        if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n          if (thumbsSwiper.params.centeredSlides) {\n            if (newThumbsIndex > currentThumbsIndex) {\n              newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n            } else {\n              newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n            }\n          } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) ;\n\n          thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n        }\n      } // Activate thumbs\n\n\n      let thumbsToActivate = 1;\n      const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n      if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n        thumbsToActivate = swiper.params.slidesPerView;\n      }\n\n      if (!swiper.params.thumbs.multipleActiveThumbs) {\n        thumbsToActivate = 1;\n      }\n\n      thumbsToActivate = Math.floor(thumbsToActivate);\n      thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n      if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n        }\n      } else {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n        }\n      }\n    }\n\n    on('beforeInit', () => {\n      const {\n        thumbs\n      } = swiper.params;\n      if (!thumbs || !thumbs.swiper) return;\n      init();\n      update(true);\n    });\n    on('slideChange update resize observerUpdate', () => {\n      if (!swiper.thumbs.swiper) return;\n      update();\n    });\n    on('setTransition', (_s, duration) => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    });\n    on('beforeDestroy', () => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    });\n    Object.assign(swiper.thumbs, {\n      init,\n      update\n    });\n  }\n\n  function freeMode({\n    swiper,\n    extendParams,\n    emit,\n    once\n  }) {\n    extendParams({\n      freeMode: {\n        enabled: false,\n        momentum: true,\n        momentumRatio: 1,\n        momentumBounce: true,\n        momentumBounceRatio: 1,\n        momentumVelocityRatio: 1,\n        sticky: false,\n        minimumVelocity: 0.02\n      }\n    });\n\n    function onTouchMove() {\n      const {\n        touchEventsData: data,\n        touches\n      } = swiper; // Velocity\n\n      if (data.velocities.length === 0) {\n        data.velocities.push({\n          position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n          time: data.touchStartTime\n        });\n      }\n\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n        time: now()\n      });\n    }\n\n    function onTouchEnd({\n      currentPos\n    }) {\n      const {\n        params,\n        $wrapperEl,\n        rtlTranslate: rtl,\n        snapGrid,\n        touchEventsData: data\n      } = swiper; // Time diff\n\n      const touchEndTime = now();\n      const timeDiff = touchEndTime - data.touchStartTime;\n\n      if (currentPos < -swiper.minTranslate()) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (currentPos > -swiper.maxTranslate()) {\n        if (swiper.slides.length < snapGrid.length) {\n          swiper.slideTo(snapGrid.length - 1);\n        } else {\n          swiper.slideTo(swiper.slides.length - 1);\n        }\n\n        return;\n      }\n\n      if (params.freeMode.momentum) {\n        if (data.velocities.length > 1) {\n          const lastMoveEvent = data.velocities.pop();\n          const velocityEvent = data.velocities.pop();\n          const distance = lastMoveEvent.position - velocityEvent.position;\n          const time = lastMoveEvent.time - velocityEvent.time;\n          swiper.velocity = distance / time;\n          swiper.velocity /= 2;\n\n          if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n            swiper.velocity = 0;\n          } // this implies that the user stopped moving a finger then released.\n          // There would be no events with distance zero, so the last event is stale.\n\n\n          if (time > 150 || now() - lastMoveEvent.time > 300) {\n            swiper.velocity = 0;\n          }\n        } else {\n          swiper.velocity = 0;\n        }\n\n        swiper.velocity *= params.freeMode.momentumVelocityRatio;\n        data.velocities.length = 0;\n        let momentumDuration = 1000 * params.freeMode.momentumRatio;\n        const momentumDistance = swiper.velocity * momentumDuration;\n        let newPosition = swiper.translate + momentumDistance;\n        if (rtl) newPosition = -newPosition;\n        let doBounce = false;\n        let afterBouncePosition;\n        const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n        let needsLoopFix;\n\n        if (newPosition < swiper.maxTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n              newPosition = swiper.maxTranslate() - bounceAmount;\n            }\n\n            afterBouncePosition = swiper.maxTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.maxTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (newPosition > swiper.minTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition - swiper.minTranslate() > bounceAmount) {\n              newPosition = swiper.minTranslate() + bounceAmount;\n            }\n\n            afterBouncePosition = swiper.minTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.minTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (params.freeMode.sticky) {\n          let nextSlide;\n\n          for (let j = 0; j < snapGrid.length; j += 1) {\n            if (snapGrid[j] > -newPosition) {\n              nextSlide = j;\n              break;\n            }\n          }\n\n          if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n            newPosition = snapGrid[nextSlide];\n          } else {\n            newPosition = snapGrid[nextSlide - 1];\n          }\n\n          newPosition = -newPosition;\n        }\n\n        if (needsLoopFix) {\n          once('transitionEnd', () => {\n            swiper.loopFix();\n          });\n        } // Fix duration\n\n\n        if (swiper.velocity !== 0) {\n          if (rtl) {\n            momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n          } else {\n            momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n          }\n\n          if (params.freeMode.sticky) {\n            // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n            // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n            // It's easy to see this when simulating touch with mouse events. To fix this,\n            // limit single-slide swipes to the default slide duration. This also has the\n            // nice side effect of matching slide speed if the user stopped moving before\n            // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n            // For faster swipes, also apply limits (albeit higher ones).\n            const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n            const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n            if (moveDistance < currentSlideSize) {\n              momentumDuration = params.speed;\n            } else if (moveDistance < 2 * currentSlideSize) {\n              momentumDuration = params.speed * 1.5;\n            } else {\n              momentumDuration = params.speed * 2.5;\n            }\n          }\n        } else if (params.freeMode.sticky) {\n          swiper.slideToClosest();\n          return;\n        }\n\n        if (params.freeMode.momentumBounce && doBounce) {\n          swiper.updateProgress(afterBouncePosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n            emit('momentumBounce');\n            swiper.setTransition(params.speed);\n            setTimeout(() => {\n              swiper.setTranslate(afterBouncePosition);\n              $wrapperEl.transitionEnd(() => {\n                if (!swiper || swiper.destroyed) return;\n                swiper.transitionEnd();\n              });\n            }, 0);\n          });\n        } else if (swiper.velocity) {\n          emit('_freeModeNoMomentumRelease');\n          swiper.updateProgress(newPosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n\n          if (!swiper.animating) {\n            swiper.animating = true;\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }\n        } else {\n          swiper.updateProgress(newPosition);\n        }\n\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      } else if (params.freeMode) {\n        emit('_freeModeNoMomentumRelease');\n      }\n\n      if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n    }\n\n    Object.assign(swiper, {\n      freeMode: {\n        onTouchMove,\n        onTouchEnd\n      }\n    });\n  }\n\n  function Grid({\n    swiper,\n    extendParams\n  }) {\n    extendParams({\n      grid: {\n        rows: 1,\n        fill: 'column'\n      }\n    });\n    let slidesNumberEvenToRows;\n    let slidesPerRow;\n    let numFullColumns;\n\n    const initSlides = slidesLength => {\n      const {\n        slidesPerView\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid;\n      slidesPerRow = slidesNumberEvenToRows / rows;\n      numFullColumns = Math.floor(slidesLength / rows);\n\n      if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n        slidesNumberEvenToRows = slidesLength;\n      } else {\n        slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n      }\n\n      if (slidesPerView !== 'auto' && fill === 'row') {\n        slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n      }\n    };\n\n    const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n      const {\n        slidesPerGroup,\n        spaceBetween\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid; // Set slides order\n\n      let newSlideOrderIndex;\n      let column;\n      let row;\n\n      if (fill === 'row' && slidesPerGroup > 1) {\n        const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n        const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n        const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n        slide.css({\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (fill === 'column') {\n        column = Math.floor(i / rows);\n        row = i - column * rows;\n\n        if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n          row += 1;\n\n          if (row >= rows) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n    };\n\n    const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n      const {\n        spaceBetween,\n        centeredSlides,\n        roundLengths\n      } = swiper.params;\n      const {\n        rows\n      } = swiper.params.grid;\n      swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n      swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n      swiper.$wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n      });\n\n      if (centeredSlides) {\n        snapGrid.splice(0, snapGrid.length);\n        const newSlidesGrid = [];\n\n        for (let i = 0; i < snapGrid.length; i += 1) {\n          let slidesGridItem = snapGrid[i];\n          if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n          if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n        }\n\n        snapGrid.push(...newSlidesGrid);\n      }\n    };\n\n    swiper.grid = {\n      initSlides,\n      updateSlide,\n      updateWrapperSize\n    };\n  }\n\n  function appendSlide(slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n  }\n\n  function prependSlide(slides) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    let newActiveIndex = activeIndex + 1;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.prepend(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n    } else {\n      $wrapperEl.prepend(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n\n  function addSlide(index, slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    const baseLength = swiper.slides.length;\n\n    if (index <= 0) {\n      swiper.prependSlide(slides);\n      return;\n    }\n\n    if (index >= baseLength) {\n      swiper.appendSlide(slides);\n      return;\n    }\n\n    let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n    const slidesBuffer = [];\n\n    for (let i = baseLength - 1; i >= index; i -= 1) {\n      const currentSlide = swiper.slides.eq(i);\n      currentSlide.remove();\n      slidesBuffer.unshift(currentSlide);\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n\n      newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    for (let i = 0; i < slidesBuffer.length; i += 1) {\n      $wrapperEl.append(slidesBuffer[i]);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeSlide(slidesIndexes) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    let newActiveIndex = activeIndexBuffer;\n    let indexToRemove;\n\n    if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n      for (let i = 0; i < slidesIndexes.length; i += 1) {\n        indexToRemove = slidesIndexes[i];\n        if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n        if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      }\n\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    } else {\n      indexToRemove = slidesIndexes;\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeAllSlides() {\n    const swiper = this;\n    const slidesIndexes = [];\n\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      slidesIndexes.push(i);\n    }\n\n    swiper.removeSlide(slidesIndexes);\n  }\n\n  function Manipulation({\n    swiper\n  }) {\n    Object.assign(swiper, {\n      appendSlide: appendSlide.bind(swiper),\n      prependSlide: prependSlide.bind(swiper),\n      addSlide: addSlide.bind(swiper),\n      removeSlide: removeSlide.bind(swiper),\n      removeAllSlides: removeAllSlides.bind(swiper)\n    });\n  }\n\n  function effectInit(params) {\n    const {\n      effect,\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams,\n      perspective\n    } = params;\n    on('beforeInit', () => {\n      if (swiper.params.effect !== effect) return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n      if (perspective && perspective()) {\n        swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      }\n\n      const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n      Object.assign(swiper.params, overwriteParamsResult);\n      Object.assign(swiper.originalParams, overwriteParamsResult);\n    });\n    on('setTranslate', () => {\n      if (swiper.params.effect !== effect) return;\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      if (swiper.params.effect !== effect) return;\n      setTransition(duration);\n    });\n  }\n\n  function effectTarget(effectParams, $slideEl) {\n    if (effectParams.transformEl) {\n      return $slideEl.find(effectParams.transformEl).css({\n        'backface-visibility': 'hidden',\n        '-webkit-backface-visibility': 'hidden'\n      });\n    }\n\n    return $slideEl;\n  }\n\n  function effectVirtualTransitionEnd({\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  }) {\n    const {\n      slides,\n      activeIndex,\n      $wrapperEl\n    } = swiper;\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      let $transitionEndTarget;\n\n      if (allSlides) {\n        $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n      } else {\n        $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n      }\n\n      $transitionEndTarget.transitionEnd(() => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n\n  function EffectFade({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      fadeEffect: {\n        crossFade: false,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides\n      } = swiper;\n      const params = swiper.params.fadeEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = swiper.slides.eq(i);\n        const offset = $slideEl[0].swiperSlideOffset;\n        let tx = -offset;\n        if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.css({\n          opacity: slideOpacity\n        }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.fadeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'fade',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCube({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cubeEffect: {\n        slideShadows: true,\n        shadow: true,\n        shadowOffset: 20,\n        shadowScale: 0.94\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        $el,\n        $wrapperEl,\n        slides,\n        width: swiperWidth,\n        height: swiperHeight,\n        rtlTranslate: rtl,\n        size: swiperSize,\n        browser\n      } = swiper;\n      const params = swiper.params.cubeEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      let wrapperRotate = 0;\n      let $cubeShadowEl;\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $wrapperEl.append($cubeShadowEl);\n          }\n\n          $cubeShadowEl.css({\n            height: `${swiperWidth}px`\n          });\n        } else {\n          $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $el.append($cubeShadowEl);\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let slideIndex = i;\n\n        if (isVirtual) {\n          slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n        }\n\n        let slideAngle = slideIndex * 90;\n        let round = Math.floor(slideAngle / 360);\n\n        if (rtl) {\n          slideAngle = -slideAngle;\n          round = Math.floor(-slideAngle / 360);\n        }\n\n        const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        let tx = 0;\n        let ty = 0;\n        let tz = 0;\n\n        if (slideIndex % 4 === 0) {\n          tx = -round * 4 * swiperSize;\n          tz = 0;\n        } else if ((slideIndex - 1) % 4 === 0) {\n          tx = 0;\n          tz = -round * 4 * swiperSize;\n        } else if ((slideIndex - 2) % 4 === 0) {\n          tx = swiperSize + round * 4 * swiperSize;\n          tz = swiperSize;\n        } else if ((slideIndex - 3) % 4 === 0) {\n          tx = -swiperSize;\n          tz = 3 * swiperSize + swiperSize * 4 * round;\n        }\n\n        if (rtl) {\n          tx = -tx;\n        }\n\n        if (!isHorizontal) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n        if (progress <= 1 && progress > -1) {\n          wrapperRotate = slideIndex * 90 + progress * 90;\n          if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n        }\n\n        $slideEl.transform(transform);\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n            $slideEl.append(shadowBefore);\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n            $slideEl.append(shadowAfter);\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n      }\n\n      $wrapperEl.css({\n        '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n        'transform-origin': `50% 50% -${swiperSize / 2}px`\n      });\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n        } else {\n          const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n          const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n          const scale1 = params.shadowScale;\n          const scale2 = params.shadowScale / multiplier;\n          const offset = params.shadowOffset;\n          $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n        }\n      }\n\n      const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n      $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    };\n\n    const setTransition = duration => {\n      const {\n        $el,\n        slides\n      } = swiper;\n      slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n      if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n        $el.find('.swiper-cube-shadow').transition(duration);\n      }\n    };\n\n    effectInit({\n      effect: 'cube',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      })\n    });\n  }\n\n  function createShadow(params, $slideEl, side) {\n    const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n    const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n    let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n    if (!$shadowEl.length) {\n      $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n      $shadowContainer.append($shadowEl);\n    }\n\n    return $shadowEl;\n  }\n\n  function EffectFlip({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      flipEffect: {\n        slideShadows: true,\n        limitRotation: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        rtlTranslate: rtl\n      } = swiper;\n      const params = swiper.params.flipEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let progress = $slideEl[0].progress;\n\n        if (swiper.params.flipEffect.limitRotation) {\n          progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const rotate = -180 * progress;\n        let rotateY = rotate;\n        let rotateX = 0;\n        let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n          rotateX = -rotateY;\n          rotateY = 0;\n        } else if (rtl) {\n          rotateY = -rotateY;\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n\n        const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.flipEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'flip',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCoverflow({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      coverflowEffect: {\n        rotate: 50,\n        stretch: 0,\n        depth: 100,\n        scale: 1,\n        modifier: 1,\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        width: swiperWidth,\n        height: swiperHeight,\n        slides,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.coverflowEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const transform = swiper.translate;\n      const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n      const rotate = isHorizontal ? params.rotate : -params.rotate;\n      const translate = params.depth; // Each slide offset from center\n\n      for (let i = 0, length = slides.length; i < length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideSize = slidesSizesGrid[i];\n        const slideOffset = $slideEl[0].swiperSlideOffset;\n        const offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n        let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n        let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n        let translateZ = -translate * Math.abs(offsetMultiplier);\n        let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n        if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n          stretch = parseFloat(params.stretch) / 100 * slideSize;\n        }\n\n        let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n        let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n        let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n        if (Math.abs(translateX) < 0.001) translateX = 0;\n        if (Math.abs(translateY) < 0.001) translateY = 0;\n        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n        if (Math.abs(scale) < 0.001) scale = 0;\n        const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(slideTransform);\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if ($shadowBeforeEl.length === 0) {\n            $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n          }\n\n          if ($shadowAfterEl.length === 0) {\n            $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n          }\n\n          if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n          if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.coverflowEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    };\n\n    effectInit({\n      effect: 'coverflow',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true\n      })\n    });\n  }\n\n  function EffectCreative({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      creativeEffect: {\n        transformEl: null,\n        limitProgress: 1,\n        shadowPerProgress: false,\n        progressMultiplier: 1,\n        perspective: true,\n        prev: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        },\n        next: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        }\n      }\n    });\n\n    const getTranslateValue = value => {\n      if (typeof value === 'string') return value;\n      return `${value}px`;\n    };\n\n    const setTranslate = () => {\n      const {\n        slides,\n        $wrapperEl,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.creativeEffect;\n      const {\n        progressMultiplier: multiplier\n      } = params;\n      const isCenteredSlides = swiper.params.centeredSlides;\n\n      if (isCenteredSlides) {\n        const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n        $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n        let originalProgress = progress;\n\n        if (!isCenteredSlides) {\n          originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n        const r = [0, 0, 0];\n        let custom = false;\n\n        if (!swiper.isHorizontal()) {\n          t[1] = t[0];\n          t[0] = 0;\n        }\n\n        let data = {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          scale: 1,\n          opacity: 1\n        };\n\n        if (progress < 0) {\n          data = params.next;\n          custom = true;\n        } else if (progress > 0) {\n          data = params.prev;\n          custom = true;\n        } // set translate\n\n\n        t.forEach((value, index) => {\n          t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n        }); // set rotates\n\n        r.forEach((value, index) => {\n          r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n        });\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const translateString = t.join(', ');\n        const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n        const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n        const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n        const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n        if (custom && data.shadow || !custom) {\n          let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0 && data.shadow) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) {\n            const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n            $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n          }\n        }\n\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform).css({\n          opacity: opacityString\n        });\n\n        if (data.origin) {\n          $targetEl.css('transform-origin', data.origin);\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.creativeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'creative',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => swiper.params.creativeEffect.perspective,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCards({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cardsEffect: {\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        activeIndex\n      } = swiper;\n      const params = swiper.params.cardsEffect;\n      const {\n        startTranslate,\n        isTouched\n      } = swiper.touchEventsData;\n      const currentTranslate = swiper.translate;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max(slideProgress, -4), 4);\n        let offset = $slideEl[0].swiperSlideOffset;\n\n        if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n          swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n        }\n\n        if (swiper.params.centeredSlides && swiper.params.cssMode) {\n          offset -= slides[0].swiperSlideOffset;\n        }\n\n        let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let tY = 0;\n        const tZ = -100 * Math.abs(progress);\n        let scale = 1;\n        let rotate = -2 * progress;\n        let tXAdd = 8 - Math.abs(progress) * 0.75;\n        const isSwipeToNext = (i === activeIndex || i === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n        const isSwipeToPrev = (i === activeIndex || i === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n        if (isSwipeToNext || isSwipeToPrev) {\n          const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n          rotate += -28 * progress * subProgress;\n          scale += -0.5 * subProgress;\n          tXAdd += 96 * subProgress;\n          tY = `${-25 * subProgress * Math.abs(progress)}%`;\n        }\n\n        if (progress < 0) {\n          // next\n          tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n        } else if (progress > 0) {\n          // prev\n          tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n        } else {\n          tX = `${tX}px`;\n        }\n\n        if (!swiper.isHorizontal()) {\n          const prevY = tY;\n          tY = tX;\n          tX = prevY;\n        }\n\n        const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n        const transform = `\n      translate3d(${tX}, ${tY}, ${tZ}px)\n      rotateZ(${rotate}deg)\n      scale(${scaleString})\n    `;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.cardsEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'cards',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  // Swiper Class\n  const modules = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, Thumb, freeMode, Grid, Manipulation, EffectFade, EffectCube, EffectFlip, EffectCoverflow, EffectCreative, EffectCards];\n  Swiper.use(modules);\n\n  return Swiper;\n\n})));\n//# sourceMappingURL=swiper-bundle.js.map","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n","import { View, ViewStyle } from './View'\nimport Swiper from '../../common/swiper'\nimport { nodeObserver } from '../../common/utils'\nimport { styleTransformer } from '../../common/style'\nimport Tween from \"@tweenjs/tween.js\"\nexport interface ViewPagerStyle extends ViewStyle {\n  width?: string | number\n  height?: string | number\n  itemSpacing?: number\n  edgeSpacing?: number\n  canLoop?: boolean\n  autoPlay?: boolean\n  loopInterval?: number,\n  borderRadius?: string | number,\n  scaleFactor?: number,\n  alphaFactor?: number\n}\n\nexport class ViewPager extends View {\n  protected _style: ViewPagerStyle\n  _data: Array<any> = []\n  itemViews!: Array<View>\n  itemViewsArray!: Array<any>\n  listeners: { [key: string]: Array<any> }\n  private swiper: any\n  private observe: any\n  private wrapper: Element\n  private activeProgress: number\n  private endProgress: number\n  private tween: any\n  private swipeDirection: any\n  // swiperFrame\n  constructor() {\n    super()\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('swiper-wrapper')\n    this.node.appendChild(this.wrapper)\n    // @ts-ignore\n    this._style = this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'canLoop':\n            this.swiper && (this.swiper.params.loop = value, this.swiper.update());\n            break\n          case 'autoPlay':\n            this.swiper && (value ? (this.swiper.params.autoplay = {\n              delay: this.style.loopInterval,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update(), this.swiper.autoplay.start()) : this.swiper.autoplay.running && this.swiper.autoplay.stop());\n            break\n          case 'loopInterval':\n            this.swiper && this.style.autoPlay && (this.swiper.params.autoplay = {\n              delay: value,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update())\n            break\n          default:\n            this.node.style[key] = value\n        }\n        return true\n      }\n    })\n    this._data = new Proxy(this._data, {\n      get: (target, key) => {\n        return Reflect.get(target, key);\n      },\n      set: (target, key, value) => {\n        Reflect.set(target, key, value);\n        if (this.listeners['onItemView'] && this.listeners['onItemView'].length > 0) {\n          this.listeners['onItemView'].forEach(listener => {\n            this.wrapper.innerHTML = ''\n            for (let index = 0; index < this._data.length; index++) {\n              // @ts-ignore\n              let element: View = listener(index, this._data[index]) || false\n              this._data[index] && (this._data[index] = element)\n              if (element) {\n                element.node.classList.add('swiper-slide')\n                element.node.style.width = `calc(100% - ${this.style.edgeSpacing * 2}px)`\n                this.wrapper.appendChild(element.node)\n              }\n            }\n          })\n          if (this.node.offsetWidth) {\n            this.init();\n          }\n        }\n        return true;\n      }\n    })\n    this.observe = nodeObserver(this.node, () => {\n      if (this.node.offsetWidth) {\n        this.init();\n        this.observe.unobserve(this.node);\n      }\n    })\n  }\n\n  init() {\n    let initSuccess = false\n    let that = this;\n    let translateX = (this.node.offsetWidth - this.style.edgeSpacing * 2) * (this.style.scaleFactor || 0.85) + (this.node.offsetWidth - this.style.edgeSpacing * 2) * ((1 - (this.style.scaleFactor || 0.85)) / 2) + this.style.itemSpacing;\n    let transitionFlag = false;\n    this.swiper = new Swiper(this.node, {\n      loop: this.style.canLoop, // 是否可以无限循环\n      autoplay: this.style.autoPlay ? {\n        delay: this.style.loopInterval,\n        stopOnLastSlide: false,\n        disableOnInteraction: false,\n      } : false,\n      observer: true,\n      observeParents: true,\n      watchSlidesProgress: true,\n      spaceBetween: this.style.itemSpacing as number,\n      centeredSlides: true,\n      mousewheel: true,\n      loopedSlides: 2,\n      slidesPerView: \"auto\",\n      effect: \"creative\",\n      creativeEffect: {\n        limitProgress: 2,\n        prev: {\n          translate: [-translateX, 0, 0],\n          scale: this.style.scaleFactor || 0.85,\n          opacity: this.style.alphaFactor || 0.5\n        },\n        next: {\n          translate: [translateX, 0, 0],\n          scale: this.style.scaleFactor || 0.85,\n          opacity: this.style.alphaFactor || 0.5\n        }\n      },\n      on: {\n        slideChange: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageChange'] && that.listeners['onPageChange'].length > 0) {\n              that.listeners['onPageChange'].forEach(listener => listener(this.realIndex, that.data.length))\n            }\n          }\n        },\n        tap: function (swiper, event) {\n          if (that.listeners['onItemClick'] && that.listeners['onItemClick'].length > 0) {\n            that.listeners['onItemClick'].forEach(listener => listener(this.realIndex))\n          }\n        },\n        slidePrevTransitionStart: function (swiper) {\n          that.swipeDirection = 'prev'\n        },\n        slideNextTransitionStart: function (swiper) {\n          that.swipeDirection = 'next'\n        },\n        transitionStart: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(2))\n            }\n            let previousIndex = parseInt(swiper?.slides[swiper.previousIndex]?.dataset?.swiperSlideIndex)\n            swiper.realIndex === previousIndex && (that.swipeDirection = 'invariant')\n            that.tween = new Tween.Tween({\n              number: transitionFlag ? that.activeProgress : previousIndex\n            }).to({\n              number: that.endProgress >= 1 ? that.endProgress : (that.swipeDirection === 'next' ? Math.ceil(that.activeProgress) : Math.floor(that.activeProgress))\n            }, 300).onUpdate(tween => {\n              let progress\n              if (tween.number >= 1) {\n                progress = tween.number - Math.floor(tween.number)\n              } else {\n                progress = tween.number\n              }\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, progress))\n              }\n            }).start();\n            function animate() {\n              if (Tween.update()) {\n                requestAnimationFrame(animate);\n              }\n            }\n            animate()\n          }\n        },\n        transitionEnd: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(0))\n            }\n            transitionFlag = false;\n          }\n        },\n        sliderMove: function (swiper, event) {\n          if (initSuccess) {\n            that.tween && Tween.remove(that.tween);\n            if (!transitionFlag) {\n              transitionFlag = true;\n              if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n                that.listeners['onPageScrollStateChange'].forEach(listener => listener(1))\n              }\n            }\n          }\n        },\n        touchEnd: function (swiper, event) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            activeProgress !== 0 && (that.activeProgress = activeProgress)\n          }\n        },\n        progress: function (swiper, progress) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides.length <= 0) {\n              return;\n            }\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            if (!/^-?\\d+$/.test(activeProgress)) {\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, activeProgress))\n              }\n            }\n            that.endProgress = activeProgress\n          }\n        },\n      },\n    })\n    initSuccess = true\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewPagerStyle) {\n    let standardStyle = styleTransformer.transformStyle(_style);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n  get data() {\n    return this._data\n  }\n  set data(_data: Array<any>) {\n    this._data.length = _data.length\n  }\n\n  onItemView(callback) {\n    if (!this.listeners['onItemView']) {\n      this.listeners['onItemView'] = []\n    }\n    this.listeners['onItemView'].push(callback)\n  }\n  onPageScroll(callback: any) {\n    if (!this.listeners['onPageScroll']) {\n      this.listeners['onPageScroll'] = []\n    }\n    this.listeners['onPageScroll'].push(callback)\n  }\n  onPageScrollStateChange(callback: any) {\n    if (!this.listeners['onPageScrollStateChange']) {\n      this.listeners['onPageScrollStateChange'] = []\n    }\n    this.listeners['onPageScrollStateChange'].push(callback)\n  }\n  onPageChange(callback: any) {\n    if (!this.listeners['onPageChange']) {\n      this.listeners['onPageChange'] = []\n    }\n    this.listeners['onPageChange'].push(callback)\n  }\n\n  onItemClick(callback: any) {\n    if (!this.listeners['onItemClick']) {\n      this.listeners['onItemClick'] = []\n    }\n    this.listeners['onItemClick'].push(callback)\n  }\n\n  setCurrentItem(position: number) {\n    this.style.canLoop ? this.swiper.slideToLoop(position) : this.swiper.slideTo(position)\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { formatPureNumberPxUnit, formatUnit } from '../../common/utils'\nexport interface CanvasStyle extends ViewStyle { }\n\nexport class CanvasView extends View {\n    protected _style: CanvasStyle\n    private ctx: any\n    private textFillStyle: string = '#000000'\n    private fillStyle: string = '#000000'\n    private resolution!: number\n    constructor() {\n        super()\n        this._style = new Proxy(this._style, {\n            get: (target, key) => {\n                // 获取style\n                return target[key] || this.node.style[key]\n            },\n            set: (target, key, value) => {\n                // 设置style\n                // @ts-ignore\n                target[key] = value\n                switch (key) {\n                    case 'width':\n                        this.node.style[key] = formatUnit(value)\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.width = formatPureNumberPxUnit(value) * this.resolution\n                        break\n                    case 'height':\n                        this.node.style[key] = formatUnit(value)\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.height = formatPureNumberPxUnit(value) * this.resolution\n                        break\n                    default:\n                        this.node.style[key] = formatUnit(value)\n                }\n                return true\n            }\n        })\n    }\n    get style() {\n        return this._style\n    }\n\n    set style(_style: CanvasStyle) {\n        this._style = Object.assign(this._style, _style)\n    }\n    protected createNode() {\n        this.node = document.createElement('canvas')\n        this.resolution = window.devicePixelRatio\n        this.ctx = this.node.getContext('2d');\n    }\n    /**\n    * 设置stroke的线粗细\n    * @param widthValue 粗细值，支持px，hm 单位， 如果不写单位就是dp\n    */\n    lineWidth(widthValue) {\n        this.ctx.lineWidth = formatPureNumberPxUnit(widthValue)\n    }\n    /**\n     * 设置线头样式\n     * @param value 0 : LineCapButt, ， 1:LineCapRound   2:LineCapSquare\n     */\n    lineCap(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'butt'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'square'\n                break;\n            default:\n                this.ctx.lineCap = 'butt'\n                break;\n        }\n    }\n    /**\n     * 设置折线折点样式\n     * @param value 0 : LineJoinMiter, ， 1: LineJoinRound  2:LineJoinBevel\n     */\n    lineJoin(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'miter'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'bevel'\n                break;\n            default:\n                this.ctx.lineCap = 'miter'\n                break;\n        }\n    }\n    /**\n     * 设置stroke的线颜色\n     * @param colorHex 色值\n     */\n    lineColor(colorHex) {\n        this.ctx.strokeStyle = colorHex\n    }\n    /**\n     * 根据入参，在起始点与终点之间画一条线段\n     * @param fromX 起点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param fromY 起点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toX 终点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toY 终点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawLine(fromX, fromY, toX, toY) {\n        this.ctx.beginPath()\n        this.ctx.moveTo(formatPureNumberPxUnit(fromX) * this.resolution, formatPureNumberPxUnit(fromY) * this.resolution)\n        this.ctx.lineTo(formatPureNumberPxUnit(toX) * this.resolution, formatPureNumberPxUnit(toY) * this.resolution)\n        this.ctx.stroke()\n    }\n    /**\n     * 画矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.ctx.strokeRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 画椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        this.ctx.beginPath()\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.ctx.stroke()\n    }\n    /**\n     * 画圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param radius 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeCircle(x, y, radius) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, 0, 2 * Math.PI);\n        this.ctx.stroke();\n        this.ctx.closePath();\n    }\n    /**\n     * 画弧形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     * @param startAngle 起始弧度 ， \n     * @param endAngle 结束弧度 ，\n     * @param clockwise ture 顺时针 ， false 逆时针\n     */\n    arc(x, y, radius, startAngle, endAngle, clockwise) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, startAngle, endAngle, clockwise);\n        this.ctx.stroke();\n    }\n    /**\n     * 设置填充颜色\n     * @param colorHex 颜色16进制\n     */\n    fillColor(colorHex) {\n        this.fillStyle = colorHex\n        this.ctx.fillStyle = this.fillStyle\n        // this.ctx.fill();\n    }\n    /**\n     * 填充矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fillRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 填充椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke()\n        this.lineColor(lineColor)\n    }\n    /**\n     * 填充圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillCircle(x, y, radius) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        radius = formatPureNumberPxUnit(radius)\n        console.log(x, y, radius)\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.arc(x * this.resolution, y * this.resolution, radius * this.resolution, 0, 2 * Math.PI);\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.ctx.closePath();\n        this.lineColor(lineColor)\n    }\n    /**\n     * 设置绘制文本字号\n     * @param size 字号大小\n     */\n    fontSize(size) {\n        this.ctx.font = `${size * this.resolution}px sans-serif`\n    }\n    /**\n     * 设置绘制文本颜色\n     * @param colorHex 字号色值\n     */\n    textColor(colorHex) {\n        this.textFillStyle = colorHex\n    }\n    /**\n     * 绘制文字\n     * @param text 文案\n     * @param x 文本左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 文本左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param maxWidth 文本换行的最大宽度, 0 代表不换行,支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillText(text, x, y, maxWidth) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        maxWidth = formatPureNumberPxUnit(maxWidth)\n        this.ctx.beginPath()\n        this.ctx.textBaseline = \"top\"\n        this.ctx.fillStyle = this.textFillStyle\n        this.ctx.fillText(text, x * this.resolution, y * this.resolution, maxWidth * this.resolution)\n    }\n    /**\n     * 绘制图片\n     * @param src 图片资源链接,远程url或本地图片名\n     * @param x 图片左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 图片左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param width 图片宽 ,支持px，hm 单位， 如果不写单位就是dp\n     * @param height 图片高 ,支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawImage(src, x, y, width, height) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        width = formatPureNumberPxUnit(width)\n        height = formatPureNumberPxUnit(height)\n        var img = new Image();\n        img.src = src;\n        img.onload = () => {\n            this.ctx.beginPath()\n            this.ctx.drawImage(img, x * this.resolution, y * this.resolution, width * this.resolution, height * this.resolution)\n        }\n    }\n}\n"],"names":["Environment","constructor","this","appName","safeAreaBottom","appVersion","deviceHeight","self","top","document","body","offsetHeight","window","screen","height","deviceWidth","offsetWidth","width","availableHeight","availHeight","availableWidth","availWidth","statusBarHeight","osVersion","platform","scale","devicePixelRatio","remUEWidthInPixel","remUEWidthInPixelRatio","model","extraParams","system","brand","NotifyCenter","addEventListener","key","listener","listeners","push","removeEventListener","filter","_listener","triggerEvent","args","forEach","target","formatUnit","size","test","indexOf","parseFloat","replace","Hummer","env","match","word","split","formatPureNumberPxUnit","formatUnitResult","inIframe","nodeObserver","node","callback","ResizeObserver","mutations","observe","getQueryVariable","url","vars","location","search","substring","i","length","pair","HummerGlobal","notifyCenter","pageInfo","JSON","parse","decodeURIComponent","setTitle","setNavigationBarMode","mode","setNavigationBarColor","color","setScrollTracker","view","options","arWidgetDisplay","isDisplay","setBasicWidth","render","page","getElementsByTagName","appendChild","event","CustomEvent","dispatchEvent","globalThis","BasicAnimation","path","on","type","ImagePicker","takePhoto","filePath","pickImage","module","hammerModule","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","round","Math","abs","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","call","hasOwnProperty","deprecate","method","name","message","deprecationMessage","e","Error","stack","log","console","warn","apply","arguments","Object","TypeError","output","index","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","create","_super","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","parent","parentNode","inStr","str","find","trim","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","x","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","start","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","value","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","id","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","events","off","data","gestureEvent","createEvent","initEvent","gesture","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","exports","InputState","PanState","PinchState","SwipeState","TapState","TouchState","LongPressState","ScrollState","hammer","Event","InputEvent","PanEvent","PinchEvent","SwipeEvent","TapEvent","TouchEvent","LongPressEvent","ScrollEvent","KeyframeAnimation","isNeedUnitTrasform","list","map","$0","makeMapByArrOfKebab","transformUnit","transformUnitValue","styleTransformer","registerMiddleware","use","middleware","middlewares","transformStyle","tempStyle","result","SIZE_STYLE","View","viewID","createNode","_enabled","subViews","Set","eventListeners","animations","_style","Proxy","defaultStyle","initialize","formatBasicAnimation","onCreate","onAppear","onDisappear","visibilityChange","bind","onBack","history","pushState","URL","interceptBack","tagName","navBar","navBarTitle","navBarBack","className","onclick","go","innerHTML","pathname","referrer","childNodes","flex","insertBefore","visibilityState","_onDestoryed","playBasicAnimation","animation","keyframes","getBasicAnimationKeyFrameAnimationOptions","animate","onstart","onfinish","basicAnimationArray","shift","onend","play","oldKeyNum","newBasicAnimationArray","numSize","keyNum","parseInt","classList","enabled","disabled","standardStyle","finalize","_onMounted","onMounted","onDestoryed","onDestroy","subview","removeChild","removeAll","existingView","replaceChild","newSubview","oldSubview","getElementById","press","timestamp","BEGAN","pressup","ENDED","oldDeltaX","oldDeltaY","panstart","translation","panmove","CHANGED","panend","pancancel","CANCELLED","pinchstart","pinchmove","pinchend","pinchcancel","swipeleft","swiperight","swipeup","swipedown","tap","position","text","focus","blur","scroll","stopPropagation","getBoundingClientRect","left","addAnimation","getKeyframeAnimationOptions","oncancel","getRect","dbg_highlight","isHighlight","resetStyle","requestViewWidth","requestViewHeight","getBasicAnimationDefaultKeyframeAnimationOptions","ani","playKeyframes","getComputedStyle","endKeyframes","convertPath","convertPathValue","easing","fill","delay","duration","iterations","repeatCount","percent","Image","super","backgroundSize","setImageResizeMode","backgroundRepeat","backgroundPosition","_src","backgroundImage","gifSrc","_gifSrc","gifRepeatCount","onload","Toast","customView","show","msg","that","toastTimer","display","opacity","hide","custom","Dialog","alertView","alertViewMsg","alertViewBtn","loadingView","loadingViewIcon","loadingViewText","confirmView","confirmViewText","confirmViewOkBtn","confirmViewCancelBtn","resize","ontouchend","cancelable","dismiss","alert","btnText","children","confirm","title","okBtnText","cancelBtnText","okCallback","cancelCallback","loading","Location","getLastLocation","startLocation","intervalTime","intervalDistance","stopLocation","onError","Memory","sessionStorage","setItem","getItem","getAll","sessionKeys","sessionAll","removeItem","clear","exist","Navigator","openPage","cloneOptions","stringify","navbar","host","encodeURIComponent","re","RegExp","separator","updateQueryStringParameter","closeSelf","popPage","popToPage","popToRootPage","historyLen","popBack","Phone","phoneNum","Response","Request","send","xhr","XMLHttpRequest","getData","param","open","setRequestHeader","withCredentials","header","ontimeout","response","status","request","onerror","responseType","responseXML","responseText","statusText","error","code","arr","getAllResponseHeaders","headerMap","line","parts","WebSocket","Storage","localStorage","storageKeys","storageAll","Timer","setInterval","intervalTimer","clearInterval","timeoutTimer","SwitchEvent","Button","_beforePressedStyle","reduce","pre","curr","innerText","_beforeDisabledStyle","_disabled","_pressedStyle","Carousel","onPageChange","onItemClick","onItemView","extendStatics","d","setPrototypeOf","__proto__","p","__extends","__","__assign","s","n","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","f","g","_","label","sent","trys","ops","verb","throw","return","Symbol","op","pop","__spreadArrays","il","r","k","j","jl","propertiesConfig$7","sourceKey","assert","condition","inBrowser","ua","isWeChatDevTools","isAndroid","isIOSBadVersion","matches","exec","supportsPassive","opts","defineProperty","getNow","performance","timing","navigationStart","isUndef","between","min","max","findIndex","ary","some","ret","elementStyle","vendor","_i","transformNames_1","prefixStyle","charAt","substr","getElement","el","querySelector","addEvent","capture","useCapture","passive","removeEvent","offsetLeft","offsetTop","offsetParent","cssVendor","transform","transition","hasPerspective","hasTouch","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","transitionProperty","eventTypeMap","SVGElement","rect","preventDefaultExceptionFn","exceptions","tagExceptionFn","click","eventSource","posSrc","screenX","screenY","pressedKeysMap","ctrlKey","shiftKey","altKey","metaKey","MouseEvent","bubbles","forwardedTouchEvent","_constructed","hasClass","ease","swipe","swipeBounce","bounce","windowCompat","noop$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","noop","sharedPropertyDefinition","enumerable","configurable","EventEmitter","names","eventTypes","registerType","hasType","once","_this","magic","trigger","len","eventsCopy","event_1","EventRegister","wrapper","addDOMEvents","removeDOMEvents","handleDOMEvents","eventOperation","handleEvent","OptionsConstructor","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","dblclick","bottom","right","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefaultException","tagException","HWCompositing","useTransition","bindToWrapper","bindToTarget","disableMouse","disableTouch","autoBlur","autoEndDistance","outOfBoundaryDampingFactor","specifiedIndexAsContent","quadrant","resolveBounce","translateZ","bounceOptions","DEFAULT_BOUNCE","ActionsHandler","hooks","_a","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","move","wrapperEventRegister","targetEventRegister","beforeHandler","setInitiated","initiated","_eventType","beforeStart","point","pointX","pageX","pointY","pageY","scrollLeft","documentElement","pageXOffset","scrollTop","pageYOffset","clientWidth","clientHeight","setContent","content","rebindDOMEvents","translaterMetaData","Translater","getComputedPosition","matrix","translate","transformFnName","transformFnArgUnit","transformFnArg","beforeTranslate","Base","translater","timer","endPoint","setPending","pending","setForceStopped","forceStopped","setCallStop","called","callStopWhenPending","clearTimer","Transition","startProbe","startPoint","prePos","probe","pos","currentPos","computeDirection","endValue","startValue","delta","directionX","directionY","isValidPostion","transitionTime","timeFunction","easingFn","isRealtimeProbeType","_reflow","doStop","forceStop","callStop","Animation","startTime","destTime","newPoint","_b","_c","_d","Behavior","refresh","dist","setMovingDirection","setDirection","hasScroll","performDampingAlgorithm","movingDirection","dampingFactor","newPos","minScrollPos","maxScrollPos","bounces","momentumInfo","absDist","startPos","wrapperSize","destination","current","lowerMargin","upperMargin","speed","momentumData","rate","updateDirection","absStartPos","isWrapperStatic","wrapperRect","contentRect","contentSize","relativeOffset","computeBoundary","resetState","resetStartPos","beforeComputeBoundary","boundary","scrollable","updatePosition","getCurrentPos","checkInBoundary","adjustPosition","inBoundary","ignoreHasScroll","updateStartPos","updateAbsStartPos","getAbsDist","PassthroughHandlers","DirectionMap","DirectionLockAction","directionLocked","checkMovingDirection","absDistX","absDistY","computeDirectionLock","handleEventPassthrough","adjustDelta","handleMap","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","directionLockAction","bindActionsHandler","handleStart","applyQuadrantTransformation","transformateDeltaData","coordinateTransformation","handleMove","handleEnd","handleClick","fingerMoved","contentMoved","beforeMove","checkMomentum","prevX","newX","prevY","newY","detectMovingDirection","positionChanged","contentNotMoved","scrollStart","dispatchScroll","endTime","beforeEnd","ensureIntegerPos","scrollEnd","ensuringInteger","minScrollPosX","maxScrollPosX","minScrollPosY","maxScrollPosY","ceil","floor","createBehaviorOptions","bsOptions","extraProp","prev","cur","bubbling","sourceEvent","targetEvent","Scroller","resizeTimeout","animaterOptions","createAnimater","resizeHandler","resizeRegister","registerTransitionEnd","bindTranslater","bindAnimater","bindActions","togglePointerEvents","transitionEndRegister","prevPos","updatePositions","resetPosition","beforeScrollStart","touchEnd","scrollCancel","checkClick","checkFlick","flick","meta","swiper","momentumX","momentumY","scrollTo","_dblclick","dblclickTrigged","lastClickTime","eventName","isBScrollContainer","contentChanged","beforeRefresh","wrapperOffset","scrollBy","extraTransform","keys_1","isSamePoint","minDistanceScroll","scrollToElement","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","reflow","disable","BScrollConstructor","plugins","valid","ctor","pluginName","plugin","pluginsMap","applyOrder","scroller","eventBubbling","handleAutoBlur","proxy","applyPlugins","refreshWithoutReset","beforeInitialScrollTo","applyOrderMap","activeElement","propertiesConfig","lastKey","getProperty","temp","setProperty","propertiesProxy","eventRegister","createBScroll","BScroll","MouseWheel","wheelEndTimer","wheelMoveTimer","wheelStart","handleBScroll","handleOptions","handleHooks","registerEvent","userOptions","mouseWheel","mouseWheelOpt","invert","easeTime","discreteTime","throttleTime","hooksFn","registerHooks","wheelHandler","wheelStartHandler","getWheelDelta","wheelMoveHandler","wheelEndDetector","cleanCache","alterOptions","mousewheelStart","deltaCache","cachedDelta","mousewheelMove","getEaseTime","mousewheelEnd","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","hasVerticalScroll","hasHorizontalScroll","hooksName","handlerFn","ObserveDOM","stopObserver","handleMutationObserver","MutationObserver","observer","mutationObserverHandler","startObserve","checkDOMUpdate","stopObserve","shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","attributes","childList","subtree","outsideBoundaries","oldWidth","oldHeight","newWidth","newHeight","check","disconnect","propertiesConfig$6","sourcePrefix$6","PullDown","pulling","thresholdBoundary","setPulling","setThresholdBoundary","pullDownRefresh","watch","currentMinScrollY","cachedOriginanMinScrollY","finishPullDown","hasMouseWheelPlugin","mouseWheelOptions","watching","checkPullDown","resetStateBeforeScrollStart","checkLocationOfThresholdBoundary","isFetchingStatus","scroll_1","enteredThresholdBoundary","locateInsideThresholdBoundary","leftThresholdBoundary","unwatch","modifyBehaviorYBoundary","stopDistance","openPullDown","config","closePullDown","autoPullDownRefresh","propertiesConfig$5","sourcePrefix$5","PullUp","pullUpLoad","finishPullUp","checkPullUp","movingDirectionY","maxScrollY","openPullUp","closePullUp","autoPullUpLoad","outOfBoundaryPos","EventHandler","indicator","registerEvents","startEvents","moveEvents","endEvents","startEventRegister","indicatorEl","moveEventRegister","endEventRegister","BScrollIsDisabled","lastPoint","keysMap","touchStart","pointPos","touchMove","Indicator$1","Indicator","getKeysMap","handleFade","fade","interactive","scrollbarTrackClickable","scrollHooks","translaterHooks","animaterHooks","hasScrollKey","eventHandler","eventHandlerHooks","startHandler","moveHandler","endHandler","bindClick","clickEventRegister","calculateclickOffsetPos","scrollbarTrackOffsetTime","poinKey","domRectKey","domRect","scrollbarTrackOffsetType","clickPointOffset","scrollToWhere","scrollInfo","baseSize","scrollerSize","translateProperty","visible","fadeInTime","fadeOutTime","canScroll","wrapperSizeKey","scrollerSizeKey","maxScrollPosKey","refreshScrollInfo","indicatorElSize","minSize","isCustom","maxIndicatorScrollPos","sizeRatio","caculatePosAndSize","refreshStyle","posKey","translatePropertyKey","sizeKey","moved","indicatorNotMoved","syncBScroll","minScrollY","maxScrollX","minScrollX","ScrollBar","createIndicators","indicators","scrollbar","customElements","indicatorOptions","scrollDirectionConfigKeys","indicatorDirections","customScrollbarEls","customElement","scrollbarWrapper","createScrollbarElement","scrollbarWrapperEl","scrollbarIndicatorEl","cssText","PagesMatrix","wrapperWidth","wrapperHeight","scrollerHeight","scrollerWidth","pages","buildPagesMatrix","pageLengthOfX","pageLengthOfY","getPageStats","getNearestPageIndex","l","cx","cy","stepX","stepY","BASE_PAGE","SlidePages","slideOptions","slideX","slideY","currentPage","pagesMatrix","checkSlideLoop","getAdjustedCurrentPage","loopX","loopY","setCurrentPage","newPage","getInternalPage","getInitialPage","showFirstPage","firstInitialised","startPageXIndex","startPageYIndex","firstPageX","firstPageY","getExposedPage","exposedPage","fixedPage","getExposedPageByPageIndex","pageIndexX","pageIndexY","getWillChangedPage","realPageLen","pageIndex","unshift","getValidPageIndex","lastX","lastY","firstX","firstY","nextPageIndex","getPageIndexByDirection","prevPageIndex","getNearestPage","getPageByDirection","resetLoopPage","wannaLoop","loop","propertiesConfig$4","sourcePrefix$4","Slide","cachedClonedPageDOM","resetLooping","autoplayTimer","satisfyInitialization","willChangeToPage","createPages","slide","defaultOptions","listenFlick","autoplay","handleLoop","prevSlideContent","slideContent","currentSlidePagesLength","resetLoopChangedStatus","removeClonedSlidePage","cloneFirstAndLastSlidePage","initialised","moreToOnePageInLoop","oneToMorePagesInLoop","scrollerHooks","prevContent","pausePlay","modifyCurrentPage","startPlay","refreshHandler","setSlideInlineStyle","modifyScrollMetaHandler","scrollHandler","flickHandler","slideWrapper","scrollOptions","sizeType","styleType","length_1","goTo","goToPage","getCurrentPage","nearestPage","satisfyThreshold","satisfied","thresholdX","thresholdY","computeThreshold","initPage","firstChild","preprendDOM","cloneNode","appendDOM","before","prevExposedPageX","prevExposedPageY","currentExposedPageX","currentExposedPageY","pageWillChangeTo","slidePageChanged","changePage","scrollEasing","currentPosX","startPosX","currentPosY","startPosY","scrollMeta","changeToPage","slideWillChange","propertiesConfig$3","sourcePrefix$3","CONSTANTS","Wheel","refreshBoundary","setSelectedIndex","selectedIndex","wheel","wheelWrapperClass","wheelItemClass","rotate","adjustTime","wheelDisabledItemClass","findNearestValidWheel","isAdjustingPosition","items","rotateX","wheelTo","itemHeight","checkWheelAllDisabled","validWheel","prevSelectedIndex","getSelectedIndex","restorePosition","SafeDeg","toFixed","currentIndex","cacheIndex","wheelDisabledItemClassName","wheelItemsAllDisabled","propertiesConfig$2","sourcePrefix$2","Zoom","prevScale","tryInitialZoomTo","zoomOpt","zoomTo","resolveOrigin","origin","originX","originY","baseScale","_doZoomTo","zoom","initialOrigin","minimalZoomDistance","setTransformOrigin","numberOfFingers","fingersOperation","zoomStart","zoomEnd","resetBoundaries","amounts","useCurrentPos","fromScale","toScale","timer_1","startTime_1","endTime_1","scheduler_1","zooming","currentScale","_zoomTo","ratio","setScale","getNewPos","resolveFormula","firstFinger","secondFinger","startDistance","getFingerDistance","startScale","beforeZoomStart","currentDistance","zoomed","endScale","dampingScale","shouldRebound","pow","scrollBehaviorPairs","behavior","lastScale","shouldInBoundary","BScrollFamily","ancestors","descendants","hooksManager","analyzed","selfScroll","hasAncestors","bscrollFamily","hasDescendants","addAncestor","addDescendant","removeAncestor","removeDescendant","hook","setAnalyzed","flag","purge","propertiesConfig$1","sourcePrefix$1","enableScrollHander","scrolls","disableScrollHander","currentScroll","calculateDistance","childNode","NestedScroll","groupId","instance","instancesMap","getAllNestedScrolls","purgeAllNestedScrolls","ns","purgeNestedScroll","nestedScroll","groupIdType","addBScroll","buildBScrollGraph","analyzeBScrollGraph","ensureEventInvokeSequence","deleteScroll","bf1","bf2","wrapper1","wrapper2","contains","ancestorScrolls","descendantScrolls","resetPositionHandler","syncTouchstartData","selfActionsHooks","movingDirectionX","parentScroll","otherAncestorScrolls","isTopScroll","IndexCalculator","tombstoneHeight","lastDirection","lastPos","calculate","calculateIndex","tombstone","ListItem","dom","DataManager","fetchFn","onFetchFinish","loadedNum","fetching","hasMore","addEmptyData","checkToFetch","fetch","newData","currentEnd","getList","Tombstone","cached","initialed","getSize","isTombstone","getOne","tombstoneStyle","recycle","tombstones","tombstones_1","recycleOne","DomManager","renderFn","unusedDom","timers","collectUnusedDom","createDom","cacheHeight","positionDom","startDelta","endPos","tombstoneEles","getStartPos","timerId","i_1","originPos","removeTombstone","querySelectorAll","InfinityScroll","createTombstoneFn","createTombstone","indexCalculator","domManager","dataManager","modifyBoundary","infinityOptions","infinity","updateDom","sourcePrefix","Movable","putAt","resolvePostion","ObserveImage","refreshTimer","observeImage","bindEventsToWrapper","debounceTime","imageLoadEventRegister","load","imageErrorEventRegister","handleBubbleAndCancelable","handleDOM","handleInteractive","relationElement","relationElementHandleElementIndex","ratioConfig","maxBScrollX","maxBScrollY","ratioX","ratioY","indicatorWidth","indicatorHeight","translateXSign","translateYSign","lastPointX","lastPointY","getBScrollPosByRatio","currentX","currentY","BScrollMinScrollX","BScrollMaxScrollX","BScrollMinScrollY","BScrollMaxScrollY","newPosX","newPosY","xNotMoved","yNotMoved","BScrollPos","newIndicatorPos","getIndicatorPosByRatio","applyTransformProperty","transformProperties","roundX","roundY","Indicators","UserIndicatorsOptions","UserIndicatorsOptions_1","HorizontalScroller","bscroll","showScrollBar","_showScrollBar","_bounces","refreshListView","registerBsScrollEvent","oldOffsetY","oldOffsetX","SCROLL","SCROLL_UP","scrollToTop","scrollToBottom","setOnScrollToTopListener","setOnScrollToBottomListener","updateContentSize","INPUT_SIZE_STYLE","maxLength","includes","changePlaceholder","fontSize","placeholderColor","caretColor","_randomPlaceholderClass","_placeholderCssIndex","styleSheets","insertRule","cssRules","focused","placeholder","List","recyclerView","rowCount","scrollDirection","marginLeft","marginTop","refreshView","computeElement","refreshGridView","refreshWaterfallView","scrollToPosition","_listRows","row","column","_gridRows","_waterfalls","stopPullRefresh","isMoreData","loadMoreView","onRefresh","stopLoadMore","onLoadMore","from","onRegister","cell","onUpdate","lineSpacing","bscrollInit","col","itemSpacing","cols","getElementsByClassName","parentOffsetTop","parentElement","parentOffsetLeft","colsArr","posArr","minIndex","pullflag","characterData","Switch","checked","switchBtn","borderColor","backgroundColor","circle","bindEvents","addChangeEvent","changeCbk","onColor","circleWidth","offColor","Text","verticalAlign","lineHeight","overflow","richText","parseRichText","formattedText","image","alt","imageAlign","imageWidth","imageHeight","hrefColor","fontFamily","fontWeight","textDecoration","href","TextArea","rows","swiperModule","isObject$1","extend$1","ssrDocument","nodeName","setAttribute","createElementNS","importNode","hash","hostname","protocol","getDocument","ssrWindow","replaceState","back","getPropertyValue","matchMedia","getWindow","win","makeReactive","proto","Dom7","arrayFlat","res","arrayFilter","arrayUnique","qsa","selector","$","html","toCreate","tempParent","nodeType","addClass","classes","classNames","c","removeClass","toggleClass","toggle","attr","attrs","getAttribute","attrName","removeAttr","removeAttribute","transition$1","targetSelector","handleLiveEvent","dom7EventData","is","parents","dom7LiveListeners","proxyListener","dom7Listeners","dom7proxy","evt","dataIndex","transitionEnd$1","fireCallBack","outerWidth","includeMargins","styles","outerHeight","box","clientTop","clientLeft","css","textContent","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","append","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","previousElementSibling","prevAll","prevEls","closest","foundElements","found","Methods","deleteProps","object","nextTick","getComputedStyle$1","currentStyle","getTranslate","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","isObject","o","isNode","HTMLElement","to","noExtend","nextSource","keysArray","nextIndex","desc","getOwnPropertyDescriptor","__swiper__","setCSSProperty","varName","varValue","animateCSSModeScroll","targetPosition","side","startPosition","params","wrapperEl","scrollSnapType","cssModeFrameID","dir","isOutOfBound","getTime","progress","easeProgress","cos","currentPosition","support","deviceCached","browser","calcSupport","smoothScroll","DocumentTouch","passiveListener","gestures","getSupport","calcDevice","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","os","getDevice","overrides","calcBrowser","isSafari","isWebView","getBrowser","Resize","destroyed","initialized","createObserver","entries","contentBoxSize","inlineSize","blockSize","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","WebkitMutationObserver","observerUpdate","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","methodName","writable","eventsEmitter","priority","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","updateSize","isHorizontal","isVertical","Number","isNaN","updateSlides","getDirectionLabel","marginRight","getDirectionPropertyValue","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginBottom","centeredSlides","cssMode","gridEnabled","grid","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","swiperSlideSize","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","activeIndex","swiperSlideOffset","updateSlidesProgress","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","z","newProgress","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","onTranslateToWrapperTransitionEnd","transitionEmit","transitionStart","slideTo","initial","indexAsNumber","isFinite","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","slidePrev","normalize","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","slideReset","slideToClosest","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","diff","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","cursor","unsetGrabCursor","closestElement","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","originalEvent","$targetEl","isTouchEvent","isTouched","isMoved","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","targetTouch","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","stopIndex","groupSize","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","passiveListeners","cancel","updateOnWindowResize","attachEvents","detachEvents","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","containerModifierClass","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","innerHeight","points","minRatio","prepareClasses","resultClasses","addClasses","suffixes","autoheight","centered","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","onReady","complete","preloadImages","imagesLoaded","imagesToLoad","updateOnImagesReady","currentSrc","wasLocked","lastSlideIndex","lastSlideRightEdge","createElements","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","images","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","swiperParams","passedParams","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","static","newDefaults","m","installModule","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","addSlidesBefore","addSlidesAfter","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","handle","kc","keyCode","charCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","HORIZONTAL_AXIS","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","raw","releaseScroll","rtlFactor","positions","sign","ignoreWheelEvents","sticky","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","createElementIfNotDefined","checkProps","Navigation","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","lastIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragStartPos","dragSize","trackSize","divider","dragTimeout","$dragEl","newSize","getPointerPosition","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","parallax","setTransform","currentOpacity","parallaxEl","$parallaxEl","parallaxDuration","_swiper","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchX","touchY","translateX","translateY","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","controller","spline","_t","controlled","control","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","getRandomNumber","randomChar","random","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","$containerEl","History","root","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","lastMoveEvent","velocityEvent","minimumVelocity","momentumVelocityRatio","momentumRatio","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","momentumBounceRatio","needsLoopFix","momentumBounce","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","overwriteParamsResult","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","slideShadows","shadow","shadowOffset","shadowScale","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowBefore","shadowAfter","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","zIndex","EffectCoverflow","coverflowEffect","stretch","depth","modifier","offsetMultiplier","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","margin","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prototypeGroup","protoMethod","factory","global","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","addListener","removeListener","removeAllListeners","performanceNow","mozNow","msNow","oNow","webkitNow","argv","version","versions","binding","cwd","chdir","umask","hrtime","previousTimestamp","clocktime","seconds","nanoseconds","release","uptime","_Group","_tweens","_tweensAddedDuringUpdate","tweenId","tween","getId","preserve","tweenIds","TWEEN","_isPlaying","Group","_nextId","nextId","Tween","group","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","stopChainedTweens","Infinity","numChainedTweens","times","repeatDelay","yoyo","easingFunction","interpolation","interpolationFunction","chain","onStart","onRepeat","onComplete","onStop","elapsed","tmp","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce","Utils","Bezier","pw","bn","Bernstein","CatmullRom","p0","fc","Factorial","p3","v0","v1","t2","TweenModule","ViewPager","loopInterval","autoPlay","_data","Reflect","edgeSpacing","initSuccess","scaleFactor","transitionFlag","canLoop","alphaFactor","slideChange","slidePrevTransitionStart","slideNextTransitionStart","dataset","swiperSlideIndex","activeProgress","endProgress","sliderMove","onPageScroll","onPageScrollStateChange","setCurrentItem","CanvasView","resolution","ctx","getContext","lineWidth","widthValue","lineCap","lineJoin","lineColor","colorHex","strokeStyle","drawLine","fromX","fromY","toX","toY","beginPath","moveTo","lineTo","stroke","strokeRect","w","h","strokeEllipse","trailX","trailY","centerX","centerY","radiusX","radiusY","ellipse","strokeCircle","radius","arc","closePath","startAngle","endAngle","clockwise","fillColor","fillStyle","fillRect","fillEllipse","fillCircle","font","textColor","textFillStyle","fillText","maxWidth","textBaseline","drawImage","img"],"mappings":"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"}