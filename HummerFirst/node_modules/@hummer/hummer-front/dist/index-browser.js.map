{"version":3,"file":"index-browser.js","sources":["../src/base/Environment.ts","../src/component/NotifyCenter.ts","../src/common/utils.ts","../src/base/Global.ts","../src/component/BasicAnimation.ts","../node_modules/hammerjs/hammer.js","../src/component/event/InputEvent.ts","../src/component/event/PanEvent.ts","../src/component/event/PinchEvent.ts","../src/component/event/SwipeEvent.ts","../src/component/event/TapEvent.ts","../src/component/event/TouchEvent.ts","../src/component/event/LongPressEvent.ts","../src/component/event/ScrollEvent.ts","../src/component/event/Event.ts","../src/component/KeyframeAnimation.ts","../src/common/style/transformer/unit.ts","../src/common/cases.ts","../src/common/style/index.ts","../src/component/view/View.ts","../src/component/view/Image.ts","../src/component/Interaction.ts","../src/component/Location.ts","../src/component/Memory.ts","../src/component/Navigator.ts","../src/component/Phone.ts","../src/component/Response.ts","../src/component/Request.ts","../src/component/Socket.ts","../src/component/Storage.ts","../src/component/event/SwitchEvent.ts","../node_modules/better-scroll/dist/better-scroll.esm.js","../src/component/view/Input.ts","../src/common/swiper.js","../node_modules/rollup-plugin-node-globals/src/global.js","../node_modules/process-es6/browser.js","../node_modules/@tweenjs/tween.js/src/Tween.js","../src/component/view/Button.ts","../src/component/view/Canvas.ts","../src/component/view/Carousel.ts","../src/component/view/HorizontalScroller.ts","../src/component/ImagePicker.ts","../src/component/view/List.ts","../src/component/view/Scroller.ts","../src/component/view/Switch.ts","../src/component/view/Text.ts","../src/component/view/TextArea.ts","../src/component/Timer.ts","../src/component/view/ViewPager.ts"],"sourcesContent":["export class Environment {\n  appName: string\n  safeAreaBottom: number\n  appVersion: string\n  deviceHeight: string\n  deviceWidth: string\n  availableHeight: string\n  statusBarHeight: number\n  availableWidth: string\n  osVersion: string\n  platform: string\n  scale: number\n  remUEWidthInPixel: number\n  remUEWidthInPixelRatio: number\n  model: string\n  extraParams: {\n    [key: string]: string\n  }\n\n  constructor() {\n    this.appName = ''\n    this.safeAreaBottom = 0\n    this.appVersion = ''\n    this.deviceHeight = ((self != top)?document.body.offsetHeight:window.screen.height) + 'dp'\n    this.deviceWidth = ((self != top)?document.body.offsetWidth:window.screen.width) + 'dp'\n    this.availableHeight = ((self != top)?document.body.offsetHeight:window.screen.availHeight) + 'dp'\n    this.availableWidth = ((self != top)?document.body.offsetHeight:window.screen.availWidth) + 'dp'\n    this.statusBarHeight = 0\n    this.osVersion = ''\n    this.platform = 'web'\n    this.scale = window.devicePixelRatio\n    this.remUEWidthInPixel = 750\n    this.remUEWidthInPixelRatio = 2\n    this.model = ''\n    this.extraParams = {\n      system: 'iOS',\n      brand: 'apple'\n    }\n  }\n}\n","export interface NotifyListener {\n  (target: any): void\n}\n\nexport class NotifyCenter {\n  private listeners: { [key: string]: Array<NotifyListener> } = {}\n\n  addEventListener(key: string, listener: NotifyListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    this.listeners[key].push(listener)\n  }\n\n  removeEventListener(key: string, listener: NotifyListener) {\n    if (this.listeners[key]) {\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n    }\n  }\n\n  triggerEvent(key: string, args: any) {\n    if (this.listeners[key]) {\n      this.listeners[key].forEach(listener => {\n        listener({ target: args })\n      })\n    }\n  }\n}\n","import { toKebabCase } from './cases'\nimport { Hummer } from '../base/Global'\n/**\n * TODO Format Unit 实现\n * @param size \n * @returns \n */\nexport function formatUnit(size: number | string) {\n  let reg = /^[+-]?(\\d|[1-9]\\d+)(\\.\\d+)?$/;\n  size = size + ''\n  if (reg.test(size)) {\n    size = parseFloat(size);\n    return `${size}px`\n  } else {\n    if (size.indexOf('dp') !== -1 || size.indexOf('pt') !== -1) {\n      size = parseFloat(size);\n      return `${size}px`\n    } else if (size.indexOf('rem') !== -1) {\n      return `${parseFloat(size) * 100}rem`\n    } else if (size.indexOf('hm') !== -1) {\n      return size.replace('hm', 'rem')\n    } else if (size.indexOf('calc') !== -1) {\n      return size\n    } else if (size.indexOf('px') !== -1) {\n      size = parseFloat(size) / Hummer.env.scale;\n      return `${size}px`\n    } else {\n      if (size.match(/rotate3d|rotateX|rotateY|rotateZ|rotate/g)) {\n        size = size.replace(/(rotate3d|rotateX|rotateY|rotateZ|rotate)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/rotate3d\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split(',')[0]},${word.split(',')[1]},${word.split(',')[2]},${parseFloat(word.split(',')[3])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      if (size.match(/skewY|skewX|skew/g)) {\n        size = size.replace(/(skewY|skewX|skew)\\(([\\d\\D]*?)\\)/g, function (word) {\n          if (/skew\\(([\\d\\D]*?)\\)/.test(word)) {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1].split(',')[0])}deg,${parseFloat(word.split('(')[1].split(',')[1])}deg)`\n          } else {\n            return `${word.split('(')[0]}(${parseFloat(word.split('(')[1])}deg)`\n          }\n        })\n      }\n      return size\n    }\n  }\n}\n/**\n * tenon样式格式化纯数字px单位\n * @param size \n * @returns \n */\nexport function formatPureNumberPxUnit(size: number | string): number {\n  let formatUnitResult = formatUnit(size)\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe()?document.body.offsetWidth:window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  }\n}\n\n/**\n * web样式格式化纯数字px单位\n * @param size \n * @returns \n */\n export function formatWebPureNumberPxUnit(size: string): number {\n  let formatUnitResult = size || '0'\n  if (formatUnitResult.indexOf('rem') !== -1) {\n    return (parseFloat(formatUnitResult) / 750 * (inIframe()?document.body.offsetWidth:window.screen.width));\n  } else if (formatUnitResult.indexOf('px') !== -1) {\n    return parseFloat(formatUnitResult.replace('px', ''))\n  } else {\n    return parseFloat(formatUnitResult)\n  }\n}\n\n\n/**\n * 将字符串转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的字符串 a,b\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMap(str: string, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  const list: Array<string> = str.split(',')\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArr(list: any, expectedLowerCase: Boolean = false) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val: any) => !!map[val.toLowerCase()] : (val: any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n * @returns \n */\nexport function makeMapByArrOfKebab(list: any) {\n  const map = Object.create(null)\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true\n  }\n  return (val: any) => !!map[toKebabCase(val)]\n}\n\n/**\n * 监听元素尺寸变化，用于判断元素渲染\n * @param node dom元素\n */\nexport const nodeObserver = (node: | HTMLElement\n  | HTMLImageElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | HTMLTextAreaElement\n  | HTMLSpanElement\n  | any, callback: Function) => {\n  const nodeObserver = new ResizeObserver(mutations => {\n    callback(mutations)\n  })\n  nodeObserver.observe(node)\n  return nodeObserver\n}\n\n/**\n * 获取url参数\n * @param key 参数的key\n */\nexport const getQueryVariable = (key: string, url?: string) => {\n  var query = url ? url.split('?')[1] : window.location.search.substring(1);\n  var vars = query.split(\"&\");\n  for (var i = 0; i < vars.length; i++) {\n    var pair = vars[i].split(\"=\");\n    if (pair[0] == key) { return pair[1]; }\n  }\n  return (false);\n}\n\n/**\n * 添加或者修改url参数\n * @param url 需要添加的url\n * @param key 参数的key\n * @param value 参数的value\n */\nexport const updateQueryStringParameter = (url: string, key: string, value: any) => {\n  if (!value) {\n    return url;\n  }\n  var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n  var separator = url.indexOf('?') !== -1 ? \"&\" : \"?\";\n  if (url.match(re)) {\n    return url.replace(re, '$1' + key + \"=\" + value + '$2');\n  }\n  else {\n    return url + separator + key + \"=\" + value;\n  }\n}\n/**\n * 判断当前页面是否在iframe里\n * @returns \n */\nexport const inIframe = () => {\n  if (self != top) {\n    return true;\n  } else {\n    return false;\n  }\n}\n/**\n * 节流\n * @param fn 需要节流的函数\n * @param wait 节流的时间\n */\nexport const throttle = (fn, wait) => {\n    var timeout;\n    return function() {\n      var ctx = this, args = arguments;\n      clearTimeout(timeout);\n      timeout = setTimeout(function() {\n        fn.apply(ctx, args);\n      }, wait);\n    };\n  }","import { Environment } from './Environment'\nimport { NotifyCenter } from '../component/NotifyCenter'\nimport { getQueryVariable } from '../common/utils'\n\nexport class HummerGlobal {\n  setTitle(setTitle: string): any { }\n  setNavigationBarMode(mode: number): any { }\n  setNavigationBarColor(color: string): any { }\n  setScrollTracker(view: any, options: any): any { }\n  arWidgetDisplay(isDisplay: boolean): any { }\n  notifyCenter: NotifyCenter\n  env: Environment\n  pageInfo: any\n  params: any\n  setBasicWidth(width: number): any { }\n\n  constructor() {\n    this.notifyCenter = new NotifyCenter()\n    this.env = new Environment()\n    getQueryVariable('pageInfo')\n    this.pageInfo = JSON.parse(decodeURIComponent(getQueryVariable('pageInfo') || '{}'))\n  }\n  render(page: any) {\n    window.addEventListener('load', () => {\n      const body = document.getElementsByTagName('body')[0]\n      body.appendChild(page.node)\n      const event = new CustomEvent('render-ready', {})\n      window.dispatchEvent(event)\n    })\n  }\n}\nglobalThis.Hummer = new HummerGlobal()\nexport const Hummer = new HummerGlobal()\n","/**\n * Animatable CSS properties\n * https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_animated_properties\n * https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions\n */\nexport type KeyPath =\n  | 'position'\n  | 'scale'\n  | 'scaleX'\n  | 'scaleY'\n  | 'rotationX'\n  | 'rotationY'\n  | 'rotationZ'\n  | 'opacity'\n  | 'backgroundColor'\n\nexport type EasingType =\n  | 'linear'\n  | 'ease'\n  | 'ease-in'\n  | 'ease-out'\n  | 'ease-in-out'\n\nexport interface PointValue {\n  x: string | number\n  y: string | number\n}\n\n/** backgroundColor: '#fff'; position: {x: '1px', y: '1px'}; scale: 1; rotate: 45; opacity: 0.1  */\nexport type ValueType = string | number | PointValue\n\nexport class BasicAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 动画延迟时间（s）\n  delay: number = 0\n  // 重复次数 < 0 :无数次\n  repeatCount: number = 1\n  value!: ValueType\n  easing: EasingType = 'linear'\n\n  onstart!: Function\n  onend!: Function\n  on(type: string, callback: Function) {\n    callback()\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum InputState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3\n}\n\nexport class InputEvent extends Event {\n  public text!: string\n  public state!: InputState\n\n  get type(): EventType {\n    return 'input'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PanState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PanEvent extends Event {\n  public state!: PanState\n  public translation!: { deltaX: number | string; deltaY: number | string }\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pan'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum PinchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class PinchEvent extends Event {\n  public state!: PinchState\n  public scale!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'pinch'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum SwipeState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class SwipeEvent extends Event {\n  public state!: SwipeState\n  public direction!: 1 | 2 | 4 | 8\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'swipe'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TapState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TapEvent extends Event {\n  public position!: { x: number | string; y: number | string }\n  public state!: TapState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'tap'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum TouchState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class TouchEvent extends Event {\n  public position!: { x: number; y: number }\n  public state!: TouchState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'touchDown'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum LongPressState {\n  NORMAL = 0,\n  BEGAN = 1,\n  CHANGED = 2,\n  ENDED = 3,\n  CANCELLED = 4\n}\n\nexport class LongPressEvent extends Event {\n  public state!: LongPressState\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'longPress'\n  }\n}\n","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport enum ScrollState {\n  NORMAL = 0,\n  BEGAN = 1,\n  SCROLL = 2,\n  ENDED = 3,\n  SCROLL_UP = 4\n}\n\nexport class ScrollEvent extends Event {\n  public state!: ScrollState\n  public offsetX!: number\n  public offsetY!: number\n  public dx!: number\n  public dy!: number\n  public timestamp!: string\n\n  get type(): EventType {\n    return 'scroll'\n  }\n}\n","import { EventType, View } from '../view/View'\n\nexport abstract class Event {\n  public target!: View\n\n  abstract get type(): EventType\n}\n\nexport interface EventListener {\n  (event?: Event): void\n}\n","import { KeyPath, ValueType, EasingType } from './BasicAnimation'\n\n/**\n * http://www.w3school.com.cn/css3/css3_animation.asp\n */\nexport class KeyframeAnimation {\n  // 动画时间间隔（s）\n  duration: number = 0\n  // 重复次数\n  repeatCount: number = 1\n  // 关键路径positions\n  keyframes: Array<{\n    percent?: number\n    value: ValueType\n    easing?: EasingType\n  }> = []\n  easing?: EasingType\n  onstart!: Function\n  onend!: Function\n  delay: number\n  on(type: string, callback: Function) {\n    callback()\n  }\n\n  removeAnimation!: Function\n\n  constructor(public path: KeyPath) {}\n}\n","/**\n * 单位处理中间件，将Css中的单位转换为Hummer中特有的单位\n * hm ==> px\n * @param style 待处理的Style\n */\nimport { makeMapByArrOfKebab,formatUnit } from \"../../utils\"\n\n// 待转换单位的属性列表\nexport const unitAttrs = [\n  'font-size', 'placeholder-font-size', 'transform',\n  'flex-basis',\n  'width', 'max-width', 'min-width', 'height', 'max-height', 'min-height','line-height',\n  'padding', 'padding-left', 'padding-right', 'padding-bottom', 'padding-top',\n  'margin', 'margin-left', 'margin-right', 'margin-bottom', 'margin-top',\n  'left', 'right', 'top', 'bottom',\n  'border-width', 'border-left-width', 'border-right-width', 'border-top-width', 'border-bottom-width',\n  'border-radius', 'border-top-left-radius', 'border-top-right-radius', 'border-bottom-left-radius', 'border-bottom-right-radius'\n]\nexport const isNeedUnitTrasform = makeMapByArrOfKebab(unitAttrs)\nexport function transformUnit(style: Record<string, string>) {\n  Object.keys(style).forEach(key => {\n    if (key === 'transitionDuration') {\n      style[key] = `${style[key]}s`\n    }\n    if (isNeedUnitTrasform(key)) {\n      let value = transformUnitValue(style[key])\n      style[key] = value\n    }\n  })\n  return style\n}\n\nexport function transformUnitValue(value: string): string {\n  return formatUnit(value)\n}\n\n","/**\n * Any Case => Lower Case\n * ex.\n * Border => border\n * @param key \n * @returns \n */\nexport function toLowerCase(key: string): string {\n  return key.toLowerCase()\n}\n\n\n/**\n * Any Case => Upper Case\n * ex.\n * border => BORDER\n * @param key \n * @returns \n */\nexport function toUpperCase(key: string): string {\n  return key.toUpperCase()\n}\n\n/**\n * Kebab Case ==> Camel Case\n * ex.\n * border-width => borderWidth\n * @param key string\n * @returns string\n */\nexport function toCamelKey(key: string): string {\n  let humpKey = key.replace(/-(\\w)/g, ($0, $1) => {\n    return $1.toUpperCase()\n  })\n  return humpKey\n}\n\n/**\n * Camel Case ==> Kebab Case\n * ex.\n * borderWidth => border-width\n * ps.\n * 首字母大写时，前缀不增加 - 符号\n * @param key string\n * @returns string\n */\nexport function toKebabCase(key: string): string {\n  return key.replace(/[A-Z]/g, ($0: string, offset: number) => {\n    return (offset === 0 ? '' : '-') + $0.toLowerCase()\n  })\n}","import {transformUnit} from './transformer/unit'\n\n/**\n * Style Transformer\n * 1. Unit\n * 2. Box shadow\n * 3. Background linear-gradient\n * 4. \n */\nclass StyleTransformer{\n\n  private middlewares: Array<Function> = []\n  constructor() {\n    this.registerMiddleware()\n  }\n\n  registerMiddleware() {\n    this.use(transformUnit)\n  }\n\n  use(middleware: Function) {\n    if(typeof middleware !== 'function'){\n      throw \"middleware must be a function\"\n    }\n    this.middlewares.push(middleware)\n    return this\n  }\n\n  transformStyle(style:any = {}, view?:any):Record<string, string>|null{\n    let tempStyle = style\n    this.middlewares.forEach(middleware => {\n      let result = middleware(tempStyle, view)\n      tempStyle = result? result: tempStyle\n    })\n    return tempStyle\n  }\n\n}\n\nexport const styleTransformer = new StyleTransformer()\n\nexport {transformUnitValue} from './transformer/unit'\nexport {getColor} from './common/color'","import Hammer from 'hammerjs'\nimport { EventListener } from '../event/Event'\nimport { InputEvent, InputState } from '../event/InputEvent'\nimport { PanEvent, PanState } from '../event/PanEvent'\nimport { PinchEvent, PinchState } from '../event/PinchEvent'\nimport { SwipeEvent, SwipeState } from '../event/SwipeEvent'\nimport { TapEvent, TapState } from '../event/TapEvent'\nimport { TouchEvent, TouchState } from '../event/TouchEvent'\nimport { LongPressEvent, LongPressState } from '../event/LongPressEvent'\nimport { ScrollEvent } from '../event/ScrollEvent'\nimport { BasicAnimation } from '../BasicAnimation'\nimport { KeyframeAnimation } from '../KeyframeAnimation'\nimport { formatUnit, getQueryVariable } from '../../common/utils'\nimport { isNeedUnitTrasform } from '../../common/style/transformer/unit'\nimport { styleTransformer } from '../../common/style'\nexport const SIZE_STYLE: Array<any> = [\n  'top',\n  'left',\n  'bottom',\n  'right',\n  'margin',\n  'marginTop',\n  'marginLeft',\n  'marginBottom',\n  'marginRight',\n  'padding',\n  'paddingTop',\n  'paddingLeft',\n  'paddingBottom',\n  'paddingRight',\n  'width',\n  'height',\n  'minWidth',\n  'minHeight',\n  'maxWidth',\n  'maxHeight',\n  'borderRadius',\n  'borderWidth'\n]\nexport interface ViewStyle {\n  top?: string | number\n  left?: string | number\n  bottom?: string | number\n  right?: string | number\n  margin?: string | number\n  marginTop?: string | number\n  marginLeft?: string | number\n  marginBottom?: string | number\n  marginRight?: string | number\n  padding?: string | number\n  paddingTop?: string | number\n  paddingLeft?: string | number\n  paddingBottom?: string | number\n  paddingRight?: string | number\n  width?: string | number\n  height?: string | number\n  minWidth?: string | number\n  minHeight?: string | number\n  maxWidth?: string | number\n  maxHeight?: string | number\n  flexDirection?: 'row' | 'column'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'space-evenly'\n  alignItems?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  alignContent?:\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'space-between'\n  | 'space-around'\n  | 'stretch'\n  order?: number\n  flexGrow?: number\n  flexShrink?: number\n  flexBasis?: string\n  alignSelf?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'\n  position?: 'relative' | 'absolute' | 'fixed' | 'sticky' | 'static' | 'inherit'\n  backgroundColor?: string\n  backgroundImage?: string\n  opacity?: number\n  visibility?: 'hidden' | 'visible'\n  display?: 'none' | 'flex' | 'block' | 'inline' | 'inline-block  '\n  borderColor?: string\n  borderLeftColor?: string\n  borderTopColor?: string\n  borderRightColor?: string\n  borderBottomColor?: string\n  borderStyle?: 'solid' | 'dashed' | 'dotted'\n  borderLeftStyle?: 'solid' | 'dashed' | 'dotted'\n  borderTopStyle?: 'solid' | 'dashed' | 'dotted'\n  borderRightStyle?: 'solid' | 'dashed' | 'dotted'\n  borderBottomStyle?: 'solid' | 'dashed' | 'dotted'\n  borderWidth?: string | number\n  borderLeftWidth?: string | number\n  borderTopWidth?: string | number\n  borderRightWidth?: string | number\n  borderBottomWidth?: string | number\n  borderRadius?: string | number\n  borderTopLeftRadius?: string | number\n  borderTopRightRadius?: string | number\n  borderBottomLeftRadius?: string | number\n  borderBottomRightRadius?: string | number\n  shadow?: string\n  overflow?: 'hidden' | 'visible'\n  zIndex?: number,\n  transform?: string,\n  transitionDelay?: string | number,\n  transitionProperty?: string,\n  transitionDuration?: string | number,\n  transitionTimingFunction?: 'linear' | 'ease-in' | 'ease-out' | 'ease-in-out'\n\n}\n\nexport type EventType =\n  | 'longPress'\n  | 'pan'\n  | 'pinch'\n  | 'swipe'\n  | 'tap'\n  | 'touch'\n  | 'touchDown'\n  | 'input'\n  | 'scroll'\n  | 'switch'\n\nexport class View {\n  // 公共属性\n  public node:\n    | HTMLElement\n    | HTMLImageElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | HTMLTextAreaElement\n    | HTMLSpanElement\n    | any\n\n  public hmNode?: any\n  public basicAnimationArray: Array<any> = []\n  // 子类可访问属性\n  protected _enabled: boolean // 是否响应交互\n  protected subViews: Set<View>\n  protected _style: ViewStyle\n  protected listeners: { [key: string]: Array<EventListener> }\n  protected eventListeners: {\n    [key: string]: { hammer?: any; listener?: Function;[key: string]: any }\n  }\n  protected animations: { [key: string]: Animation }\n  protected onCreate?: Function // 页面首次加载时触发\n  protected onAppear?: Function // 页面显示\n  protected onDisappear?: Function // 页面隐藏\n  protected onDestroy?: Function // 页面销毁\n  protected onBack?: Function // 页面返回\n  isHighlight?: Boolean\n\n  layout!: () => void\n\n  constructor(public viewID?: string) {\n    this.createNode()\n    this._enabled = true\n    this.subViews = new Set<View>()\n    this.listeners = {}\n    this.eventListeners = {}\n    this.animations = {}\n    this._style = new Proxy(\n      {},\n      {\n        get: (target, key) => {\n          return target[key] || this.node.style[key]\n        },\n        set: (target, key, value) => {\n          this.node.style[key] = value\n          return true\n        }\n      }\n    )\n    this.defaultStyle()\n    this.initialize()\n    window.addEventListener('render-ready', () => {\n      this.formatBasicAnimation()\n      this?.onCreate && this.onCreate()\n      this?.onAppear && this.onAppear()\n      if (this?.onAppear || this?.onDisappear) {\n        document.addEventListener(\"visibilitychange\", this.visibilityChange.bind(this));\n      }\n      if (this?.onBack) {\n        if (window.history && window.history.pushState) {\n          history.pushState(null, null, document.URL);\n          window.addEventListener('popstate', this.interceptBack.bind(this), false);\n        }\n      }\n      if (this?.onCreate && getQueryVariable('navBar') && this.node.parentNode.tagName === 'BODY') {\n        let navBar = new View\n        let navBarTitle = new View\n        let navBarBack = new View\n        navBar.node.className = 'hm-default-navbar'\n        navBarTitle.node.className = 'hm-default-nav-title'\n        navBarBack.node.className = 'hm-default-nav-back'\n        navBar.node.onclick = () => {\n          history.go(-1);\n        }\n        navBarTitle.node.innerHTML = window.location.pathname.split('/')[1]\n        if (document.referrer !== '') {\n          navBar.appendChild(navBarBack)\n        }\n        navBar.appendChild(navBarTitle)\n        this.node.childNodes[0].style.flex = 1\n        this.node.insertBefore(navBar.node, this.node.childNodes[0])\n      }\n    })\n  }\n  visibilityChange() {\n    if (document.visibilityState === 'visible') {\n      this.onAppear()\n    } else {\n      this.onDisappear()\n    }\n  }\n  interceptBack() {\n    console.log('123123');\n    let isIntercept = this?.onBack()\n    if (isIntercept) {\n      history.pushState(null, null, document.URL);\n    } else {\n      this._onDestoryed();\n      history.go(-1);\n    }\n  }\n  //   /**\n  //    * 页面首次加载时触发\n  //    */\n  //   onCreate() { }\n  //   /**\n  //   * 页面显示周期\n  //   */\n  //   onAppear() { }\n  //   /**\n  //    * 页面隐藏\n  //    */\n  //   onDisappear() { }\n  //   /**\n  //   * 页面销毁\n  //   */\n  //   onDestroy() { }\n  //   /**\n  //  * 页面返回\n  //  */\n  //   onBack() { }\n  private playBasicAnimation(animation) {\n    const {\n      keyframes,\n      options\n    } = this.getBasicAnimationKeyFrameAnimationOptions(animation)\n    const animate: Animation = this.node.animate(keyframes, options)\n    // this.animations[key] = animate\n    animation.onstart && animation.onstart()\n    animate.onfinish = () => {\n      this.basicAnimationArray.shift()\n      animation.onend && animation.onend()\n      if (this.basicAnimationArray.length >= 1) {\n        this.playBasicAnimation(this.basicAnimationArray[this.basicAnimationArray.length - 1])\n      }\n    }\n    animate.play()\n  }\n\n  private formatBasicAnimation() {\n    let newBasicAnimationArray: Array<Array<any>> = []\n    let numSize = -1\n    let oldKeyNum\n    this.basicAnimationArray.forEach(item => {\n      let keyNum = parseInt(Object.keys(item)[0].split('_')[Object.keys(item)[0].split('_').length - 2]);\n      if (oldKeyNum !== keyNum) {\n        numSize++\n      }\n      oldKeyNum = keyNum\n      !newBasicAnimationArray[numSize] && (newBasicAnimationArray[numSize] = [])\n      newBasicAnimationArray[numSize].push(item[Object.keys(item)[0]])\n    });\n    this.basicAnimationArray = newBasicAnimationArray\n    if (this.basicAnimationArray.length > 0) {\n      this.playBasicAnimation(this.basicAnimationArray[0])\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-view')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('view')\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      this.node.disabled = true\n    } else {\n      this.node.disabled = false\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    let standardStyle = styleTransformer.transformStyle(_style);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n\n  /**\n   * 初始化生命周期函数，目前在前端SDK上没用，兼容端的代码\n   */\n  initialize() { }\n\n  /**\n   * 销毁时机\n   */\n  finalize() { }\n\n  // Mounted 生命周期\n  // @ts-ignore\n  private _onMounted() {\n    this.onMounted();\n  }\n\n  protected onMounted() {\n\n  }\n  // @ts-ignore\n  private _onDestoryed() {\n    this.onDestoryed();\n    this?.onDestroy && this.onDestroy();\n    this?.onAppear && document.removeEventListener('visibilityChange', this.visibilityChange.bind(this))\n    this?.onBack && window.removeEventListener('popstate', this.visibilityChange.bind(this))\n  }\n\n  protected onDestoryed() { }\n\n  appendChild(subview: any) {\n    this.node.appendChild(subview.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  removeChild(subview: any) {\n    subview._onDestoryed();\n    this.node.removeChild(subview.node)\n    // this.subViews.delete(subview)\n  }\n\n  removeAll() {\n    this.node.innerHTML = ''\n    // this.subViews.clear()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n    // this.subViews.add(subview)\n  }\n\n  /**\n   * 用指定的节点替换当前节点的一个子节点，并返回被替换掉的节点\n   */\n  replaceChild(newSubview: View, oldSubview: View) {\n    this.node.replaceChild(newSubview.node, oldSubview.node)\n    // this.subViews.add(newSubview)\n    // this.subViews.delete(oldSubview)\n  }\n\n  getElementById(viewID: string): View {\n    for (let view of this.subViews) {\n      if (view.viewID === viewID) {\n        return view\n      }\n    }\n    // @ts-ignore\n    return null\n  }\n\n  addEventListener(key: EventType, listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册事件监听\n    if (!this.eventListeners[key]) {\n      if (key === 'longPress') {\n        const press = (e: any) => {\n          if (!this.enabled) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pressup = (e: any) => {\n          if (!this.enabled) return\n          const ev = new LongPressEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = LongPressState.ENDED\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.on('press', press)\n        hammer.on('pressup', pressup)\n        this.eventListeners[key] = { hammer, press, pressup }\n      } else if (key === 'pan') {\n        let oldDeltaX = 0, oldDeltaY = 0;\n        const panstart = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.BEGAN\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panmove = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CHANGED\n          ev.translation = { deltaX: e.srcEvent.clientX - oldDeltaX, deltaY: e.srcEvent.clientY - oldDeltaY }\n          oldDeltaX = e.srcEvent.clientX\n          oldDeltaY = e.srcEvent.clientY\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const panend = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.ENDED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pancancel = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PanEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PanState.CANCELLED\n          ev.translation = { deltaX: 0, deltaY: 0 }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pan').set({\n          direction: Hammer.DIRECTION_ALL,\n          threshold: 0.1\n        });\n        hammer.on('panstart', panstart)\n        hammer.on('panmove', panmove)\n        hammer.on('panend', panend)\n        hammer.on('pancancel', pancancel)\n        this.eventListeners[key] = {\n          hammer,\n          panstart,\n          panmove,\n          panend,\n          pancancel\n        }\n      } else if (key === 'pinch') {\n        const pinchstart = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.BEGAN\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchmove = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CHANGED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchend = (e: any) => {\n          if (!this.enabled) return\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.ENDED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const pinchcancel = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new PinchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = PinchState.CANCELLED\n          ev.scale = e.scale\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.get('pinch').set({ enable: true });\n        hammer.on('pinchstart', pinchstart)\n        hammer.on('pinchmove', pinchmove)\n        hammer.on('pinchend', pinchend)\n        hammer.on('pinchcancel', pinchcancel)\n        this.eventListeners[key] = {\n          hammer,\n          pinchstart,\n          pinchmove,\n          pinchend,\n          pinchcancel\n        }\n      } else if (key === 'swipe') {\n        const swipeleft = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 2\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swiperight = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 1\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipeup = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 4\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const swipedown = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new SwipeEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.state = SwipeState.BEGAN\n          ev.direction = 8\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const hammer = new Hammer(this.node)\n        hammer.on('swipeleft', swipeleft)\n        hammer.on('swiperight', swiperight)\n        hammer.on('swipeup', swipeup)\n        hammer.on('swipedown', swipedown)\n        this.eventListeners[key] = {\n          hammer,\n          swipeleft,\n          swiperight,\n          swipeup,\n          swipedown\n        }\n      } else if (key === 'tap') {\n        const tap = (event: any) => {\n          if (!this.enabled) return\n\n          const ev = new TapEvent()\n          ev.target = this\n          ev.position = {\n            x: event.center.x,\n            y: event.center.y\n          }\n          ev.timestamp = event.timeStamp\n          ev.state = TapState.BEGAN\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n\n        const hammer = new Hammer(this.node)\n        hammer.on(key, tap)\n        this.eventListeners[key] = { hammer, tap }\n      } else if (key === 'input') {\n        const input = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.CHANGED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const focus = (e: any) => {\n          if (!this.enabled) return\n\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.BEGAN\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        const blur = (e: any) => {\n          if (!this.enabled) return\n          const ev = new InputEvent()\n          ev.target = this\n          ev.state = InputState.ENDED\n          ev.text = e.target.value\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('input', input)\n        this.node.addEventListener('focus', focus)\n        this.node.addEventListener('blur', blur)\n        this.eventListeners[key] = { input, focus, blur }\n      } else if (key === 'scroll') {\n        const scroll = () => {\n          if (!this.enabled) return\n          const ev = new ScrollEvent()\n          ev.target = this\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener(key, scroll)\n        this.eventListeners[key] = { scroll }\n      } else if (key === 'touch') {\n        const touch = (e) => {\n          e.stopPropagation && e.stopPropagation();\n          e.preventDefault && e.preventDefault();\n          if (!this.enabled) return\n          const ev = new TouchEvent()\n          ev.target = this\n          ev.timestamp = e.timeStamp\n          ev.position = {\n            x: e.targetTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n            y: e.targetTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n          }\n          switch (e.type) {\n            case 'touchstart':\n              ev.state = TouchState.BEGAN\n              break;\n            case 'touchmove':\n              ev.state = TouchState.CHANGED\n              break;\n            case 'touchend':\n              ev.position = {\n                x: e.changedTouches[0]?.clientX - e.target?.getBoundingClientRect().left,\n                y: e.changedTouches[0]?.clientY - e.target?.getBoundingClientRect().top,\n              }\n              ev.state = TouchState.ENDED\n              break;\n            case 'touchcancel':\n              ev.state = TouchState.CANCELLED\n              break;\n          }\n          this.listeners[key].forEach(listener => listener(ev))\n        }\n        this.node.addEventListener('touchstart', touch, false)\n        this.node.addEventListener('touchmove', touch, false)\n        this.node.addEventListener('touchend', touch, false)\n        this.node.addEventListener('touchcancel', touch, false)\n        this.eventListeners[key] = { touch }\n      }\n    }\n  }\n\n  removeEventListener(key: EventType, listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (key === 'longPress') {\n          const { hammer, press, pressup } = this.eventListeners[key]\n          hammer.off('press', press)\n          hammer.off('pressup', pressup)\n        } else if (key === 'pan') {\n          const {\n            hammer,\n            panstart,\n            panmove,\n            panend,\n            pancancel\n          } = this.eventListeners[key]\n          hammer.off('panstart', panstart)\n          hammer.off('panmove', panmove)\n          hammer.off('panend', panend)\n          hammer.off('pancancel', pancancel)\n        } else if (key === 'pinch') {\n          const {\n            hammer,\n            pinchstart,\n            pinchmove,\n            pinchend,\n            pinchcancel\n          } = this.eventListeners[key]\n          hammer.off('pinchstart', pinchstart)\n          hammer.off('pinchmove', pinchmove)\n          hammer.off('pinchend', pinchend)\n          hammer.off('pinchcancel', pinchcancel)\n        } else if (key === 'swipe') {\n          const {\n            hammer,\n            swipeleft,\n            swiperight,\n            swipeup,\n            swipedown\n          } = this.eventListeners[key]\n          hammer.off('swipeleft', swipeleft)\n          hammer.off('swiperight', swiperight)\n          hammer.off('swipeup', swipeup)\n          hammer.off('swipedown', swipedown)\n        } else if (key === 'tap') {\n          const { hammer, tap } = this.eventListeners[key]\n          hammer.off('tap', tap)\n        } else if (key === 'input') {\n          const { input, focus, blur } = this.eventListeners[key]\n          this.node.removeEventListener('input', input)\n          this.node.removeEventListener('focus', focus)\n          this.node.removeEventListener('blur', blur)\n        } else if (key === 'scroll') {\n          const { scroll } = this.eventListeners[key]\n          this.node.removeEventListener('scroll', scroll)\n        } else if (key === 'touch') {\n          const { touch } = this.eventListeners[key]\n          this.node.removeEventListener('touchstart', touch, false)\n          this.node.removeEventListener('touchmove', touch, false)\n          this.node.removeEventListener('touchend', touch, false)\n          this.node.removeEventListener('touchcancel', touch, false)\n        }\n        this.eventListeners[key] = void 0\n      }\n    }\n  }\n\n  addAnimation(animation: BasicAnimation | KeyframeAnimation, key: string) {\n    if (animation instanceof BasicAnimation) {\n      let a = {}\n      a[`${key}`] = animation\n      this.basicAnimationArray.push(a);\n    } else if (animation instanceof KeyframeAnimation) {\n      // 帧动画\n      const { keyframes, options } = this.getKeyframeAnimationOptions(animation)\n      const animate: Animation = this.node.animate(keyframes, options)\n      this.animations[key] = animate\n      animation.onstart && animation.onstart()\n      animation.onend && (animate.oncancel = animation.onend as any)\n      animate.play()\n    }\n  }\n\n  // removeAllAnimation() {\n  //   for (let key in this.animations) {\n  //     const animate: Animation = this.animations[key]\n  //     animate.pause()\n  //     animate.finish()\n  //   }\n  //   this.animations = {}\n  // }\n\n  // removeAnimationForKey(key: string) {\n  //   const animate: Animation = this.animations[key]\n  //   if (animate) {\n  //     animate.pause()\n  //     animate.finish()\n  //     // @ts-ignore\n  //     this.animations[key] = null\n  //   }\n  // }\n\n  getRect(callback: Function) {\n    callback({})\n  }\n\n  dbg_highlight(isHighlight: Boolean) {\n    !!isHighlight ? this.node.classList.add('hm-high-light') : this.node.classList.remove('hm-high-light')\n  }\n\n  resetStyle() { }\n\n  requestViewWidth(callback: Function) { }\n\n  requestViewHeight(callback: Function) { }\n\n  // /**\n  //  * @deprecated\n  //  */\n  // private getTransitionProperties (ani: BasicAnimation) {\n  //   return {\n  //     [this.convertPath(ani.path)]: this.convertPathValue(ani.path, ani.value),\n  //     'transitionProperty': '*',\n  //     'transitionDuration': `${ani.duration}ms`,\n  //     'transitionTimingFunction': ani.easing,\n  //     'transitionDelay': ani.duration\n  //   }\n  // }\n\n  /**\n   * 获取属性动画的原始值(第一帧值)\n   */\n  private getBasicAnimationDefaultKeyframeAnimationOptions(\n    ani: Array<BasicAnimation>\n  ) {\n    let playKeyframes = {}\n    ani.forEach((item) => {\n      switch (item.path) {\n        case 'position':\n        case 'scale':\n        case 'scaleX':\n        case 'scaleY':\n        case 'rotationX':\n        case 'rotationY':\n        case 'rotationZ':\n          playKeyframes['transform'] = getComputedStyle(this.node)['transform']\n          break;\n        case 'opacity':\n          playKeyframes['opacity'] = getComputedStyle(this.node)['opacity']\n          break;\n        case 'backgroundColor':\n          playKeyframes['backgroundColor'] = getComputedStyle(this.node)['backgroundColor']\n          break;\n        default:\n          // @ts-ignore\n          playKeyframes[`${item.path}`] = getComputedStyle(this.node)[`${item.path}`]\n          break;\n      }\n    })\n    return playKeyframes\n  }\n\n  /**\n   * 获取属性动画的结果值(最后一帧值)\n   */\n  private getBasicAnimationKeyFrameAnimationOptions(ani: Array<BasicAnimation>) {\n    let keyframes, endKeyframes = {}\n    ani.forEach(item => {\n      if (this.convertPath(item.path) === 'transform') {\n        if (endKeyframes['transform']) {\n          endKeyframes['transform'] = `${this.convertPathValue(item.path, item.value)} ${endKeyframes['transform']}`\n        } else {\n          endKeyframes['transform'] = this.convertPathValue(item.path, item.value)\n        }\n      } else {\n        endKeyframes[`${this.convertPath(item.path)}`] = this.convertPathValue(item.path, item.value)\n      }\n      endKeyframes['easing'] = item.easing\n    })\n    keyframes = [this.getBasicAnimationDefaultKeyframeAnimationOptions(ani), endKeyframes];\n    return {\n      keyframes: keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani[0].easing,\n        delay: ani[0].delay || 0,\n        direction: 'normal',\n        duration: ani[0].duration * 1000,\n        iterations: ani[0].repeatCount < 0 ? 'Infinity' : (ani[0].repeatCount === 0 || ani[0].repeatCount === 1 ? 1 : ani[0].repeatCount)\n      }\n    }\n  }\n\n  private getKeyframeAnimationOptions(ani: KeyframeAnimation) {\n    const keyframes = ani.keyframes.map(item => ({\n      [this.convertPath(ani.path)]: this.convertPathValue(ani.path, item.value),\n      offset: item.percent,\n      easing: item.easing\n    }))\n    return {\n      keyframes,\n      options: {\n        fill: 'forwards',\n        easing: ani.easing,\n        delay: ani.delay || 0,\n        direction: 'normal',\n        duration: ani.duration * 1000,\n        iterations: ani.repeatCount < 0 ? 'Infinity' : (ani.repeatCount === 0 || ani.repeatCount === 1 ? 1 : ani.repeatCount)\n      }\n    }\n  }\n\n  private convertPath(path: string) {\n    switch (path) {\n      case 'position':\n      case 'rotationX':\n      case 'rotationY':\n      case 'rotationZ':\n      case 'scale':\n      case 'scaleX':\n      case 'scaleY':\n        return 'transform'\n      default:\n        return path\n    }\n  }\n\n  private convertPathValue(path: string, value: any) {\n    switch (path) {\n      case 'position':\n        return `translate(${formatUnit(value.x)},${formatUnit(value.y)})`\n      case 'rotationX':\n        return `rotate3d(1,0,0,${value}deg)`\n      case 'rotationY':\n        return `rotate3d(0,1,0,${value}deg)`\n      case 'rotationZ':\n        return `rotate3d(0,0,1,${value}deg)`\n      case 'scale':\n        return `scale3d(${value},${value},1)`\n      case 'scaleX':\n        return `scale3d(${value},1,1)`\n      case 'scaleY':\n        return `scale3d(1,${value},1)`\n      default:\n        if (isNeedUnitTrasform(path)) {\n          return formatUnit(value)\n        }\n        return value\n    }\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { formatUnit } from '../../common/utils'\n// TODO Image Component 对接\nexport interface ImageStyle extends ViewStyle {\n  // 图片拉伸模式\n  resize?: 'origin' | 'contain' | 'cover' | 'stretch'\n}\n\nexport class Image extends View {\n  protected _style: ImageStyle\n  protected _src!: string\n  protected _gifSrc!: string\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'resize':\n            // @ts-ignore\n            return target[key] || this.node.style.backgroundSize\n          default:\n            // @ts-ignore\n            return target[key] || this.node.style[key]\n        }\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'resize':\n            this.setImageResizeMode(value)\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  private setImageResizeMode(value: string) {\n    switch (value) {\n      case 'origin':\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'contain':\n        this.node.style.backgroundSize = 'contain'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'cover':\n        this.node.style.backgroundSize = 'cover'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n        break\n      case 'stretch':\n        this.node.style.backgroundSize = '100% 100%'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = '0 0'\n        break\n      default:\n        this.node.style.backgroundSize = 'initial'\n        this.node.style.backgroundRepeat = 'no-repeat'\n        this.node.style.backgroundPosition = 'center center'\n    }\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ImageStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n  get src() {\n    return this._src\n  }\n\n  set src(src) {\n    this._src = src\n    this.node.style.backgroundImage = `url(${src})`\n  }\n\n  get gifSrc() {\n    return this._gifSrc\n  }\n\n  set gifSrc(gifSrc) {\n    this._gifSrc = gifSrc\n    this.node.style.backgroundImage = `url(${gifSrc})`\n  }\n\n  get gifRepeatCount(): number {\n    return 0\n  }\n\n  set gifRepeatCount(gifRepeatCount: number) {}\n\n  set onload(onload: Function) {\n    this.node.onload = onload\n  }\n\n  get onload() {\n    return this.node.onload\n  }\n  \n}\n","import { View } from './view/View'\nimport { Image } from './view/Image'\nexport class Toast {\n  customView?: View\n  toastTimer?:any\n  constructor() {\n    this.customView = new View\n    this.customView.node.classList.add('hm-default-toast')\n    document.body.appendChild(this.customView.node)\n  }\n  show(msg: string, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = msg\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  custom(view: View, duration?: number) {\n    let that = this\n    that.customView.removeAll()\n    clearTimeout(that.toastTimer)\n    that.customView.node.innerHTML = view\n    that.customView.style.display = 'flex'\n    that.customView.style.opacity = 1\n    that.toastTimer = setTimeout(() => {\n      that.customView.node.addEventListener('transitionend',that.hide.bind(that))\n      that.customView.style.opacity = 0\n    }, duration || 2000)\n  }\n  private hide(){\n    this.customView.style.display = 'none'\n    this.customView.node.removeEventListener('transitionend',this.hide,false);\n  }\n}\n\nexport class Dialog {\n  cancelable?: boolean = true\n  customView?: View\n  alertView?: View\n  alertViewMsg?: View\n  alertViewBtn?: View\n  loadingView?: View\n  loadingViewIcon?: Image\n  loadingViewText?: View\n  confirmView?: View\n  confirmViewText?: View\n  confirmViewOkBtn?: View\n  confirmViewCancelBtn?: View\n  constructor() {\n    this.customView = new View\n\n    this.alertView = new View\n    this.alertViewMsg = new View\n    this.alertViewBtn = new View\n\n    this.loadingView = new View\n    this.loadingViewIcon = new Image\n    this.loadingViewText = new View\n\n    this.confirmView = new View\n    this.confirmViewText = new View\n    this.confirmViewOkBtn = new View\n    this.confirmViewCancelBtn = new View\n\n    this.customView.node.classList.add('hm-default-dialog')\n\n    this.alertView.node.classList.add('hm-default-alert-box')\n    this.alertViewMsg.node.classList.add('hm-default-alert-msg')\n    this.alertViewBtn.node.classList.add('hm-default-alert-btn')\n\n    this.loadingView.node.classList.add('hm-default-loading')\n    this.loadingViewIcon.node.classList.add('hm-default-loading-icon')\n    this.loadingViewIcon.src = 'https://pt-starimg.didistatic.com/static/starimg/img/MQnSutHeKH1637821723847.png'\n    this.loadingViewIcon.style.resize = 'cover'\n\n    this.confirmView.node.classList.add('hm-default-alert-box')\n    this.confirmViewText.node.classList.add('hm-default-confirm-view-text')\n    this.confirmViewOkBtn.node.classList.add('hm-default-confirm-view-okBtn')\n    this.confirmViewCancelBtn.node.classList.add('hm-default-confirm-view-cancelBtn')\n\n    document.body.appendChild(this.customView.node)\n    this.customView.node.ontouchend = (e) => {\n      if (e.target === this.customView.node) {\n        this.cancelable && this.dismiss()\n      }\n    }\n  }\n  alert(msg: string, btnText?: string, callback?: Function) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = msg\n    this.alertViewBtn.node.innerHTML = btnText || '确定'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.alertView)\n    this.alertView.node.children.length === 0 && (this.alertView.appendChild(this.alertViewMsg), this.alertView.appendChild(this.alertViewBtn))\n    this.customView.style.display = 'block'\n    this.alertViewBtn.node.onclick = () => {\n      this.dismiss()\n      callback()\n    }\n  }\n  confirm(\n    title: string,\n    msg: string,\n    okBtnText: string,\n    cancelBtnText: string,\n    okCallback: Function,\n    cancelCallback: Function\n  ) {\n    this.customView.removeAll()\n    this.alertViewMsg.node.innerHTML = title\n    this.confirmViewText.node.innerHTML = msg\n    this.confirmViewOkBtn.node.innerHTML = okBtnText || '确认'\n    this.confirmViewCancelBtn.node.innerHTML = cancelBtnText || '取消'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.confirmView)\n    this.confirmView.node.children.length === 0 && (this.confirmView.appendChild(this.alertViewMsg), this.confirmView.appendChild(this.confirmViewText), this.confirmView.appendChild(this.alertViewBtn))\n    this.alertViewBtn.node.children.length === 0 && (this.alertViewBtn.appendChild(this.confirmViewCancelBtn), this.alertViewBtn.appendChild(this.confirmViewOkBtn))\n    this.customView.style.display = 'block'\n    this.confirmViewOkBtn.node.onclick = () => {\n      this.dismiss()\n      okCallback()\n    }\n    this.confirmViewCancelBtn.node.onclick = () => {\n      this.dismiss()\n      cancelCallback()\n    }\n  }\n  loading(msg: string) {\n    this.customView.removeAll()\n    this.loadingViewText.node.innerHTML = msg || 'loading...'\n    this.customView.node.children.length === 0 && this.customView.appendChild(this.loadingView)\n    this.loadingView.node.children.length === 0 && (this.loadingView.appendChild(this.loadingViewIcon), this.loadingView.appendChild(this.loadingViewText))\n    this.customView.style.display = 'block'\n  }\n  custom(view: View) {\n    this.customView.removeAll()\n    this.customView.node.children.length === 0 && this.customView.appendChild(view)\n    this.customView.style.display = 'block'\n  }\n  dismiss() {\n    this.customView && (this.customView.style.display = 'none')\n  }\n}\nglobalThis.Dialog = Dialog\nglobalThis.Toast = new Toast()\n","export const Location = {\n  getLastLocation(callback: Function) {},\n  startLocation(callback: Function, intervalTime: number, intervalDistance: number) {},\n  stopLocation() {},\n  onError(callback: Function) {},\n}\n","export const Memory = {\n  set(key: any, value: any): void {\n    sessionStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return sessionStorage.getItem(key);\n  },\n  getAll(): object {\n    let sessionKeys: Array<any> = Object.keys(sessionStorage)\n    let sessionAll: object = {}\n    sessionKeys.forEach((item) => {\n      sessionAll[item] = sessionStorage.getItem(item)\n    })\n    return sessionAll;\n  },\n  remove(key: any): void {\n    sessionStorage.removeItem(key)\n  },\n  removeAll(): void {\n    sessionStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(sessionStorage.getItem(key) == null);\n  }\n}\n","import {getQueryVariable,updateQueryStringParameter} from '../common/utils'\ninterface Ioptions {\n  url: string;\n  params: object;\n  animated: boolean;\n  id: string;\n  closeSelf: boolean;\n}\nexport const Navigator = {\n  openPage: (options: Ioptions, callback?: Function) => {\n    let url = ''\n    let cloneOptions = JSON.parse(JSON.stringify(options))\n    let navbar = getQueryVariable('navBar',url);\n    if (cloneOptions.url.match(/^(hummer:\\/\\/||http||.\\/).*.js$/g)) {\n      cloneOptions.url = `http://${window.location.host}${cloneOptions.url.match(/\\/.[a-zA-Z]*.js$/g)[0].split('.')[0]}`\n      url = `${cloneOptions.url}?pageInfo=${encodeURIComponent(JSON.stringify(cloneOptions))}`\n    } else if (cloneOptions.url.match(/^http.*/g)) {\n      url = cloneOptions.url\n    }\n    if(navbar){\n      url = updateQueryStringParameter(url,'navBar',navbar)\n    }\n    if (cloneOptions.closeSelf) {\n      location.replace(url)\n    } else {\n      location.assign(url)\n    }\n    callback();\n  },\n  popPage: (options?: any) => {\n    history.go(-1);\n  },\n  popToPage: (options?: any) => { \n    // 暂不支持\n  },\n  popToRootPage: (options?: any) => {\n    var historyLen = history.length;\n    history.go(-(historyLen - 1));\n  },\n  popBack: (count: number, options?: any) => {\n    history.go(-`${count}`);\n  }\n}\n// @ts-ignore\nglobalThis.Navigator = Navigator","export const Phone = {\n  call(phoneNum: string, callback: Function) {}\n}\n","import { Request } from './Request'\n\nexport class Response {\n  public status!: number\n  public header!: { [key: string]: any }\n  public data!: any\n  public error!:any\n  public message!: any\n  public request!: Request\n}\n","import { Response } from './Response'\n\n/**\n * 参考\n * https://segmentfault.com/a/1190000004322487#articleHeader0\n * https://juejin.im/entry/5a4ea104518825733a307ed1\n */\nexport class Request {\n  public url!: string\n  public method!: 'GET' | 'POST'\n  public timeout: number = 10 * 1000 // 10s\n  public header: { [key: string]: any } = {}\n  public param: { [key: string]: any } = {}\n  public withCredentials: boolean = false\n\n  send(callback: (response: Response) => void) {\n    const xhr = new XMLHttpRequest()\n    if(this.method === 'GET') {\n      let getData = ''\n      for(var str in this.param){ \n        getData +=str+'='+this.param[str] + '&'\n      }\n      getData = getData.substring(0, getData.length - 1);\n      if(this.url.indexOf('?')>=0){\n        this.url = `${this.url}&${getData}`\n      } else {\n        this.url = `${this.url}?${getData}`\n      }\n    }\n    xhr.open(this.method, this.url)\n    xhr.timeout = this.timeout\n    if (this.method === 'POST') {\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n    }\n    xhr.withCredentials = this.withCredentials\n    for (let key in this.header) {\n      xhr.setRequestHeader(key, this.header[key])\n    }\n    xhr.ontimeout = () => {\n      const response = new Response()\n      response.status = -1\n      response.request = this\n      callback(response)\n    }\n    xhr.onerror = (e)=>{ \n\n     };\n    xhr.onload = (e) => {\n      console.log(e)\n      let data = null\n      switch (xhr.responseType) {\n        case 'document':\n          data = xhr.responseXML\n          break\n        case 'json':\n        case 'text':\n          try {\n            data = JSON.parse(xhr.responseText)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n        case 'arraybuffer':\n        case 'blob':\n        default:\n          try {\n            data = JSON.parse(xhr.response)\n          } catch (e) {\n            data = xhr.response\n          }\n          break\n      }\n      const response = new Response()\n      response.status = xhr.status\n      response.data = data\n      response.message = xhr.statusText\n      response.error = {\n        code: 0\n      }\n      if (xhr.status !== 200) {\n        response.error = {\n          code: xhr.status,\n          msg: xhr.statusText,\n        }\n        response.message = xhr.statusText\n      }\n      response.request = this\n      const headers = xhr.getAllResponseHeaders()\n      const arr = headers.trim().split(/[\\r\\n]+/)\n      const headerMap = {}\n      arr.forEach(function (line) {\n        const parts = line.split(': ')\n        const header = parts.shift()\n        // @ts-ignore\n        headerMap[header] = parts.join(': ')\n      })\n      response.header = headerMap\n      callback(response)\n    }\n    const data = Object.keys(this.param)\n      .map(key => `${key}=${this.param[key]}`)\n      .join('&')\n    xhr.send(data)\n  }\n}\n// @ts-ignore\nglobalThis.Request = Request\n\n","// Hummer侧的WebSocket协议已经和web端统一  https://github.com/didi/Hummer/issues/280\nexport const WebSocket = window.WebSocket","export const Storage = {\n  set(key: any, value: any): void {\n    localStorage.setItem(key, value);\n  },\n  get(key: any): string {\n    return localStorage.getItem(key);\n  },\n  getAll(): object {\n    let storageKeys: Array<any> = Object.keys(localStorage)\n    let storageAll: object = {}\n    storageKeys.forEach((item) => {\n      storageAll[item] = localStorage.getItem(item)\n    })\n    return storageAll;\n  },\n  remove(key: any): void {\n    localStorage.removeItem(key)\n  },\n  removeAll(): void {\n    localStorage.clear()\n  },\n  exist(key: any): boolean {\n    return !(localStorage.getItem(key) == null);\n  }\n}","import { Event } from './Event'\nimport { EventType } from '../view/View'\n\nexport interface SwitchEventListener {\n  (event?: SwitchEvent): void\n}\n\nexport class SwitchEvent extends Event {\n  public state!: Boolean\n\n  get type(): EventType {\n    return 'switch'\n  }\n}\n","/*!\n * better-scroll / better-scroll\n * (c) 2016-2021 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig$7 = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\r\nfunction assert(condition, msg) {\r\n    if (!condition) {\r\n        throw new Error('[BScroll] ' + msg);\r\n    }\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction getDistance(x, y) {\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\r\nfunction findIndex(ary, fn) {\r\n    if (ary.findIndex) {\r\n        return ary.findIndex(fn);\r\n    }\r\n    var index = -1;\r\n    ary.some(function (item, i, ary) {\r\n        var ret = fn(item, i, ary);\r\n        if (ret) {\r\n            index = i;\r\n            return ret;\r\n        }\r\n    });\r\n    return index;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string'\r\n        ? document.querySelector(el)\r\n        : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nfunction offsetToBody(el) {\r\n    var rect = el.getBoundingClientRect();\r\n    return {\r\n        left: -(rect.left + window.pageXOffset),\r\n        top: -(rect.top + window.pageYOffset),\r\n    };\r\n}\r\nvar cssVendor = vendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    touchcancel: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    /* istanbul ignore if  */\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            /* istanbul ignore next */\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\r\nfunction prepend(el, target) {\r\n    var firstChild = target.firstChild;\r\n    if (firstChild) {\r\n        before(el, firstChild);\r\n    }\r\n    else {\r\n        target.appendChild(el);\r\n    }\r\n}\r\nfunction before(el, target) {\r\n    var parentNode = target.parentNode;\r\n    parentNode.insertBefore(el, target);\r\n}\r\nfunction removeChild(el, child) {\r\n    el.removeChild(child);\r\n}\r\nfunction hasClass(el, className) {\r\n    var reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className);\r\n}\r\nfunction HTMLCollectionToArray(el) {\r\n    return Array.prototype.slice.call(el, 0);\r\n}\r\nfunction getClientSize(el) {\r\n    return {\r\n        width: el.clientWidth,\r\n        height: el.clientHeight,\r\n    };\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 1000 / 60;\r\nvar windowCompat = inBrowser && window;\r\n/* istanbul ignore next */\r\nfunction noop$1() { }\r\nvar requestAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, callback.interval || DEFAULT_INTERVAL); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\n/* istanbul ignore next */\r\nvar noop = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop,\r\n    set: noop,\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 0;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        _this.quadrant = 1 /* First */;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.rebindDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.rebindDOMEvents = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.handleDOMEvents();\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setCallStop = function (called) {\r\n        this.callStopWhenPending = called;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.clearTimer = function () {\r\n        if (this.timer) {\r\n            cancelAnimationFrame(this.timer);\r\n            this.timer = 0;\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\n// iOS 13.6 - 14.x, window.getComputedStyle sometimes will get wrong transform value\r\n// when bs use transition mode\r\n// eg: translateY -100px -> -200px, when the last frame which is about to scroll to -200px\r\n// window.getComputedStyle(this.content) will calculate transformY to be -100px(startPoint)\r\n// it is weird\r\n// so we should validate position caculated by 'window.getComputedStyle'\r\nvar isValidPostion = function (startPoint, endPoint, currentPos, prePos) {\r\n    var computeDirection = function (endValue, startValue) {\r\n        var delta = endValue - startValue;\r\n        var direction = delta > 0\r\n            ? -1 /* Negative */\r\n            : delta < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return direction;\r\n    };\r\n    var directionX = computeDirection(endPoint.x, startPoint.x);\r\n    var directionY = computeDirection(endPoint.y, startPoint.y);\r\n    var deltaX = currentPos.x - prePos.x;\r\n    var deltaY = currentPos.y - prePos.y;\r\n    return directionX * deltaX <= 0 && directionY * deltaY <= 0;\r\n};\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function (startPoint, endPoint) {\r\n        var _this = this;\r\n        var prePos = startPoint;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            if (isValidPostion(startPoint, endPoint, pos, prePos)) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // transition ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n                }\r\n            }\r\n            prePos = pos;\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        if (time && isRealtimeProbeType) {\r\n            this.startProbe(startPoint, endPoint);\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            if (isRealtimeProbeType) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            if (this.options.probeType === 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                if (isRealtimeProbeType) {\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                }\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (isRealtimeProbeType) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // raf ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                }\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        },\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll'\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var duration = Math.min(swipeTime, (speed * 2) / deceleration);\r\n        var momentumData = {\r\n            destination: current + ((speed * speed) / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: duration,\r\n            rate: 15\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = this.currentPos - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        // Force reflow\r\n        var wrapperRect = getRect(this.wrapper);\r\n        // use client is more fair than offset\r\n        this.wrapperSize = this.wrapper[size === 'width' ? 'clientWidth' : 'clientHeight'];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        /* istanbul ignore if  */\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return this.currentPos;\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos > this.minScrollPos) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos < this.maxScrollPos) {\r\n            pos = this.maxScrollPos;\r\n        }\r\n        return pos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        e.preventDefault();\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar applyQuadrantTransformation = function (deltaX, deltaY, quadrant) {\r\n    if (quadrant === 2 /* Second */) {\r\n        return [deltaY, -deltaX];\r\n    }\r\n    else if (quadrant === 3 /* Third */) {\r\n        return [-deltaX, -deltaY];\r\n    }\r\n    else if (quadrant === 4 /* Forth */) {\r\n        return [-deltaY, deltaX];\r\n    }\r\n    else {\r\n        return [deltaX, deltaY];\r\n    }\r\n};\r\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd',\r\n            'contentNotMoved',\r\n            'detectMovingDirection',\r\n            'coordinateTransformation',\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            var _b = applyQuadrantTransformation(deltaX, deltaY, _this.options.quadrant), transformateDeltaX = _b[0], transformateDeltaY = _b[1];\r\n            var transformateDeltaData = {\r\n                deltaX: transformateDeltaX,\r\n                deltaY: transformateDeltaY,\r\n            };\r\n            _this.hooks.trigger(_this.hooks.eventTypes.coordinateTransformation, transformateDeltaData);\r\n            return _this.handleMove(transformateDeltaData.deltaX, transformateDeltaData.deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.fingerMoved = false;\r\n        this.contentMoved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var prevX = this.scrollBehaviorX.getCurrentPos();\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var prevY = this.scrollBehaviorY.getCurrentPos();\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)) {\r\n            return;\r\n        }\r\n        if (!this.fingerMoved) {\r\n            this.fingerMoved = true;\r\n        }\r\n        var positionChanged = newX !== prevX || newY !== prevY;\r\n        if (!this.contentMoved && !positionChanged) {\r\n            this.hooks.trigger(this.hooks.eventTypes.contentNotMoved);\r\n        }\r\n        if (!this.contentMoved && positionChanged) {\r\n            this.contentMoved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.contentMoved && positionChanged) {\r\n            this.animater.translate({\r\n                x: newX,\r\n                y: newY,\r\n            });\r\n            this.dispatchScroll(timestamp);\r\n        }\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        currentPos = this.ensureIntegerPos(currentPos);\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.ensureIntegerPos = function (currentPos) {\r\n        this.ensuringInteger = true;\r\n        var x = currentPos.x, y = currentPos.y;\r\n        var _a = this.scrollBehaviorX, minScrollPosX = _a.minScrollPos, maxScrollPosX = _a.maxScrollPos;\r\n        var _b = this.scrollBehaviorY, minScrollPosY = _b.minScrollPos, maxScrollPosY = _b.maxScrollPos;\r\n        x = x > 0 ? Math.ceil(x) : Math.floor(x);\r\n        y = y > 0 ? Math.ceil(y) : Math.floor(y);\r\n        x = between(x, maxScrollPosX, minScrollPosX);\r\n        y = between(y, maxScrollPosY, minScrollPosY);\r\n        return { x: x, y: y };\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos(),\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar MIN_SCROLL_DISTANCE = 1;\r\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'minDistanceScroll',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // scrollEnd will dispatch when scroll is force stopping in touchstart handler\r\n            // so in touchend handler, don't toggle pointer-events\r\n            if (_this.actions.ensuringInteger === true) {\r\n                _this.actions.ensuringInteger = false;\r\n                return;\r\n            }\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.fingerMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            if (actions.contentMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            if (_this.animater.forceStopped) {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        /* istanbul ignore if  */\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            /* istanbul ignore if  */\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        var deltaX = Math.abs(endPoint.x - startPoint.x);\r\n        var deltaY = Math.abs(endPoint.y - startPoint.y);\r\n        // considering of browser compatibility for decimal transform value\r\n        // force translating immediately\r\n        if (deltaX < MIN_SCROLL_DISTANCE && deltaY < MIN_SCROLL_DISTANCE) {\r\n            time = 0;\r\n            this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll);\r\n        }\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        /* istanbul ignore if  */\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this.reflow();\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.reflow = function () {\r\n        this._reflow = this.content.offsetHeight;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy'\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged'\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig$7);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        /* istanbul ignore if  */\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nvar MouseWheel = /** @class */ (function () {\r\n    function MouseWheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.wheelEndTimer = 0;\r\n        this.wheelMoveTimer = 0;\r\n        this.wheelStart = false;\r\n        this.init();\r\n    }\r\n    MouseWheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.registerEvent();\r\n    };\r\n    MouseWheel.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            'alterOptions',\r\n            'mousewheelStart',\r\n            'mousewheelMove',\r\n            'mousewheelEnd',\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.mouseWheel === true\r\n            ? {}\r\n            : this.scroll.options.mouseWheel);\r\n        var defaultOptions = {\r\n            speed: 20,\r\n            invert: false,\r\n            easeTime: 300,\r\n            discreteTime: 400,\r\n            throttleTime: 0,\r\n            dampingFactor: 0.1,\r\n        };\r\n        this.mouseWheelOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    MouseWheel.prototype.handleHooks = function () {\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    MouseWheel.prototype.registerEvent = function () {\r\n        this.eventRegister = new EventRegister(this.scroll.scroller.wrapper, [\r\n            {\r\n                name: 'wheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'mousewheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'DOMMouseScroll',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    MouseWheel.prototype.wheelHandler = function (e) {\r\n        if (!this.scroll.enabled) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e);\r\n        // start\r\n        if (!this.wheelStart) {\r\n            this.wheelStartHandler(e);\r\n            this.wheelStart = true;\r\n        }\r\n        // move\r\n        var delta = this.getWheelDelta(e);\r\n        this.wheelMoveHandler(delta);\r\n        // end\r\n        this.wheelEndDetector(delta);\r\n    };\r\n    MouseWheel.prototype.wheelStartHandler = function (e) {\r\n        this.cleanCache();\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        scrollBehaviorX.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorX.setDirection(0 /* Default */);\r\n        scrollBehaviorY.setDirection(0 /* Default */);\r\n        this.scroll.trigger(this.scroll.eventTypes.alterOptions, this.mouseWheelOpt);\r\n        this.scroll.trigger(this.scroll.eventTypes.mousewheelStart);\r\n    };\r\n    MouseWheel.prototype.cleanCache = function () {\r\n        this.deltaCache = [];\r\n    };\r\n    MouseWheel.prototype.wheelMoveHandler = function (delta) {\r\n        var _this = this;\r\n        var _a = this.mouseWheelOpt, throttleTime = _a.throttleTime, dampingFactor = _a.dampingFactor;\r\n        if (throttleTime && this.wheelMoveTimer) {\r\n            this.deltaCache.push(delta);\r\n        }\r\n        else {\r\n            var cachedDelta = this.deltaCache.reduce(function (prev, current) {\r\n                return {\r\n                    x: prev.x + current.x,\r\n                    y: prev.y + current.y,\r\n                };\r\n            }, { x: 0, y: 0 });\r\n            this.cleanCache();\r\n            var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n            scrollBehaviorX.setMovingDirection(-delta.directionX);\r\n            scrollBehaviorY.setMovingDirection(-delta.directionY);\r\n            scrollBehaviorX.setDirection(delta.x);\r\n            scrollBehaviorY.setDirection(delta.y);\r\n            // when out of boundary, perform a damping scroll\r\n            var newX = scrollBehaviorX.performDampingAlgorithm(Math.round(delta.x) + cachedDelta.x, dampingFactor);\r\n            var newY = scrollBehaviorY.performDampingAlgorithm(Math.round(delta.y) + cachedDelta.x, dampingFactor);\r\n            if (!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove, {\r\n                x: newX,\r\n                y: newY,\r\n            })) {\r\n                var easeTime = this.getEaseTime();\r\n                if (newX !== this.scroll.x || newY !== this.scroll.y) {\r\n                    this.scroll.scrollTo(newX, newY, easeTime);\r\n                }\r\n            }\r\n            if (throttleTime) {\r\n                this.wheelMoveTimer = window.setTimeout(function () {\r\n                    _this.wheelMoveTimer = 0;\r\n                }, throttleTime);\r\n            }\r\n        }\r\n    };\r\n    MouseWheel.prototype.wheelEndDetector = function (delta) {\r\n        var _this = this;\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        this.wheelEndTimer = window.setTimeout(function () {\r\n            _this.wheelStart = false;\r\n            window.clearTimeout(_this.wheelMoveTimer);\r\n            _this.wheelMoveTimer = 0;\r\n            _this.scroll.trigger(_this.scroll.eventTypes.mousewheelEnd, delta);\r\n        }, this.mouseWheelOpt.discreteTime);\r\n    };\r\n    MouseWheel.prototype.getWheelDelta = function (e) {\r\n        var _a = this.mouseWheelOpt, speed = _a.speed, invert = _a.invert;\r\n        var wheelDeltaX = 0;\r\n        var wheelDeltaY = 0;\r\n        var direction = invert ? -1 /* Negative */ : 1 /* Positive */;\r\n        switch (true) {\r\n            case 'deltaX' in e:\r\n                if (e.deltaMode === 1) {\r\n                    wheelDeltaX = -e.deltaX * speed;\r\n                    wheelDeltaY = -e.deltaY * speed;\r\n                }\r\n                else {\r\n                    wheelDeltaX = -e.deltaX;\r\n                    wheelDeltaY = -e.deltaY;\r\n                }\r\n                break;\r\n            case 'wheelDeltaX' in e:\r\n                wheelDeltaX = (e.wheelDeltaX / 120) * speed;\r\n                wheelDeltaY = (e.wheelDeltaY / 120) * speed;\r\n                break;\r\n            case 'wheelDelta' in e:\r\n                wheelDeltaX = wheelDeltaY = (e.wheelDelta / 120) * speed;\r\n                break;\r\n            case 'detail' in e:\r\n                wheelDeltaX = wheelDeltaY = (-e.detail / 3) * speed;\r\n                break;\r\n        }\r\n        wheelDeltaX *= direction;\r\n        wheelDeltaY *= direction;\r\n        if (!this.scroll.hasVerticalScroll) {\r\n            if (Math.abs(wheelDeltaY) > Math.abs(wheelDeltaX)) {\r\n                wheelDeltaX = wheelDeltaY;\r\n            }\r\n            wheelDeltaY = 0;\r\n        }\r\n        if (!this.scroll.hasHorizontalScroll) {\r\n            wheelDeltaX = 0;\r\n        }\r\n        var directionX = wheelDeltaX > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaX < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        var directionY = wheelDeltaY > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaY < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return {\r\n            x: wheelDeltaX,\r\n            y: wheelDeltaY,\r\n            directionX: directionX,\r\n            directionY: directionY,\r\n        };\r\n    };\r\n    MouseWheel.prototype.beforeHandler = function (e) {\r\n        var _a = this.scroll.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        if (preventDefault &&\r\n            !preventDefaultExceptionFn(e.target, preventDefaultException)) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    MouseWheel.prototype.getEaseTime = function () {\r\n        var SAFE_EASETIME = 100;\r\n        var easeTime = this.mouseWheelOpt.easeTime;\r\n        // scrollEnd event will be triggered in every calling of scrollTo when easeTime is too small\r\n        // easeTime needs to be greater than 100\r\n        if (easeTime < SAFE_EASETIME) {\r\n            warn(\"easeTime should be greater than 100.\" +\r\n                \"If mouseWheel easeTime is too small,\" +\r\n                \"scrollEnd will be triggered many times.\");\r\n        }\r\n        return Math.max(easeTime, SAFE_EASETIME);\r\n    };\r\n    MouseWheel.prototype.destroy = function () {\r\n        this.eventRegister.destroy();\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        window.clearTimeout(this.wheelMoveTimer);\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n    };\r\n    MouseWheel.pluginName = 'mouseWheel';\r\n    MouseWheel.applyOrder = \"pre\" /* Pre */;\r\n    return MouseWheel;\r\n}());\n\nvar ObserveDOM = /** @class */ (function () {\r\n    function ObserveDOM(scroll) {\r\n        this.scroll = scroll;\r\n        this.stopObserver = false;\r\n        this.init();\r\n    }\r\n    ObserveDOM.prototype.init = function () {\r\n        this.handleMutationObserver();\r\n        this.handleHooks();\r\n    };\r\n    ObserveDOM.prototype.handleMutationObserver = function () {\r\n        var _this = this;\r\n        if (typeof MutationObserver !== 'undefined') {\r\n            var timer_1 = 0;\r\n            this.observer = new MutationObserver(function (mutations) {\r\n                _this.mutationObserverHandler(mutations, timer_1);\r\n            });\r\n            this.startObserve(this.observer);\r\n        }\r\n        else {\r\n            this.checkDOMUpdate();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.stopObserve();\r\n            // launch a new mutationObserver\r\n            _this.handleMutationObserver();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.enable, function () {\r\n            if (_this.stopObserver) {\r\n                _this.handleMutationObserver();\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.disable, function () {\r\n            _this.stopObserve();\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    ObserveDOM.prototype.mutationObserverHandler = function (mutations, timer) {\r\n        var _this = this;\r\n        if (this.shouldNotRefresh()) {\r\n            return;\r\n        }\r\n        var immediateRefresh = false;\r\n        var deferredRefresh = false;\r\n        for (var i = 0; i < mutations.length; i++) {\r\n            var mutation = mutations[i];\r\n            if (mutation.type !== 'attributes') {\r\n                immediateRefresh = true;\r\n                break;\r\n            }\r\n            else {\r\n                if (mutation.target !== this.scroll.scroller.content) {\r\n                    deferredRefresh = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (immediateRefresh) {\r\n            this.scroll.refresh();\r\n        }\r\n        else if (deferredRefresh) {\r\n            // attributes changes too often\r\n            clearTimeout(timer);\r\n            timer = window.setTimeout(function () {\r\n                if (!_this.shouldNotRefresh()) {\r\n                    _this.scroll.refresh();\r\n                }\r\n            }, 60);\r\n        }\r\n    };\r\n    ObserveDOM.prototype.startObserve = function (observer) {\r\n        var config = {\r\n            attributes: true,\r\n            childList: true,\r\n            subtree: true,\r\n        };\r\n        observer.observe(this.scroll.scroller.content, config);\r\n    };\r\n    ObserveDOM.prototype.shouldNotRefresh = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var outsideBoundaries = scrollBehaviorX.currentPos > scrollBehaviorX.minScrollPos ||\r\n            scrollBehaviorX.currentPos < scrollBehaviorX.maxScrollPos ||\r\n            scrollBehaviorY.currentPos > scrollBehaviorY.minScrollPos ||\r\n            scrollBehaviorY.currentPos < scrollBehaviorY.maxScrollPos;\r\n        return scroller.animater.pending || outsideBoundaries;\r\n    };\r\n    ObserveDOM.prototype.checkDOMUpdate = function () {\r\n        var _this = this;\r\n        var content = this.scroll.scroller.content;\r\n        var contentRect = getRect(content);\r\n        var oldWidth = contentRect.width;\r\n        var oldHeight = contentRect.height;\r\n        var check = function () {\r\n            if (_this.stopObserver) {\r\n                return;\r\n            }\r\n            contentRect = getRect(content);\r\n            var newWidth = contentRect.width;\r\n            var newHeight = contentRect.height;\r\n            if (oldWidth !== newWidth || oldHeight !== newHeight) {\r\n                _this.scroll.refresh();\r\n            }\r\n            oldWidth = newWidth;\r\n            oldHeight = newHeight;\r\n            next();\r\n        };\r\n        var next = function () {\r\n            setTimeout(function () {\r\n                check();\r\n            }, 1000);\r\n        };\r\n        next();\r\n    };\r\n    ObserveDOM.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    ObserveDOM.prototype.stopObserve = function () {\r\n        this.stopObserver = true;\r\n        if (this.observer) {\r\n            this.observer.disconnect();\r\n        }\r\n    };\r\n    ObserveDOM.prototype.destroy = function () {\r\n        this.stopObserve();\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    ObserveDOM.pluginName = 'observeDOM';\r\n    return ObserveDOM;\r\n}());\n\nvar sourcePrefix$6 = 'plugins.pullDownRefresh';\r\nvar propertiesMap$6 = [\r\n    {\r\n        key: 'finishPullDown',\r\n        name: 'finishPullDown'\r\n    },\r\n    {\r\n        key: 'openPullDown',\r\n        name: 'openPullDown'\r\n    },\r\n    {\r\n        key: 'closePullDown',\r\n        name: 'closePullDown'\r\n    },\r\n    {\r\n        key: 'autoPullDownRefresh',\r\n        name: 'autoPullDownRefresh'\r\n    }\r\n];\r\nvar propertiesConfig$6 = propertiesMap$6.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$6 + \".\" + item.name\r\n    };\r\n});\n\nvar PULLING_DOWN_EVENT = 'pullingDown';\r\nvar ENTER_THRESHOLD_EVENT = 'enterThreshold';\r\nvar LEAVE_THRESHOLD_EVENT = 'leaveThreshold';\r\nvar PullDown = /** @class */ (function () {\r\n    function PullDown(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = 0 /* DEFAULT */;\r\n        this.thresholdBoundary = 0 /* DEFAULT */;\r\n        this.init();\r\n    }\r\n    PullDown.prototype.setPulling = function (status) {\r\n        this.pulling = status;\r\n    };\r\n    PullDown.prototype.setThresholdBoundary = function (boundary) {\r\n        this.thresholdBoundary = boundary;\r\n    };\r\n    PullDown.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullDownRefresh);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullDown.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            PULLING_DOWN_EVENT,\r\n            ENTER_THRESHOLD_EVENT,\r\n            LEAVE_THRESHOLD_EVENT,\r\n        ]);\r\n        this.scroll.proxy(propertiesConfig$6);\r\n    };\r\n    PullDown.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 90,\r\n            stop: 40,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullDown.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.currentMinScrollY = this.cachedOriginanMinScrollY =\r\n            scrollBehaviorY.minScrollPos;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullDown();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n            boundary.minScrollPos = _this.currentMinScrollY;\r\n        });\r\n        // integrate with mousewheel\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.alterOptions, function (mouseWheelOptions) {\r\n                var SANE_DISCRETE_TIME = 300;\r\n                var SANE_EASE_TIME = 350;\r\n                mouseWheelOptions.discreteTime = SANE_DISCRETE_TIME;\r\n                // easeTime > discreteTime ensure goInto checkPullDown function\r\n                mouseWheelOptions.easeTime = SANE_EASE_TIME;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function () {\r\n                // mouseWheel need trigger checkPullDown manually\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.end);\r\n            });\r\n        }\r\n    };\r\n    PullDown.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullDown.prototype.hasMouseWheelPlugin = function () {\r\n        return !!this.scroll.eventTypes.alterOptions;\r\n    };\r\n    PullDown.prototype.watch = function () {\r\n        var scroller = this.scroll.scroller;\r\n        this.watching = true;\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.resetStateBeforeScrollStart = function () {\r\n        // current fetching pulldownRefresh has ended\r\n        if (!this.isFetchingStatus()) {\r\n            this.setPulling(1 /* MOVING */);\r\n            this.setThresholdBoundary(0 /* DEFAULT */);\r\n        }\r\n    };\r\n    PullDown.prototype.checkLocationOfThresholdBoundary = function () {\r\n        // pulldownRefresh is in the phase of Moving\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            var scroll_1 = this.scroll;\r\n            // enter threshold boundary\r\n            var enteredThresholdBoundary = this.thresholdBoundary !== 1 /* INSIDE */ &&\r\n                this.locateInsideThresholdBoundary();\r\n            // leave threshold boundary\r\n            var leftThresholdBoundary = this.thresholdBoundary !== 2 /* OUTSIDE */ &&\r\n                !this.locateInsideThresholdBoundary();\r\n            if (enteredThresholdBoundary) {\r\n                this.setThresholdBoundary(1 /* INSIDE */);\r\n                scroll_1.trigger(ENTER_THRESHOLD_EVENT);\r\n            }\r\n            if (leftThresholdBoundary) {\r\n                this.setThresholdBoundary(2 /* OUTSIDE */);\r\n                scroll_1.trigger(LEAVE_THRESHOLD_EVENT);\r\n            }\r\n        }\r\n    };\r\n    PullDown.prototype.locateInsideThresholdBoundary = function () {\r\n        return this.scroll.y <= this.options.threshold;\r\n    };\r\n    PullDown.prototype.unwatch = function () {\r\n        var scroll = this.scroll;\r\n        var scroller = scroll.scroller;\r\n        this.watching = false;\r\n        scroller.hooks.off(scroller.hooks.eventTypes.end, this.checkPullDown);\r\n        scroll.off(scroll.eventTypes.scrollStart, this.resetStateBeforeScrollStart);\r\n        scroll.off(scroll.eventTypes.scroll, this.checkLocationOfThresholdBoundary);\r\n        if (this.hasMouseWheelPlugin()) {\r\n            scroll.off(scroll.eventTypes.mousewheelStart, this.resetStateBeforeScrollStart);\r\n        }\r\n    };\r\n    PullDown.prototype.checkPullDown = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        // check if a real pull down action\r\n        if (this.scroll.y < threshold) {\r\n            return false;\r\n        }\r\n        if (this.pulling === 1 /* MOVING */) {\r\n            this.modifyBehaviorYBoundary(stop);\r\n            this.setPulling(2 /* FETCHING */);\r\n            this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        }\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n        return this.isFetchingStatus();\r\n    };\r\n    PullDown.prototype.isFetchingStatus = function () {\r\n        return this.pulling === 2 /* FETCHING */;\r\n    };\r\n    PullDown.prototype.modifyBehaviorYBoundary = function (stopDistance) {\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        // manually modify minScrollPos for a hang animation\r\n        // to prevent from resetPosition\r\n        this.cachedOriginanMinScrollY = scrollBehaviorY.minScrollPos;\r\n        this.currentMinScrollY = stopDistance;\r\n        scrollBehaviorY.computeBoundary();\r\n    };\r\n    PullDown.prototype.finishPullDown = function () {\r\n        if (this.isFetchingStatus()) {\r\n            var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n            // restore minScrollY since the hang animation has ended\r\n            this.currentMinScrollY = this.cachedOriginanMinScrollY;\r\n            scrollBehaviorY.computeBoundary();\r\n            this.setPulling(0 /* DEFAULT */);\r\n            this.scroll.resetPosition(this.scroll.options.bounceTime, ease.bounce);\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullDown.prototype.openPullDown = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        if (!this.watching) {\r\n            this.watch();\r\n        }\r\n    };\r\n    PullDown.prototype.closePullDown = function () {\r\n        this.unwatch();\r\n    };\r\n    PullDown.prototype.autoPullDownRefresh = function () {\r\n        var _a = this.options, threshold = _a.threshold, stop = _a.stop;\r\n        if (this.isFetchingStatus() || !this.watching) {\r\n            return;\r\n        }\r\n        this.modifyBehaviorYBoundary(stop);\r\n        this.scroll.trigger(this.scroll.eventTypes.scrollStart);\r\n        this.scroll.scrollTo(this.scroll.x, threshold);\r\n        this.setPulling(2 /* FETCHING */);\r\n        this.scroll.trigger(PULLING_DOWN_EVENT);\r\n        this.scroll.scrollTo(this.scroll.x, stop, this.scroll.options.bounceTime, ease.bounce);\r\n    };\r\n    PullDown.pluginName = 'pullDownRefresh';\r\n    return PullDown;\r\n}());\n\nvar sourcePrefix$5 = 'plugins.pullUpLoad';\r\nvar propertiesMap$5 = [\r\n    {\r\n        key: 'finishPullUp',\r\n        name: 'finishPullUp'\r\n    },\r\n    {\r\n        key: 'openPullUp',\r\n        name: 'openPullUp'\r\n    },\r\n    {\r\n        key: 'closePullUp',\r\n        name: 'closePullUp'\r\n    },\r\n    {\r\n        key: 'autoPullUpLoad',\r\n        name: 'autoPullUpLoad'\r\n    }\r\n];\r\nvar propertiesConfig$5 = propertiesMap$5.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$5 + \".\" + item.name\r\n    };\r\n});\n\nvar PULL_UP_HOOKS_NAME = 'pullingUp';\r\nvar PullUp = /** @class */ (function () {\r\n    function PullUp(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = false;\r\n        this.watching = false;\r\n        this.init();\r\n    }\r\n    PullUp.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullUpLoad);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([PULL_UP_HOOKS_NAME]);\r\n        this.scroll.proxy(propertiesConfig$5);\r\n    };\r\n    PullUp.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullUp.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullUp();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n        });\r\n    };\r\n    PullUp.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullUp.prototype.watch = function () {\r\n        if (this.watching) {\r\n            return;\r\n        }\r\n        this.watching = true;\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.unwatch = function () {\r\n        this.watching = false;\r\n        this.scroll.off(this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.checkPullUp = function (pos) {\r\n        var _this = this;\r\n        var threshold = this.options.threshold;\r\n        if (this.scroll.movingDirectionY === 1 /* Positive */ &&\r\n            pos.y <= this.scroll.maxScrollY + threshold) {\r\n            this.pulling = true;\r\n            // must reset pulling after scrollEnd\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.pulling = false;\r\n            });\r\n            this.unwatch();\r\n            this.scroll.trigger(PULL_UP_HOOKS_NAME);\r\n        }\r\n    };\r\n    PullUp.prototype.finishPullUp = function () {\r\n        var _this = this;\r\n        // reset Direction, fix #936\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        if (this.pulling) {\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.watch();\r\n            });\r\n        }\r\n        else {\r\n            this.watch();\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullUp.prototype.openPullUp = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.closePullUp = function () {\r\n        this.unwatch();\r\n    };\r\n    PullUp.prototype.autoPullUpLoad = function () {\r\n        var threshold = this.options.threshold;\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        if (this.pulling || !this.watching) {\r\n            return;\r\n        }\r\n        // simulate a pullUp action\r\n        var NEGATIVE_VALUE = -1;\r\n        var outOfBoundaryPos = scrollBehaviorY.maxScrollPos + threshold + NEGATIVE_VALUE;\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(NEGATIVE_VALUE);\r\n        this.scroll.scrollTo(this.scroll.x, outOfBoundaryPos, this.scroll.options.bounceTime);\r\n    };\r\n    PullUp.pluginName = 'pullUpLoad';\r\n    return PullUp;\r\n}());\n\nvar EventHandler = /** @class */ (function () {\r\n    function EventHandler(indicator, options) {\r\n        this.indicator = indicator;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter(['touchStart', 'touchMove', 'touchEnd']);\r\n        this.registerEvents();\r\n    }\r\n    EventHandler.prototype.registerEvents = function () {\r\n        var _a = this.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicator.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    EventHandler.prototype.BScrollIsDisabled = function () {\r\n        return !this.indicator.scroll.enabled;\r\n    };\r\n    EventHandler.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.initiated = true;\r\n        this.lastPoint = point[this.indicator.keysMap.point];\r\n        this.hooks.trigger(this.hooks.eventTypes.touchStart);\r\n    };\r\n    EventHandler.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointPos = point[this.indicator.keysMap.point];\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var delta = pointPos - this.lastPoint;\r\n        this.lastPoint = pointPos;\r\n        this.hooks.trigger(this.hooks.eventTypes.touchMove, delta);\r\n    };\r\n    EventHandler.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.hooks.trigger(this.hooks.eventTypes.touchEnd);\r\n    };\r\n    EventHandler.prototype.destroy = function () {\r\n        this.startEventRegister.destroy();\r\n        this.moveEventRegister.destroy();\r\n        this.endEventRegister.destroy();\r\n    };\r\n    return EventHandler;\r\n}());\n\nvar Indicator$1 = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.hooksFn = [];\r\n        this.wrapper = options.wrapper;\r\n        this.direction = options.direction;\r\n        this.indicatorEl = this.wrapper.children[0];\r\n        this.keysMap = this.getKeysMap();\r\n        this.handleFade();\r\n        this.handleHooks();\r\n    }\r\n    Indicator.prototype.handleFade = function () {\r\n        if (this.options.fade) {\r\n            this.wrapper.style.opacity = '0';\r\n        }\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var _a = this.options, fade = _a.fade, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            var hasScrollKey = _this.keysMap.hasScroll;\r\n            if (_this.scroll[hasScrollKey]) {\r\n                _this.updatePosition(pos);\r\n            }\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n        if (fade) {\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollEnd, function () {\r\n                _this.fade();\r\n            });\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollStart, function () {\r\n                _this.fade(true);\r\n            });\r\n            // for mousewheel event\r\n            if (scroll.eventTypes.mousewheelStart &&\r\n                scroll.eventTypes.mousewheelEnd) {\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelStart, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelMove, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelEnd, function () {\r\n                    _this.fade();\r\n                });\r\n            }\r\n        }\r\n        if (interactive) {\r\n            var _b = this.scroll.options, disableMouse = _b.disableMouse, disableTouch = _b.disableTouch;\r\n            this.eventHandler = new EventHandler(this, {\r\n                disableMouse: disableMouse,\r\n                disableTouch: disableTouch,\r\n            });\r\n            var eventHandlerHooks = this.eventHandler.hooks;\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchStart, this.startHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchMove, this.moveHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchEnd, this.endHandler);\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.bindClick();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.bindClick = function () {\r\n        var wrapper = this.wrapper;\r\n        this.clickEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'click',\r\n                handler: this.handleClick.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Indicator.prototype.handleClick = function (e) {\r\n        var newPos = this.calculateclickOffsetPos(e);\r\n        var _a = this.scroll, x = _a.x, y = _a.y;\r\n        x = this.direction === \"horizontal\" /* Horizontal */ ? newPos : x;\r\n        y = this.direction === \"vertical\" /* Vertical */ ? newPos : y;\r\n        this.scroll.scrollTo(x, y, this.options.scrollbarTrackOffsetTime);\r\n    };\r\n    Indicator.prototype.calculateclickOffsetPos = function (e) {\r\n        var _a = this.keysMap, poinKey = _a.point, domRectKey = _a.domRect;\r\n        var scrollbarTrackOffsetType = this.options.scrollbarTrackOffsetType;\r\n        var clickPointOffset = e[poinKey] - this.wrapperRect[domRectKey];\r\n        var scrollToWhere = clickPointOffset < this.currentPos ? -1 /* Up */ : 1 /* Down */;\r\n        var delta = 0;\r\n        var currentPos = this.currentPos;\r\n        if (scrollbarTrackOffsetType === \"step\" /* Step */) {\r\n            delta = this.scrollInfo.baseSize * scrollToWhere;\r\n        }\r\n        else {\r\n            delta = 0;\r\n            currentPos = clickPointOffset;\r\n        }\r\n        return this.newPos(currentPos, delta, this.scrollInfo);\r\n    };\r\n    Indicator.prototype.getKeysMap = function () {\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            return {\r\n                hasScroll: 'hasVerticalScroll',\r\n                size: 'height',\r\n                wrapperSize: 'clientHeight',\r\n                scrollerSize: 'scrollerHeight',\r\n                maxScrollPos: 'maxScrollY',\r\n                pos: 'y',\r\n                point: 'pageY',\r\n                translateProperty: 'translateY',\r\n                domRect: 'top',\r\n            };\r\n        }\r\n        return {\r\n            hasScroll: 'hasHorizontalScroll',\r\n            size: 'width',\r\n            wrapperSize: 'clientWidth',\r\n            scrollerSize: 'scrollerWidth',\r\n            maxScrollPos: 'maxScrollX',\r\n            pos: 'x',\r\n            point: 'pageX',\r\n            translateProperty: 'translateX',\r\n            domRect: 'left',\r\n        };\r\n    };\r\n    Indicator.prototype.fade = function (visible) {\r\n        var _a = this.options, fadeInTime = _a.fadeInTime, fadeOutTime = _a.fadeOutTime;\r\n        var time = visible ? fadeInTime : fadeOutTime;\r\n        var wrapper = this.wrapper;\r\n        wrapper.style[style.transitionDuration] = time + 'ms';\r\n        wrapper.style.opacity = visible ? '1' : '0';\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var hasScrollKey = this.keysMap.hasScroll;\r\n        var scroll = this.scroll;\r\n        var x = scroll.x, y = scroll.y;\r\n        this.wrapperRect = this.wrapper.getBoundingClientRect();\r\n        if (this.canScroll(scroll[hasScrollKey])) {\r\n            var _a = this.keysMap, wrapperSizeKey = _a.wrapperSize, scrollerSizeKey = _a.scrollerSize, maxScrollPosKey = _a.maxScrollPos;\r\n            this.scrollInfo = this.refreshScrollInfo(this.wrapper[wrapperSizeKey], scroll[scrollerSizeKey], scroll[maxScrollPosKey], this.indicatorEl[wrapperSizeKey]);\r\n            this.updatePosition({\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.canScroll = function (hasScroll) {\r\n        this.wrapper.style.display = hasScroll ? 'block' : 'none';\r\n        return hasScroll;\r\n    };\r\n    Indicator.prototype.refreshScrollInfo = function (wrapperSize, scrollerSize, maxScrollPos, indicatorElSize) {\r\n        var baseSize = Math.max(Math.round((wrapperSize * wrapperSize) / (scrollerSize || wrapperSize || 1)), this.options.minSize);\r\n        if (this.options.isCustom) {\r\n            baseSize = indicatorElSize;\r\n        }\r\n        var maxIndicatorScrollPos = wrapperSize - baseSize;\r\n        // sizeRatio is negative\r\n        var sizeRatio = maxIndicatorScrollPos / maxScrollPos;\r\n        return {\r\n            baseSize: baseSize,\r\n            maxScrollPos: maxIndicatorScrollPos,\r\n            minScrollPos: 0,\r\n            sizeRatio: sizeRatio,\r\n        };\r\n    };\r\n    Indicator.prototype.updatePosition = function (point) {\r\n        var _a = this.caculatePosAndSize(point, this.scrollInfo), pos = _a.pos, size = _a.size;\r\n        this.refreshStyle(size, pos);\r\n        this.currentPos = pos;\r\n    };\r\n    Indicator.prototype.caculatePosAndSize = function (point, scrollInfo) {\r\n        var posKey = this.keysMap.pos;\r\n        var sizeRatio = scrollInfo.sizeRatio, baseSize = scrollInfo.baseSize, maxScrollPos = scrollInfo.maxScrollPos, minScrollPos = scrollInfo.minScrollPos;\r\n        var minSize = this.options.minSize;\r\n        var pos = Math.round(sizeRatio * point[posKey]);\r\n        var size;\r\n        // when out of boundary, slow down size reduction\r\n        if (pos < minScrollPos) {\r\n            size = Math.max(baseSize + pos * 3, minSize);\r\n            pos = minScrollPos;\r\n        }\r\n        else if (pos > maxScrollPos) {\r\n            size = Math.max(baseSize - (pos - maxScrollPos) * 3, minSize);\r\n            pos = maxScrollPos + baseSize - size;\r\n        }\r\n        else {\r\n            size = baseSize;\r\n        }\r\n        return {\r\n            pos: pos,\r\n            size: size,\r\n        };\r\n    };\r\n    Indicator.prototype.refreshStyle = function (size, pos) {\r\n        var _a = this.keysMap, translatePropertyKey = _a.translateProperty, sizeKey = _a.size;\r\n        var translateZ = this.scroll.options.translateZ;\r\n        this.indicatorEl.style[sizeKey] = size + \"px\";\r\n        this.indicatorEl.style[style.transform] = translatePropertyKey + \"(\" + pos + \"px)\" + translateZ;\r\n    };\r\n    Indicator.prototype.startHandler = function () {\r\n        this.moved = false;\r\n        this.startTime = getNow();\r\n        this.transitionTime();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.moveHandler = function (delta) {\r\n        if (!this.moved && !this.indicatorNotMoved(delta)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.newPos(this.currentPos, delta, this.scrollInfo);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.endHandler = function () {\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (delta) {\r\n        var currentPos = this.currentPos;\r\n        var _a = this.scrollInfo, maxScrollPos = _a.maxScrollPos, minScrollPos = _a.minScrollPos;\r\n        var notMoved = (currentPos === minScrollPos && delta <= 0) ||\r\n            (currentPos === maxScrollPos && delta >= 0);\r\n        return notMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, x = _a.x, y = _a.y, options = _a.options, scroller = _a.scroller, maxScrollY = _a.maxScrollY, minScrollY = _a.minScrollY, maxScrollX = _a.maxScrollX, minScrollX = _a.minScrollX;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        var position = { x: x, y: y };\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            position.y = between(newPos, maxScrollY, minScrollY);\r\n        }\r\n        else {\r\n            position.x = between(newPos, maxScrollX, minScrollX);\r\n        }\r\n        scroller.translater.translate(position);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n        }\r\n    };\r\n    Indicator.prototype.newPos = function (currentPos, delta, scrollInfo) {\r\n        var maxScrollPos = scrollInfo.maxScrollPos, sizeRatio = scrollInfo.sizeRatio, minScrollPos = scrollInfo.minScrollPos;\r\n        var newPos = currentPos + delta;\r\n        newPos = between(newPos, minScrollPos, maxScrollPos);\r\n        return Math.round(newPos / sizeRatio);\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        var _a = this.options, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable, isCustom = _a.isCustom;\r\n        if (interactive) {\r\n            this.eventHandler.destroy();\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.clickEventRegister.destroy();\r\n        }\r\n        if (!isCustom) {\r\n            this.wrapper.parentNode.removeChild(this.wrapper);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar ScrollBar = /** @class */ (function () {\r\n    function ScrollBar(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleOptions();\r\n        this.createIndicators();\r\n        this.handleHooks();\r\n    }\r\n    ScrollBar.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        scroll.hooks.on(scroll.hooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n        });\r\n    };\r\n    ScrollBar.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.scrollbar === true\r\n            ? {}\r\n            : this.scroll.options.scrollbar);\r\n        var defaultOptions = {\r\n            fade: true,\r\n            fadeInTime: 250,\r\n            fadeOutTime: 500,\r\n            interactive: false,\r\n            customElements: [],\r\n            minSize: 8,\r\n            scrollbarTrackClickable: false,\r\n            scrollbarTrackOffsetType: \"step\" /* Step */,\r\n            scrollbarTrackOffsetTime: 300,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ScrollBar.prototype.createIndicators = function () {\r\n        var indicatorOptions;\r\n        var scroll = this.scroll;\r\n        var indicators = [];\r\n        var scrollDirectionConfigKeys = ['scrollX', 'scrollY'];\r\n        var indicatorDirections = [\r\n            \"horizontal\" /* Horizontal */,\r\n            \"vertical\" /* Vertical */,\r\n        ];\r\n        var customScrollbarEls = this.options.customElements;\r\n        for (var i = 0; i < scrollDirectionConfigKeys.length; i++) {\r\n            var key = scrollDirectionConfigKeys[i];\r\n            // wanna scroll in specified direction\r\n            if (scroll.options[key]) {\r\n                var customElement = customScrollbarEls.shift();\r\n                var direction = indicatorDirections[i];\r\n                var isCustom = false;\r\n                var scrollbarWrapper = customElement\r\n                    ? customElement\r\n                    : this.createScrollbarElement(direction);\r\n                // internal scrollbar\r\n                if (scrollbarWrapper !== customElement) {\r\n                    scroll.wrapper.appendChild(scrollbarWrapper);\r\n                }\r\n                else {\r\n                    // custom scrollbar passed by users\r\n                    isCustom = true;\r\n                }\r\n                indicatorOptions = __assign(__assign({ wrapper: scrollbarWrapper, direction: direction }, this.options), { isCustom: isCustom });\r\n                indicators.push(new Indicator$1(scroll, indicatorOptions));\r\n            }\r\n        }\r\n        this.indicators = indicators;\r\n    };\r\n    ScrollBar.prototype.createScrollbarElement = function (direction, scrollbarTrackClickable) {\r\n        if (scrollbarTrackClickable === void 0) { scrollbarTrackClickable = this.options.scrollbarTrackClickable; }\r\n        var scrollbarWrapperEl = document.createElement('div');\r\n        var scrollbarIndicatorEl = document.createElement('div');\r\n        scrollbarWrapperEl.style.cssText =\r\n            'position:absolute;z-index:9999;overflow:hidden;';\r\n        scrollbarIndicatorEl.style.cssText =\r\n            'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\r\n        scrollbarIndicatorEl.className = 'bscroll-indicator';\r\n        if (direction === \"horizontal\" /* Horizontal */) {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'height:7px;left:2px;right:2px;bottom:0;';\r\n            scrollbarIndicatorEl.style.height = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-horizontal-scrollbar';\r\n        }\r\n        else {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'width:7px;bottom:2px;top:2px;right:1px;';\r\n            scrollbarIndicatorEl.style.width = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-vertical-scrollbar';\r\n        }\r\n        if (!scrollbarTrackClickable) {\r\n            scrollbarWrapperEl.style.cssText += 'pointer-events:none;';\r\n        }\r\n        scrollbarWrapperEl.appendChild(scrollbarIndicatorEl);\r\n        return scrollbarWrapperEl;\r\n    };\r\n    ScrollBar.pluginName = 'scrollbar';\r\n    return ScrollBar;\r\n}());\n\nvar PagesMatrix = /** @class */ (function () {\r\n    function PagesMatrix(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    PagesMatrix.prototype.init = function () {\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.wrapperWidth = scrollBehaviorX.wrapperSize;\r\n        this.wrapperHeight = scrollBehaviorY.wrapperSize;\r\n        this.scrollerHeight = scrollBehaviorY.contentSize;\r\n        this.scrollerWidth = scrollBehaviorX.contentSize;\r\n        this.pages = this.buildPagesMatrix(this.wrapperWidth, this.wrapperHeight);\r\n        this.pageLengthOfX = this.pages ? this.pages.length : 0;\r\n        this.pageLengthOfY = this.pages && this.pages[0] ? this.pages[0].length : 0;\r\n    };\r\n    PagesMatrix.prototype.getPageStats = function (pageX, pageY) {\r\n        return this.pages[pageX][pageY];\r\n    };\r\n    PagesMatrix.prototype.getNearestPageIndex = function (x, y) {\r\n        var pageX = 0;\r\n        var pageY = 0;\r\n        var l = this.pages.length;\r\n        for (; pageX < l - 1; pageX++) {\r\n            if (x >= this.pages[pageX][0].cx) {\r\n                break;\r\n            }\r\n        }\r\n        l = this.pages[pageX].length;\r\n        for (; pageY < l - 1; pageY++) {\r\n            if (y >= this.pages[0][pageY].cy) {\r\n                break;\r\n            }\r\n        }\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    // (n x 1) matrix for horizontal scroll or\r\n    // (1 * n) matrix for vertical scroll\r\n    PagesMatrix.prototype.buildPagesMatrix = function (stepX, stepY) {\r\n        var pages = [];\r\n        var x = 0;\r\n        var y;\r\n        var cx;\r\n        var cy;\r\n        var i = 0;\r\n        var l;\r\n        var maxScrollPosX = this.scroll.scroller.scrollBehaviorX.maxScrollPos;\r\n        var maxScrollPosY = this.scroll.scroller.scrollBehaviorY.maxScrollPos;\r\n        cx = Math.round(stepX / 2);\r\n        cy = Math.round(stepY / 2);\r\n        while (x > -this.scrollerWidth) {\r\n            pages[i] = [];\r\n            l = 0;\r\n            y = 0;\r\n            while (y > -this.scrollerHeight) {\r\n                pages[i][l] = {\r\n                    x: Math.max(x, maxScrollPosX),\r\n                    y: Math.max(y, maxScrollPosY),\r\n                    width: stepX,\r\n                    height: stepY,\r\n                    cx: x - cx,\r\n                    cy: y - cy,\r\n                };\r\n                y -= stepY;\r\n                l++;\r\n            }\r\n            x -= stepX;\r\n            i++;\r\n        }\r\n        return pages;\r\n    };\r\n    return PagesMatrix;\r\n}());\n\nvar BASE_PAGE = {\r\n    pageX: 0,\r\n    pageY: 0,\r\n    x: 0,\r\n    y: 0,\r\n};\n\nvar SlidePages = /** @class */ (function () {\r\n    function SlidePages(scroll, slideOptions) {\r\n        this.scroll = scroll;\r\n        this.slideOptions = slideOptions;\r\n        this.slideX = false;\r\n        this.slideY = false;\r\n        this.currentPage = extend({}, BASE_PAGE);\r\n    }\r\n    SlidePages.prototype.refresh = function () {\r\n        this.pagesMatrix = new PagesMatrix(this.scroll);\r\n        this.checkSlideLoop();\r\n        this.currentPage = this.getAdjustedCurrentPage();\r\n    };\r\n    SlidePages.prototype.getAdjustedCurrentPage = function () {\r\n        var _a = this.currentPage, pageX = _a.pageX, pageY = _a.pageY;\r\n        // page index should be handled\r\n        // because page counts may reduce\r\n        pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 1);\r\n        pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 1);\r\n        // loop scene should also be respected\r\n        // because clonedNode will cause pageLength increasing\r\n        if (this.loopX) {\r\n            pageX = Math.min(pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            pageY = Math.min(pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return { pageX: pageX, pageY: pageY, x: x, y: y };\r\n    };\r\n    SlidePages.prototype.setCurrentPage = function (newPage) {\r\n        this.currentPage = newPage;\r\n    };\r\n    SlidePages.prototype.getInternalPage = function (pageX, pageY) {\r\n        if (pageX >= this.pagesMatrix.pageLengthOfX) {\r\n            pageX = this.pagesMatrix.pageLengthOfX - 1;\r\n        }\r\n        else if (pageX < 0) {\r\n            pageX = 0;\r\n        }\r\n        if (pageY >= this.pagesMatrix.pageLengthOfY) {\r\n            pageY = this.pagesMatrix.pageLengthOfY - 1;\r\n        }\r\n        else if (pageY < 0) {\r\n            pageY = 0;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(pageX, pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getInitialPage = function (showFirstPage, firstInitialised) {\r\n        if (showFirstPage === void 0) { showFirstPage = false; }\r\n        if (firstInitialised === void 0) { firstInitialised = false; }\r\n        var _a = this.slideOptions, startPageXIndex = _a.startPageXIndex, startPageYIndex = _a.startPageYIndex;\r\n        var firstPageX = this.loopX ? 1 : 0;\r\n        var firstPageY = this.loopY ? 1 : 0;\r\n        var pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n        var pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        if (firstInitialised) {\r\n            pageX = this.loopX ? startPageXIndex + 1 : startPageXIndex;\r\n            pageY = this.loopY ? startPageYIndex + 1 : startPageYIndex;\r\n        }\r\n        else {\r\n            pageX = showFirstPage ? firstPageX : this.currentPage.pageX;\r\n            pageY = showFirstPage ? firstPageY : this.currentPage.pageY;\r\n        }\r\n        var _b = this.pagesMatrix.getPageStats(pageX, pageY), x = _b.x, y = _b.y;\r\n        return {\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.getExposedPage = function (page) {\r\n        var exposedPage = extend({}, page);\r\n        // only pageX or pageY need fix\r\n        if (this.loopX) {\r\n            exposedPage.pageX = this.fixedPage(exposedPage.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n        }\r\n        if (this.loopY) {\r\n            exposedPage.pageY = this.fixedPage(exposedPage.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n        }\r\n        return exposedPage;\r\n    };\r\n    SlidePages.prototype.getExposedPageByPageIndex = function (pageIndexX, pageIndexY) {\r\n        var page = {\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n        if (this.loopX) {\r\n            page.pageX = pageIndexX + 1;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = pageIndexY + 1;\r\n        }\r\n        var _a = this.pagesMatrix.getPageStats(page.pageX, page.pageY), x = _a.x, y = _a.y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageIndexX,\r\n            pageY: pageIndexY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getWillChangedPage = function (page) {\r\n        page = extend({}, page);\r\n        // Page need fix\r\n        if (this.loopX) {\r\n            page.pageX = this.fixedPage(page.pageX, this.pagesMatrix.pageLengthOfX - 2);\r\n            page.x = this.pagesMatrix.getPageStats(page.pageX + 1, 0).x;\r\n        }\r\n        if (this.loopY) {\r\n            page.pageY = this.fixedPage(page.pageY, this.pagesMatrix.pageLengthOfY - 2);\r\n            page.y = this.pagesMatrix.getPageStats(0, page.pageY + 1).y;\r\n        }\r\n        return page;\r\n    };\r\n    SlidePages.prototype.fixedPage = function (page, realPageLen) {\r\n        var pageIndex = [];\r\n        for (var i = 0; i < realPageLen; i++) {\r\n            pageIndex.push(i);\r\n        }\r\n        pageIndex.unshift(realPageLen - 1);\r\n        pageIndex.push(0);\r\n        return pageIndex[page];\r\n    };\r\n    SlidePages.prototype.getPageStats = function () {\r\n        return this.pagesMatrix.getPageStats(this.currentPage.pageX, this.currentPage.pageY);\r\n    };\r\n    SlidePages.prototype.getValidPageIndex = function (x, y) {\r\n        var lastX = this.pagesMatrix.pageLengthOfX - 1;\r\n        var lastY = this.pagesMatrix.pageLengthOfY - 1;\r\n        var firstX = 0;\r\n        var firstY = 0;\r\n        if (this.loopX) {\r\n            x += 1;\r\n            firstX = firstX + 1;\r\n            lastX = lastX - 1;\r\n        }\r\n        if (this.loopY) {\r\n            y += 1;\r\n            firstY = firstY + 1;\r\n            lastY = lastY - 1;\r\n        }\r\n        x = between(x, firstX, lastX);\r\n        y = between(y, firstY, lastY);\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.nextPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"positive\" /* Positive */);\r\n    };\r\n    SlidePages.prototype.prevPageIndex = function () {\r\n        return this.getPageIndexByDirection(\"negative\" /* Negative */);\r\n    };\r\n    SlidePages.prototype.getNearestPage = function (x, y) {\r\n        var pageIndex = this.pagesMatrix.getNearestPageIndex(x, y);\r\n        var pageX = pageIndex.pageX, pageY = pageIndex.pageY;\r\n        var newX = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var newY = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: newX,\r\n            y: newY,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.getPageByDirection = function (page, directionX, directionY) {\r\n        var pageX = page.pageX, pageY = page.pageY;\r\n        if (pageX === this.currentPage.pageX) {\r\n            pageX = between(pageX + directionX, 0, this.pagesMatrix.pageLengthOfX - 1);\r\n        }\r\n        if (pageY === this.currentPage.pageY) {\r\n            pageY = between(pageY + directionY, 0, this.pagesMatrix.pageLengthOfY - 1);\r\n        }\r\n        var x = this.pagesMatrix.getPageStats(pageX, 0).x;\r\n        var y = this.pagesMatrix.getPageStats(0, pageY).y;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            pageX: pageX,\r\n            pageY: pageY,\r\n        };\r\n    };\r\n    SlidePages.prototype.resetLoopPage = function () {\r\n        if (this.loopX) {\r\n            if (this.currentPage.pageX === 0) {\r\n                return {\r\n                    pageX: this.pagesMatrix.pageLengthOfX - 2,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n            if (this.currentPage.pageX === this.pagesMatrix.pageLengthOfX - 1) {\r\n                return {\r\n                    pageX: 1,\r\n                    pageY: this.currentPage.pageY,\r\n                };\r\n            }\r\n        }\r\n        if (this.loopY) {\r\n            if (this.currentPage.pageY === 0) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: this.pagesMatrix.pageLengthOfY - 2,\r\n                };\r\n            }\r\n            if (this.currentPage.pageY === this.pagesMatrix.pageLengthOfY - 1) {\r\n                return {\r\n                    pageX: this.currentPage.pageX,\r\n                    pageY: 1,\r\n                };\r\n            }\r\n        }\r\n    };\r\n    SlidePages.prototype.getPageIndexByDirection = function (direction) {\r\n        var x = this.currentPage.pageX;\r\n        var y = this.currentPage.pageY;\r\n        if (this.slideX) {\r\n            x = direction === \"negative\" /* Negative */ ? x - 1 : x + 1;\r\n        }\r\n        if (this.slideY) {\r\n            y = direction === \"negative\" /* Negative */ ? y - 1 : y + 1;\r\n        }\r\n        return {\r\n            pageX: x,\r\n            pageY: y,\r\n        };\r\n    };\r\n    SlidePages.prototype.checkSlideLoop = function () {\r\n        this.wannaLoop = this.slideOptions.loop;\r\n        if (this.pagesMatrix.pageLengthOfX > 1) {\r\n            this.slideX = true;\r\n        }\r\n        else {\r\n            this.slideX = false;\r\n        }\r\n        if (this.pagesMatrix.pages[0] && this.pagesMatrix.pageLengthOfY > 1) {\r\n            this.slideY = true;\r\n        }\r\n        else {\r\n            this.slideY = false;\r\n        }\r\n        this.loopX = this.wannaLoop && this.slideX;\r\n        this.loopY = this.wannaLoop && this.slideY;\r\n        if (this.slideX && this.slideY) {\r\n            warn('slide does not support two direction at the same time.');\r\n        }\r\n    };\r\n    return SlidePages;\r\n}());\n\nvar sourcePrefix$4 = 'plugins.slide';\r\nvar propertiesMap$4 = [\r\n    {\r\n        key: 'next',\r\n        name: 'next',\r\n    },\r\n    {\r\n        key: 'prev',\r\n        name: 'prev',\r\n    },\r\n    {\r\n        key: 'goToPage',\r\n        name: 'goToPage',\r\n    },\r\n    {\r\n        key: 'getCurrentPage',\r\n        name: 'getCurrentPage',\r\n    },\r\n    {\r\n        key: 'startPlay',\r\n        name: 'startPlay',\r\n    },\r\n    {\r\n        key: 'pausePlay',\r\n        name: 'pausePlay',\r\n    },\r\n];\r\nvar propertiesConfig$4 = propertiesMap$4.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$4 + \".\" + item.name,\r\n    };\r\n});\n\nvar samePage = function (p1, p2) {\r\n    return p1.pageX === p2.pageX && p1.pageY === p2.pageY;\r\n};\r\nvar Slide = /** @class */ (function () {\r\n    function Slide(scroll) {\r\n        this.scroll = scroll;\r\n        this.cachedClonedPageDOM = [];\r\n        this.resetLooping = false;\r\n        this.autoplayTimer = 0;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.init();\r\n    }\r\n    Slide.prototype.satisfyInitialization = function () {\r\n        if (this.scroll.scroller.content.children.length <= 0) {\r\n            warn(\"slide need at least one slide page to be initialised.\" +\r\n                \"please check your DOM layout.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Slide.prototype.init = function () {\r\n        this.willChangeToPage = extend({}, BASE_PAGE);\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.createPages();\r\n    };\r\n    Slide.prototype.createPages = function () {\r\n        this.pages = new SlidePages(this.scroll, this.options);\r\n    };\r\n    Slide.prototype.handleBScroll = function () {\r\n        this.scroll.registerType(['slideWillChange', 'slidePageChanged']);\r\n        this.scroll.proxy(propertiesConfig$4);\r\n    };\r\n    Slide.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.slide === true\r\n            ? {}\r\n            : this.scroll.options.slide);\r\n        var defaultOptions = {\r\n            loop: true,\r\n            threshold: 0.1,\r\n            speed: 400,\r\n            easing: ease.bounce,\r\n            listenFlick: true,\r\n            autoplay: true,\r\n            interval: 3000,\r\n            startPageXIndex: 0,\r\n            startPageYIndex: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Slide.prototype.handleLoop = function (prevSlideContent) {\r\n        var loop = this.options.loop;\r\n        var slideContent = this.scroll.scroller.content;\r\n        var currentSlidePagesLength = slideContent.children.length;\r\n        // only should respect loop scene\r\n        if (loop) {\r\n            if (slideContent !== prevSlideContent) {\r\n                this.resetLoopChangedStatus();\r\n                this.removeClonedSlidePage(prevSlideContent);\r\n                currentSlidePagesLength > 1 &&\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n            }\r\n            else {\r\n                // many pages reduce to one page\r\n                if (currentSlidePagesLength === 3 && this.initialised) {\r\n                    this.removeClonedSlidePage(slideContent);\r\n                    this.moreToOnePageInLoop = true;\r\n                    this.oneToMorePagesInLoop = false;\r\n                }\r\n                else if (currentSlidePagesLength > 1) {\r\n                    // one page increases to many page\r\n                    if (this.initialised && this.cachedClonedPageDOM.length === 0) {\r\n                        this.oneToMorePagesInLoop = true;\r\n                        this.moreToOnePageInLoop = false;\r\n                    }\r\n                    else {\r\n                        this.removeClonedSlidePage(slideContent);\r\n                        this.resetLoopChangedStatus();\r\n                    }\r\n                    this.cloneFirstAndLastSlidePage(slideContent);\r\n                }\r\n                else {\r\n                    this.resetLoopChangedStatus();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Slide.prototype.resetLoopChangedStatus = function () {\r\n        this.moreToOnePageInLoop = false;\r\n        this.oneToMorePagesInLoop = false;\r\n    };\r\n    Slide.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        var scrollerHooks = this.scroll.scroller.hooks;\r\n        var listenFlick = this.options.listenFlick;\r\n        this.prevContent = this.scroll.scroller.content;\r\n        this.hooksFn = [];\r\n        // scroll\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.beforeScrollStart, this.pausePlay);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.modifyCurrentPage);\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scrollEnd, this.startPlay);\r\n        // for mousewheel event\r\n        if (this.scroll.eventTypes.mousewheelMove) {\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelMove, function () {\r\n                // prevent default action of mousewheelMove\r\n                return true;\r\n            });\r\n            this.registerHooks(this.scroll, this.scroll.eventTypes.mousewheelEnd, function (delta) {\r\n                if (delta.directionX === 1 /* Positive */ ||\r\n                    delta.directionY === 1 /* Positive */) {\r\n                    _this.next();\r\n                }\r\n                if (delta.directionX === -1 /* Negative */ ||\r\n                    delta.directionY === -1 /* Negative */) {\r\n                    _this.prev();\r\n                }\r\n            });\r\n        }\r\n        // scrollHooks\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refreshHandler);\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.destroy, this.destroy);\r\n        // scroller\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.beforeRefresh, function () {\r\n            _this.handleLoop(_this.prevContent);\r\n            _this.setSlideInlineStyle();\r\n        });\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.momentum, this.modifyScrollMetaHandler);\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.scroll, this.scrollHandler);\r\n        // a click operation will clearTimer, so restart a new one\r\n        this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.checkClick, this.startPlay);\r\n        if (listenFlick) {\r\n            this.registerHooks(scrollerHooks, scrollerHooks.eventTypes.flick, this.flickHandler);\r\n        }\r\n    };\r\n    Slide.prototype.startPlay = function () {\r\n        var _this = this;\r\n        var _a = this.options, interval = _a.interval, autoplay = _a.autoplay;\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n            this.autoplayTimer = window.setTimeout(function () {\r\n                _this.next();\r\n            }, interval);\r\n        }\r\n    };\r\n    Slide.prototype.pausePlay = function () {\r\n        if (this.options.autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n    };\r\n    Slide.prototype.setSlideInlineStyle = function () {\r\n        var styleConfigurations = [\r\n            {\r\n                direction: 'scrollX',\r\n                sizeType: 'offsetWidth',\r\n                styleType: 'width',\r\n            },\r\n            {\r\n                direction: 'scrollY',\r\n                sizeType: 'offsetHeight',\r\n                styleType: 'height',\r\n            },\r\n        ];\r\n        var _a = this.scroll.scroller, slideContent = _a.content, slideWrapper = _a.wrapper;\r\n        var scrollOptions = this.scroll.options;\r\n        styleConfigurations.forEach(function (_a) {\r\n            var direction = _a.direction, sizeType = _a.sizeType, styleType = _a.styleType;\r\n            // wanna scroll in this direction\r\n            if (scrollOptions[direction]) {\r\n                var size = slideWrapper[sizeType];\r\n                var children = slideContent.children;\r\n                var length_1 = children.length;\r\n                for (var i = 0; i < length_1; i++) {\r\n                    var slidePageDOM = children[i];\r\n                    slidePageDOM.style[styleType] = size + 'px';\r\n                }\r\n                slideContent.style[styleType] = size * length_1 + 'px';\r\n            }\r\n        });\r\n    };\r\n    Slide.prototype.next = function (time, easing) {\r\n        var _a = this.pages.nextPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.prev = function (time, easing) {\r\n        var _a = this.pages.prevPageIndex(), pageX = _a.pageX, pageY = _a.pageY;\r\n        this.goTo(pageX, pageY, time, easing);\r\n    };\r\n    Slide.prototype.goToPage = function (pageX, pageY, time, easing) {\r\n        var pageIndex = this.pages.getValidPageIndex(pageX, pageY);\r\n        this.goTo(pageIndex.pageX, pageIndex.pageY, time, easing);\r\n    };\r\n    Slide.prototype.getCurrentPage = function () {\r\n        return this.exposedPage || this.pages.getInitialPage(false, true);\r\n    };\r\n    Slide.prototype.setCurrentPage = function (page) {\r\n        this.pages.setCurrentPage(page);\r\n        this.exposedPage = this.pages.getExposedPage(page);\r\n    };\r\n    Slide.prototype.nearestPage = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var maxScrollPosX = scrollBehaviorX.maxScrollPos, minScrollPosX = scrollBehaviorX.minScrollPos;\r\n        var maxScrollPosY = scrollBehaviorY.maxScrollPos, minScrollPosY = scrollBehaviorY.minScrollPos;\r\n        return this.pages.getNearestPage(between(x, maxScrollPosX, minScrollPosX), between(y, maxScrollPosY, minScrollPosY));\r\n    };\r\n    Slide.prototype.satisfyThreshold = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var satisfied = true;\r\n        if (Math.abs(x - scrollBehaviorX.absStartPos) <= this.thresholdX &&\r\n            Math.abs(y - scrollBehaviorY.absStartPos) <= this.thresholdY) {\r\n            satisfied = false;\r\n        }\r\n        return satisfied;\r\n    };\r\n    Slide.prototype.refreshHandler = function (content) {\r\n        var _this = this;\r\n        if (!this.satisfyInitialization()) {\r\n            return;\r\n        }\r\n        this.pages.refresh();\r\n        this.computeThreshold();\r\n        var contentChanged = (this.contentChanged = this.prevContent !== content);\r\n        if (contentChanged) {\r\n            this.prevContent = content;\r\n        }\r\n        var initPage = this.pages.getInitialPage(this.oneToMorePagesInLoop || this.moreToOnePageInLoop, contentChanged || !this.initialised);\r\n        if (this.initialised) {\r\n            this.goTo(initPage.pageX, initPage.pageY, 0);\r\n        }\r\n        else {\r\n            this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n                _this.initialised = true;\r\n                position.x = initPage.x;\r\n                position.y = initPage.y;\r\n            });\r\n        }\r\n        this.startPlay();\r\n    };\r\n    Slide.prototype.computeThreshold = function () {\r\n        var threshold = this.options.threshold;\r\n        // Integer\r\n        if (threshold % 1 === 0) {\r\n            this.thresholdX = threshold;\r\n            this.thresholdY = threshold;\r\n        }\r\n        else {\r\n            // decimal\r\n            var _a = this.pages.getPageStats(), width = _a.width, height = _a.height;\r\n            this.thresholdX = Math.round(width * threshold);\r\n            this.thresholdY = Math.round(height * threshold);\r\n        }\r\n    };\r\n    Slide.prototype.cloneFirstAndLastSlidePage = function (slideContent) {\r\n        var children = slideContent.children;\r\n        var preprendDOM = children[children.length - 1].cloneNode(true);\r\n        var appendDOM = children[0].cloneNode(true);\r\n        prepend(preprendDOM, slideContent);\r\n        slideContent.appendChild(appendDOM);\r\n        this.cachedClonedPageDOM = [preprendDOM, appendDOM];\r\n    };\r\n    Slide.prototype.removeClonedSlidePage = function (slideContent) {\r\n        // maybe slideContent has removed from DOM Tree\r\n        var slidePages = (slideContent && slideContent.children) || [];\r\n        if (slidePages.length) {\r\n            this.cachedClonedPageDOM.forEach(function (el) {\r\n                removeChild(slideContent, el);\r\n            });\r\n        }\r\n        this.cachedClonedPageDOM = [];\r\n    };\r\n    Slide.prototype.modifyCurrentPage = function (point) {\r\n        var _a = this.getCurrentPage(), prevExposedPageX = _a.pageX, prevExposedPageY = _a.pageY;\r\n        var newPage = this.nearestPage(point.x, point.y);\r\n        this.setCurrentPage(newPage);\r\n        /* istanbul ignore if */\r\n        if (this.contentChanged) {\r\n            this.contentChanged = false;\r\n            return true;\r\n        }\r\n        var _b = this.getCurrentPage(), currentExposedPageX = _b.pageX, currentExposedPageY = _b.pageY;\r\n        this.pageWillChangeTo(newPage);\r\n        // loop is true, and one page becomes many pages when call bs.refresh\r\n        if (this.oneToMorePagesInLoop) {\r\n            this.oneToMorePagesInLoop = false;\r\n            return true;\r\n        }\r\n        // loop is true, and many page becomes one page when call bs.refresh\r\n        // if prevPage > 0, dispatch slidePageChanged and scrollEnd events\r\n        /* istanbul ignore if */\r\n        if (this.moreToOnePageInLoop &&\r\n            prevExposedPageX === 0 &&\r\n            prevExposedPageY === 0) {\r\n            this.moreToOnePageInLoop = false;\r\n            return true;\r\n        }\r\n        if (prevExposedPageX !== currentExposedPageX ||\r\n            prevExposedPageY !== currentExposedPageY) {\r\n            // only trust pageX & pageY when loop is true\r\n            var page = this.pages.getExposedPageByPageIndex(currentExposedPageX, currentExposedPageY);\r\n            this.scroll.trigger(this.scroll.eventTypes.slidePageChanged, page);\r\n        }\r\n        // triggered by resetLoop\r\n        if (this.resetLooping) {\r\n            this.resetLooping = false;\r\n            return;\r\n        }\r\n        var changePage = this.pages.resetLoopPage();\r\n        if (changePage) {\r\n            this.resetLooping = true;\r\n            this.goTo(changePage.pageX, changePage.pageY, 0);\r\n            // stop user's scrollEnd\r\n            // since it is a seamless scroll\r\n            return true;\r\n        }\r\n    };\r\n    Slide.prototype.goTo = function (pageX, pageY, time, easing) {\r\n        var newPage = this.pages.getInternalPage(pageX, pageY);\r\n        var scrollEasing = easing || this.options.easing || ease.bounce;\r\n        var x = newPage.x, y = newPage.y;\r\n        var deltaX = x - this.scroll.scroller.scrollBehaviorX.currentPos;\r\n        var deltaY = y - this.scroll.scroller.scrollBehaviorY.currentPos;\r\n        /* istanbul ignore if */\r\n        if (!deltaX && !deltaY) {\r\n            this.scroll.scroller.togglePointerEvents(true);\r\n            return;\r\n        }\r\n        time = time === undefined ? this.getEaseTime(deltaX, deltaY) : time;\r\n        this.scroll.scroller.scrollTo(x, y, time, scrollEasing);\r\n    };\r\n    Slide.prototype.flickHandler = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var currentPosX = scrollBehaviorX.currentPos, startPosX = scrollBehaviorX.startPos, directionX = scrollBehaviorX.direction;\r\n        var currentPosY = scrollBehaviorY.currentPos, startPosY = scrollBehaviorY.startPos, directionY = scrollBehaviorY.direction;\r\n        var _b = this.pages.currentPage, pageX = _b.pageX, pageY = _b.pageY;\r\n        var time = this.getEaseTime(currentPosX - startPosX, currentPosY - startPosY);\r\n        this.goTo(pageX + directionX, pageY + directionY, time);\r\n    };\r\n    Slide.prototype.getEaseTime = function (deltaX, deltaY) {\r\n        return (this.options.speed ||\r\n            Math.max(Math.max(Math.min(Math.abs(deltaX), 1000), Math.min(Math.abs(deltaY), 1000)), 300));\r\n    };\r\n    Slide.prototype.modifyScrollMetaHandler = function (scrollMeta) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, animater = _a.animater;\r\n        var newX = scrollMeta.newX;\r\n        var newY = scrollMeta.newY;\r\n        var newPage = this.satisfyThreshold(newX, newY) || animater.forceStopped\r\n            ? this.pages.getPageByDirection(this.nearestPage(newX, newY), scrollBehaviorX.direction, scrollBehaviorY.direction)\r\n            : this.pages.currentPage;\r\n        scrollMeta.time = this.getEaseTime(scrollMeta.newX - newPage.x, scrollMeta.newY - newPage.y);\r\n        scrollMeta.newX = newPage.x;\r\n        scrollMeta.newY = newPage.y;\r\n        scrollMeta.easing = this.options.easing || ease.bounce;\r\n    };\r\n    Slide.prototype.scrollHandler = function (_a) {\r\n        var x = _a.x, y = _a.y;\r\n        if (this.satisfyThreshold(x, y)) {\r\n            var newPage = this.nearestPage(x, y);\r\n            this.pageWillChangeTo(newPage);\r\n        }\r\n    };\r\n    Slide.prototype.pageWillChangeTo = function (newPage) {\r\n        var changeToPage = this.pages.getWillChangedPage(newPage);\r\n        if (!samePage(this.willChangeToPage, changeToPage)) {\r\n            this.willChangeToPage = changeToPage;\r\n            this.scroll.trigger(this.scroll.eventTypes.slideWillChange, this.willChangeToPage);\r\n        }\r\n    };\r\n    Slide.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Slide.prototype.destroy = function () {\r\n        var slideContent = this.scroll.scroller.content;\r\n        var _a = this.options, loop = _a.loop, autoplay = _a.autoplay;\r\n        if (loop) {\r\n            this.removeClonedSlidePage(slideContent);\r\n        }\r\n        if (autoplay) {\r\n            clearTimeout(this.autoplayTimer);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            if (hooks.eventTypes[hooksName]) {\r\n                hooks.off(hooksName, handlerFn);\r\n            }\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Slide.pluginName = 'slide';\r\n    return Slide;\r\n}());\n\nvar sourcePrefix$3 = 'plugins.wheel';\r\nvar propertiesMap$3 = [\r\n    {\r\n        key: 'wheelTo',\r\n        name: 'wheelTo',\r\n    },\r\n    {\r\n        key: 'getSelectedIndex',\r\n        name: 'getSelectedIndex',\r\n    },\r\n    {\r\n        key: 'restorePosition',\r\n        name: 'restorePosition',\r\n    },\r\n];\r\nvar propertiesConfig$3 = propertiesMap$3.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$3 + \".\" + item.name,\r\n    };\r\n});\n\nvar WHEEL_INDEX_CHANGED_EVENT_NAME = 'wheelIndexChanged';\r\nvar CONSTANTS = {\r\n    rate: 4\r\n};\r\nvar Wheel = /** @class */ (function () {\r\n    function Wheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.init();\r\n    }\r\n    Wheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        // init boundary for Wheel\r\n        this.refreshBoundary();\r\n        this.setSelectedIndex(this.options.selectedIndex);\r\n    };\r\n    Wheel.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$3);\r\n        this.scroll.registerType([WHEEL_INDEX_CHANGED_EVENT_NAME]);\r\n    };\r\n    Wheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.wheel === true\r\n            ? {}\r\n            : this.scroll.options.wheel);\r\n        var defaultOptions = {\r\n            wheelWrapperClass: 'wheel-scroll',\r\n            wheelItemClass: 'wheel-item',\r\n            rotate: 25,\r\n            adjustTime: 400,\r\n            selectedIndex: 0,\r\n            wheelDisabledItemClass: 'wheel-disabled-item'\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    Wheel.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        var actionsHandler = scroller.actionsHandler, scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY, animater = scroller.animater;\r\n        var prevContent = scroller.content;\r\n        // BScroll\r\n        scroll.on(scroll.eventTypes.scrollEnd, function (position) {\r\n            var index = _this.findNearestValidWheel(position.y).index;\r\n            if (scroller.animater.forceStopped && !_this.isAdjustingPosition) {\r\n                _this.target = _this.items[index];\r\n                // since stopped from an animation.\r\n                // prevent user's scrollEnd callback triggered twice\r\n                return true;\r\n            }\r\n            else {\r\n                _this.setSelectedIndex(index);\r\n                if (_this.isAdjustingPosition) {\r\n                    _this.isAdjustingPosition = false;\r\n                }\r\n            }\r\n        });\r\n        // BScroll.hooks\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh, function (content) {\r\n            if (content !== prevContent) {\r\n                prevContent = content;\r\n                _this.setSelectedIndex(_this.options.selectedIndex, true);\r\n            }\r\n            // rotate all wheel-items\r\n            // because position may not change\r\n            _this.rotateX(_this.scroll.y);\r\n            // check we are stop at a disable item or not\r\n            _this.wheelTo(_this.selectedIndex, 0);\r\n        });\r\n        this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo, function (position) {\r\n            // selectedIndex has higher priority than bs.options.startY\r\n            position.x = 0;\r\n            position.y = -(_this.selectedIndex * _this.itemHeight);\r\n        });\r\n        // Scroller\r\n        scroller.hooks.on(scroller.hooks.eventTypes.checkClick, function () {\r\n            var index = HTMLCollectionToArray(_this.items).indexOf(_this.target);\r\n            if (index === -1)\r\n                return true;\r\n            _this.wheelTo(index, _this.options.adjustTime, ease.swipe);\r\n            return true;\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollTo, function (endPoint) {\r\n            endPoint.y = _this.findNearestValidWheel(endPoint.y).y;\r\n        });\r\n        // when content is scrolling\r\n        // click wheel-item DOM repeatedly and crazily will cause scrollEnd not triggered\r\n        // so reset forceStopped\r\n        scroller.hooks.on(scroller.hooks.eventTypes.minDistanceScroll, function () {\r\n            var animater = scroller.animater;\r\n            if (animater.forceStopped === true) {\r\n                animater.forceStopped = false;\r\n            }\r\n        });\r\n        scroller.hooks.on(scroller.hooks.eventTypes.scrollToElement, function (el, pos) {\r\n            if (!hasClass(el, _this.options.wheelItemClass)) {\r\n                return true;\r\n            }\r\n            else {\r\n                pos.top = _this.findNearestValidWheel(pos.top).y;\r\n            }\r\n        });\r\n        // ActionsHandler\r\n        actionsHandler.hooks.on(actionsHandler.hooks.eventTypes.beforeStart, function (e) {\r\n            _this.target = e.target;\r\n        });\r\n        // ScrollBehaviorX\r\n        // Wheel has no x direction now\r\n        scrollBehaviorX.hooks.on(scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            boundary.maxScrollPos = 0;\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        // ScrollBehaviorY\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            _this.items = _this.scroll.scroller.content.children;\r\n            _this.checkWheelAllDisabled();\r\n            _this.itemHeight =\r\n                _this.items.length > 0\r\n                    ? scrollBehaviorY.contentSize / _this.items.length\r\n                    : 0;\r\n            boundary.maxScrollPos = -_this.itemHeight * (_this.items.length - 1);\r\n            boundary.minScrollPos = 0;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.momentum, function (momentumInfo) {\r\n            momentumInfo.rate = CONSTANTS.rate;\r\n            momentumInfo.destination = _this.findNearestValidWheel(momentumInfo.destination).y;\r\n        });\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.end, function (momentumInfo) {\r\n            var validWheel = _this.findNearestValidWheel(scrollBehaviorY.currentPos);\r\n            momentumInfo.destination = validWheel.y;\r\n            momentumInfo.duration = _this.options.adjustTime;\r\n        });\r\n        // Animater\r\n        animater.hooks.on(animater.hooks.eventTypes.time, function (time) {\r\n            _this.transitionDuration(time);\r\n        });\r\n        animater.hooks.on(animater.hooks.eventTypes.timeFunction, function (easing) {\r\n            _this.timeFunction(easing);\r\n        });\r\n        // bs.stop() to make wheel stop at a correct position when pending\r\n        animater.hooks.on(animater.hooks.eventTypes.callStop, function () {\r\n            var index = _this.findNearestValidWheel(_this.scroll.y).index;\r\n            _this.isAdjustingPosition = true;\r\n            _this.wheelTo(index, 0);\r\n        });\r\n        // Translater\r\n        animater.translater.hooks.on(animater.translater.hooks.eventTypes.translate, function (endPoint) {\r\n            _this.rotateX(endPoint.y);\r\n        });\r\n    };\r\n    Wheel.prototype.refreshBoundary = function () {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY, content = _a.content;\r\n        scrollBehaviorX.refresh(content);\r\n        scrollBehaviorY.refresh(content);\r\n    };\r\n    Wheel.prototype.setSelectedIndex = function (index, contentChanged) {\r\n        if (contentChanged === void 0) { contentChanged = false; }\r\n        var prevSelectedIndex = this.selectedIndex;\r\n        this.selectedIndex = index;\r\n        // if content DOM changed, should not trigger event\r\n        if (prevSelectedIndex !== index && !contentChanged) {\r\n            this.scroll.trigger(WHEEL_INDEX_CHANGED_EVENT_NAME, index);\r\n        }\r\n    };\r\n    Wheel.prototype.getSelectedIndex = function () {\r\n        return this.selectedIndex;\r\n    };\r\n    Wheel.prototype.wheelTo = function (index, time, ease) {\r\n        if (index === void 0) { index = 0; }\r\n        if (time === void 0) { time = 0; }\r\n        var y = -index * this.itemHeight;\r\n        this.scroll.scrollTo(0, y, time, ease);\r\n    };\r\n    Wheel.prototype.restorePosition = function () {\r\n        // bs is scrolling\r\n        var isPending = this.scroll.pending;\r\n        if (isPending) {\r\n            var selectedIndex = this.getSelectedIndex();\r\n            this.scroll.scroller.animater.clearTimer();\r\n            this.wheelTo(selectedIndex, 0);\r\n        }\r\n    };\r\n    Wheel.prototype.transitionDuration = function (time) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionDuration] =\r\n                time + 'ms';\r\n        }\r\n    };\r\n    Wheel.prototype.timeFunction = function (easing) {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            this.items[i].style[style.transitionTimingFunction] = easing;\r\n        }\r\n    };\r\n    Wheel.prototype.rotateX = function (y) {\r\n        var _a = this.options.rotate, rotate = _a === void 0 ? 25 : _a;\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var deg = rotate * (y / this.itemHeight + i);\r\n            // Too small value is invalid in some phones, issue 1026\r\n            var SafeDeg = deg.toFixed(3);\r\n            this.items[i].style[style.transform] = \"rotateX(\" + SafeDeg + \"deg)\";\r\n        }\r\n    };\r\n    Wheel.prototype.findNearestValidWheel = function (y) {\r\n        y = y > 0 ? 0 : y < this.scroll.maxScrollY ? this.scroll.maxScrollY : y;\r\n        var currentIndex = Math.abs(Math.round(-y / this.itemHeight));\r\n        var cacheIndex = currentIndex;\r\n        var items = this.items;\r\n        var wheelDisabledItemClassName = this.options\r\n            .wheelDisabledItemClass;\r\n        // implement web native select element\r\n        // first, check whether there is a enable item whose index is smaller than currentIndex\r\n        // then, check whether there is a enable item whose index is bigger than currentIndex\r\n        // otherwise, there are all disabled items, just keep currentIndex unchange\r\n        while (currentIndex >= 0) {\r\n            if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                break;\r\n            }\r\n            currentIndex--;\r\n        }\r\n        if (currentIndex < 0) {\r\n            currentIndex = cacheIndex;\r\n            while (currentIndex <= items.length - 1) {\r\n                if (!hasClass(items[currentIndex], wheelDisabledItemClassName)) {\r\n                    break;\r\n                }\r\n                currentIndex++;\r\n            }\r\n        }\r\n        // keep it unchange when all the items are disabled\r\n        if (currentIndex === items.length) {\r\n            currentIndex = cacheIndex;\r\n        }\r\n        // when all the items are disabled, selectedIndex should always be -1\r\n        return {\r\n            index: this.wheelItemsAllDisabled ? -1 : currentIndex,\r\n            y: -currentIndex * this.itemHeight\r\n        };\r\n    };\r\n    Wheel.prototype.checkWheelAllDisabled = function () {\r\n        var wheelDisabledItemClassName = this.options.wheelDisabledItemClass;\r\n        var items = this.items;\r\n        this.wheelItemsAllDisabled = true;\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (!hasClass(items[i], wheelDisabledItemClassName)) {\r\n                this.wheelItemsAllDisabled = false;\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    Wheel.pluginName = 'wheel';\r\n    return Wheel;\r\n}());\n\nvar sourcePrefix$2 = 'plugins.zoom';\r\nvar propertiesMap$2 = [\r\n    {\r\n        key: 'zoomTo',\r\n        name: 'zoomTo'\r\n    }\r\n];\r\nvar propertiesConfig$2 = propertiesMap$2.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$2 + \".\" + item.name\r\n    };\r\n});\n\nvar TWO_FINGERS = 2;\r\nvar RAW_SCALE = 1;\r\nvar Zoom = /** @class */ (function () {\r\n    function Zoom(scroll) {\r\n        this.scroll = scroll;\r\n        this.scale = RAW_SCALE;\r\n        this.prevScale = 1;\r\n        this.init();\r\n    }\r\n    Zoom.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.tryInitialZoomTo(this.zoomOpt);\r\n    };\r\n    Zoom.prototype.zoomTo = function (scale, x, y, bounceTime) {\r\n        var _a = this.resolveOrigin(x, y), originX = _a.originX, originY = _a.originY;\r\n        var origin = {\r\n            x: originX,\r\n            y: originY,\r\n            baseScale: this.scale,\r\n        };\r\n        this._doZoomTo(scale, origin, bounceTime, true);\r\n    };\r\n    Zoom.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig$2);\r\n        this.scroll.registerType([\r\n            'beforeZoomStart',\r\n            'zoomStart',\r\n            'zooming',\r\n            'zoomEnd',\r\n        ]);\r\n    };\r\n    Zoom.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.zoom === true\r\n            ? {}\r\n            : this.scroll.options.zoom);\r\n        var defaultOptions = {\r\n            start: 1,\r\n            min: 1,\r\n            max: 4,\r\n            initialOrigin: [0, 0],\r\n            minimalZoomDistance: 5,\r\n            bounceTime: 800,\r\n        };\r\n        this.zoomOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    Zoom.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scroller = this.scroll.scroller;\r\n        this.wrapper = this.scroll.scroller.wrapper;\r\n        this.setTransformOrigin(this.scroll.scroller.content);\r\n        var scrollBehaviorX = scroller.scrollBehaviorX;\r\n        var scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.hooksFn = [];\r\n        // BScroll\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.contentChanged, function (content) {\r\n            _this.setTransformOrigin(content);\r\n            _this.scale = RAW_SCALE;\r\n            _this.tryInitialZoomTo(_this.zoomOpt);\r\n        });\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.beforeInitialScrollTo, function () {\r\n            // if perform a zoom action, we should prevent initial scroll when initialised\r\n            if (_this.zoomOpt.start !== RAW_SCALE) {\r\n                return true;\r\n            }\r\n        });\r\n        // enlarge boundary\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorX.contentSize = Math.floor(contentSize.width * _this.scale);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.beforeComputeBoundary, function () {\r\n            // content may change, don't cache it's size\r\n            var contentSize = getRect(_this.scroll.scroller.content);\r\n            scrollBehaviorY.contentSize = Math.floor(contentSize.height * _this.scale);\r\n        });\r\n        // touch event\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.start, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomStart(e);\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeMove, function (e) {\r\n            var numberOfFingers = (e.touches && e.touches.length) || 0;\r\n            _this.fingersOperation(numberOfFingers);\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoom(e);\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.actions.hooks, scroller.actions.hooks.eventTypes.beforeEnd, function (e) {\r\n            var numberOfFingers = _this.fingersOperation();\r\n            if (numberOfFingers === TWO_FINGERS) {\r\n                _this.zoomEnd();\r\n                return true;\r\n            }\r\n        });\r\n        this.registerHooks(scroller.translater.hooks, scroller.translater.hooks.eventTypes.beforeTranslate, function (transformStyle, point) {\r\n            var scale = point.scale ? point.scale : _this.prevScale;\r\n            _this.prevScale = scale;\r\n            transformStyle.push(\"scale(\" + scale + \")\");\r\n        });\r\n        this.registerHooks(scroller.hooks, scroller.hooks.eventTypes.scrollEnd, function () {\r\n            if (_this.fingersOperation() === TWO_FINGERS) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zoomEnd, {\r\n                    scale: _this.scale,\r\n                });\r\n            }\r\n        });\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    Zoom.prototype.setTransformOrigin = function (content) {\r\n        content.style[style.transformOrigin] = '0 0';\r\n    };\r\n    Zoom.prototype.tryInitialZoomTo = function (options) {\r\n        var start = options.start, initialOrigin = options.initialOrigin;\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        if (start !== RAW_SCALE) {\r\n            // Movable plugin may wanna modify minScrollPos or maxScrollPos\r\n            // so we force Movable to caculate them\r\n            this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n            this.zoomTo(start, initialOrigin[0], initialOrigin[1], 0);\r\n        }\r\n    };\r\n    // getter or setter operation\r\n    Zoom.prototype.fingersOperation = function (amounts) {\r\n        if (typeof amounts === 'number') {\r\n            this.numberOfFingers = amounts;\r\n        }\r\n        else {\r\n            return this.numberOfFingers;\r\n        }\r\n    };\r\n    Zoom.prototype._doZoomTo = function (scale, origin, time, useCurrentPos) {\r\n        var _this = this;\r\n        if (time === void 0) { time = this.zoomOpt.bounceTime; }\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var fromScale = this.scale;\r\n        var toScale = between(scale, min, max);\r\n        (function () {\r\n            if (time === 0) {\r\n                _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                    scale: toScale,\r\n                });\r\n                return;\r\n            }\r\n            if (time > 0) {\r\n                var timer_1;\r\n                var startTime_1 = getNow();\r\n                var endTime_1 = startTime_1 + time;\r\n                var scheduler_1 = function () {\r\n                    var now = getNow();\r\n                    if (now >= endTime_1) {\r\n                        _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                            scale: toScale,\r\n                        });\r\n                        cancelAnimationFrame(timer_1);\r\n                        return;\r\n                    }\r\n                    var ratio = ease.bounce.fn((now - startTime_1) / time);\r\n                    var currentScale = ratio * (toScale - fromScale) + fromScale;\r\n                    _this.scroll.trigger(_this.scroll.eventTypes.zooming, {\r\n                        scale: currentScale,\r\n                    });\r\n                    timer_1 = requestAnimationFrame(scheduler_1);\r\n                };\r\n                // start scheduler job\r\n                scheduler_1();\r\n            }\r\n        })();\r\n        // suppose you are zooming by two fingers\r\n        this.fingersOperation(2);\r\n        this._zoomTo(toScale, fromScale, origin, time, useCurrentPos);\r\n    };\r\n    Zoom.prototype._zoomTo = function (toScale, fromScale, origin, time, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var ratio = toScale / origin.baseScale;\r\n        this.setScale(toScale);\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        // position is restrained in boundary\r\n        var newX = this.getNewPos(origin.x, ratio, scrollBehaviorX, true, useCurrentPos);\r\n        var newY = this.getNewPos(origin.y, ratio, scrollBehaviorY, true, useCurrentPos);\r\n        if (scrollBehaviorX.currentPos !== Math.round(newX) ||\r\n            scrollBehaviorY.currentPos !== Math.round(newY) ||\r\n            toScale !== fromScale) {\r\n            scroller.scrollTo(newX, newY, time, ease.bounce, {\r\n                start: {\r\n                    scale: fromScale,\r\n                },\r\n                end: {\r\n                    scale: toScale,\r\n                },\r\n            });\r\n        }\r\n    };\r\n    Zoom.prototype.resolveOrigin = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.contentSize;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.contentSize;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.contentSize\r\n                    : scrollBehaviorY.contentSize;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            originX: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            originY: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Zoom.prototype.zoomStart = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        this.startDistance = this.getFingerDistance(e);\r\n        this.startScale = this.scale;\r\n        var _a = offsetToBody(this.wrapper), left = _a.left, top = _a.top;\r\n        this.origin = {\r\n            x: Math.abs(firstFinger.pageX + secondFinger.pageX) / 2 +\r\n                left -\r\n                this.scroll.x,\r\n            y: Math.abs(firstFinger.pageY + secondFinger.pageY) / 2 +\r\n                top -\r\n                this.scroll.y,\r\n            baseScale: this.startScale,\r\n        };\r\n        this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart);\r\n    };\r\n    Zoom.prototype.zoom = function (e) {\r\n        var currentDistance = this.getFingerDistance(e);\r\n        // at least minimalZoomDistance pixels for the zoom to initiate\r\n        if (!this.zoomed &&\r\n            Math.abs(currentDistance - this.startDistance) <\r\n                this.zoomOpt.minimalZoomDistance) {\r\n            return;\r\n        }\r\n        // when out of boundary , perform a damping algorithm\r\n        var endScale = this.dampingScale((currentDistance / this.startDistance) * this.startScale);\r\n        var ratio = endScale / this.startScale;\r\n        this.setScale(endScale);\r\n        if (!this.zoomed) {\r\n            this.zoomed = true;\r\n            this.scroll.trigger(this.scroll.eventTypes.zoomStart);\r\n        }\r\n        var scroller = this.scroll.scroller;\r\n        var scrollBehaviorX = scroller.scrollBehaviorX, scrollBehaviorY = scroller.scrollBehaviorY;\r\n        var x = this.getNewPos(this.origin.x, ratio, scrollBehaviorX, false, false);\r\n        var y = this.getNewPos(this.origin.y, ratio, scrollBehaviorY, false, false);\r\n        this.scroll.trigger(this.scroll.eventTypes.zooming, {\r\n            scale: this.scale,\r\n        });\r\n        scroller.translater.translate({ x: x, y: y, scale: endScale });\r\n    };\r\n    Zoom.prototype.zoomEnd = function () {\r\n        if (!this.zoomed)\r\n            return;\r\n        // if out of boundary, do rebound!\r\n        if (this.shouldRebound()) {\r\n            this._doZoomTo(this.scale, this.origin, this.zoomOpt.bounceTime);\r\n            return;\r\n        }\r\n        this.scroll.trigger(this.scroll.eventTypes.zoomEnd, { scale: this.scale });\r\n    };\r\n    Zoom.prototype.getFingerDistance = function (e) {\r\n        var firstFinger = e.touches[0];\r\n        var secondFinger = e.touches[1];\r\n        var deltaX = Math.abs(firstFinger.pageX - secondFinger.pageX);\r\n        var deltaY = Math.abs(firstFinger.pageY - secondFinger.pageY);\r\n        return getDistance(deltaX, deltaY);\r\n    };\r\n    Zoom.prototype.shouldRebound = function () {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        var currentScale = this.scale;\r\n        // scale exceeded!\r\n        if (currentScale !== between(currentScale, min, max)) {\r\n            return true;\r\n        }\r\n        var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n        // enlarge boundaries manually when zoom is end\r\n        this.resetBoundaries([scrollBehaviorX, scrollBehaviorY]);\r\n        var xInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        var yInBoundary = scrollBehaviorX.checkInBoundary().inBoundary;\r\n        return !(xInBoundary && yInBoundary);\r\n    };\r\n    Zoom.prototype.dampingScale = function (scale) {\r\n        var _a = this.zoomOpt, min = _a.min, max = _a.max;\r\n        if (scale < min) {\r\n            scale = 0.5 * min * Math.pow(2.0, scale / min);\r\n        }\r\n        else if (scale > max) {\r\n            scale = 2.0 * max * Math.pow(0.5, max / scale);\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.setScale = function (scale) {\r\n        this.scale = scale;\r\n    };\r\n    Zoom.prototype.resetBoundaries = function (scrollBehaviorPairs) {\r\n        scrollBehaviorPairs.forEach(function (behavior) { return behavior.computeBoundary(); });\r\n    };\r\n    Zoom.prototype.getNewPos = function (origin, lastScale, scrollBehavior, shouldInBoundary, useCurrentPos) {\r\n        if (useCurrentPos === void 0) { useCurrentPos = false; }\r\n        var newPos = origin -\r\n            origin * lastScale +\r\n            (useCurrentPos ? scrollBehavior.currentPos : scrollBehavior.startPos);\r\n        if (shouldInBoundary) {\r\n            newPos = between(newPos, scrollBehavior.maxScrollPos, scrollBehavior.minScrollPos);\r\n        }\r\n        // maxScrollPos or minScrollPos maybe a negative or positive digital\r\n        return newPos > 0 ? Math.floor(newPos) : Math.ceil(newPos);\r\n    };\r\n    Zoom.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Zoom.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Zoom.pluginName = 'zoom';\r\n    return Zoom;\r\n}());\n\nvar BScrollFamily = /** @class */ (function () {\r\n    function BScrollFamily(scroll) {\r\n        this.ancestors = [];\r\n        this.descendants = [];\r\n        this.hooksManager = [];\r\n        this.analyzed = false;\r\n        this.selfScroll = scroll;\r\n    }\r\n    BScrollFamily.create = function (scroll) {\r\n        return new BScrollFamily(scroll);\r\n    };\r\n    BScrollFamily.prototype.hasAncestors = function (bscrollFamily) {\r\n        var index = findIndex(this.ancestors, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.hasDescendants = function (bscrollFamily) {\r\n        var index = findIndex(this.descendants, function (_a) {\r\n            var item = _a[0];\r\n            return item === bscrollFamily;\r\n        });\r\n        return index > -1;\r\n    };\r\n    BScrollFamily.prototype.addAncestor = function (bscrollFamily, distance) {\r\n        var ancestors = this.ancestors;\r\n        ancestors.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        ancestors.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.addDescendant = function (bscrollFamily, distance) {\r\n        var descendants = this.descendants;\r\n        descendants.push([bscrollFamily, distance]);\r\n        // by ascend\r\n        descendants.sort(function (a, b) {\r\n            return a[1] - b[1];\r\n        });\r\n    };\r\n    BScrollFamily.prototype.removeAncestor = function (bscrollFamily) {\r\n        var ancestors = this.ancestors;\r\n        if (ancestors.length) {\r\n            var index = findIndex(this.ancestors, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return ancestors.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.removeDescendant = function (bscrollFamily) {\r\n        var descendants = this.descendants;\r\n        if (descendants.length) {\r\n            var index = findIndex(this.descendants, function (_a) {\r\n                var item = _a[0];\r\n                return item === bscrollFamily;\r\n            });\r\n            if (index > -1) {\r\n                return descendants.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    BScrollFamily.prototype.registerHooks = function (hook, eventType, handler) {\r\n        hook.on(eventType, handler);\r\n        this.hooksManager.push([hook, eventType, handler]);\r\n    };\r\n    BScrollFamily.prototype.setAnalyzed = function (flag) {\r\n        if (flag === void 0) { flag = false; }\r\n        this.analyzed = flag;\r\n    };\r\n    BScrollFamily.prototype.purge = function () {\r\n        var _this = this;\r\n        // remove self from graph\r\n        this.ancestors.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeDescendant(_this);\r\n        });\r\n        this.descendants.forEach(function (_a) {\r\n            var bscrollFamily = _a[0];\r\n            bscrollFamily.removeAncestor(_this);\r\n        });\r\n        // remove all hook handlers\r\n        this.hooksManager.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksManager = [];\r\n    };\r\n    return BScrollFamily;\r\n}());\n\nvar sourcePrefix$1 = 'plugins.nestedScroll';\r\nvar propertiesMap$1 = [\r\n    {\r\n        key: 'purgeNestedScroll',\r\n        name: 'purgeNestedScroll',\r\n    },\r\n];\r\nvar propertiesConfig$1 = propertiesMap$1.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix$1 + \".\" + item.name,\r\n    };\r\n});\n\nvar DEFAUL_GROUP_ID = 'INTERNAL_NESTED_SCROLL';\r\nvar forceScrollStopHandler = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.pending) {\r\n            scroll.stop();\r\n            scroll.resetPosition();\r\n        }\r\n    });\r\n};\r\nvar enableScrollHander = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        scroll.enable();\r\n    });\r\n};\r\nvar disableScrollHander = function (scrolls, currentScroll) {\r\n    scrolls.forEach(function (scroll) {\r\n        if (scroll.hasHorizontalScroll === currentScroll.hasHorizontalScroll ||\r\n            scroll.hasVerticalScroll === currentScroll.hasVerticalScroll) {\r\n            scroll.disable();\r\n        }\r\n    });\r\n};\r\nvar syncTouchstartData = function (scrolls) {\r\n    scrolls.forEach(function (scroll) {\r\n        var _a = scroll.scroller, actions = _a.actions, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        // prevent click triggering many times\r\n        actions.fingerMoved = true;\r\n        actions.contentMoved = false;\r\n        actions.directionLockAction.reset();\r\n        scrollBehaviorX.start();\r\n        scrollBehaviorY.start();\r\n        scrollBehaviorX.resetStartPos();\r\n        scrollBehaviorY.resetStartPos();\r\n        actions.startTime = +new Date();\r\n    });\r\n};\r\nvar isOutOfBoundary = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY, movingDirectionX = scroll.movingDirectionX, movingDirectionY = scroll.movingDirectionY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x >= minScrollX && movingDirectionX === -1 /* Negative */;\r\n    var outOfRightBoundary = x <= maxScrollX && movingDirectionX === 1 /* Positive */;\r\n    var outOfTopBoundary = y >= minScrollY && movingDirectionY === -1 /* Negative */;\r\n    var outOfBottomBoundary = y <= maxScrollY && movingDirectionY === 1 /* Positive */;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar isResettingPosition = function (scroll) {\r\n    var hasHorizontalScroll = scroll.hasHorizontalScroll, hasVerticalScroll = scroll.hasVerticalScroll, x = scroll.x, y = scroll.y, minScrollX = scroll.minScrollX, maxScrollX = scroll.maxScrollX, minScrollY = scroll.minScrollY, maxScrollY = scroll.maxScrollY;\r\n    var ret = false;\r\n    var outOfLeftBoundary = x > minScrollX;\r\n    var outOfRightBoundary = x < maxScrollX;\r\n    var outOfTopBoundary = y > minScrollY;\r\n    var outOfBottomBoundary = y < maxScrollY;\r\n    if (hasVerticalScroll) {\r\n        ret = outOfTopBoundary || outOfBottomBoundary;\r\n    }\r\n    else if (hasHorizontalScroll) {\r\n        ret = outOfLeftBoundary || outOfRightBoundary;\r\n    }\r\n    return ret;\r\n};\r\nvar resetPositionHandler = function (scroll) {\r\n    scroll.scroller.reflow();\r\n    scroll.resetPosition(0 /* Immediately */);\r\n};\r\nvar calculateDistance = function (childNode, parentNode) {\r\n    var distance = 0;\r\n    var parent = childNode.parentNode;\r\n    while (parent && parent !== parentNode) {\r\n        distance++;\r\n        parent = parent.parentNode;\r\n    }\r\n    return distance;\r\n};\r\nvar NestedScroll = /** @class */ (function () {\r\n    function NestedScroll(scroll) {\r\n        var groupId = this.handleOptions(scroll);\r\n        var instance = NestedScroll.instancesMap[groupId];\r\n        if (!instance) {\r\n            instance = NestedScroll.instancesMap[groupId] = this;\r\n            instance.store = [];\r\n            instance.hooksFn = [];\r\n        }\r\n        instance.init(scroll);\r\n        return instance;\r\n    }\r\n    NestedScroll.getAllNestedScrolls = function () {\r\n        var instancesMap = NestedScroll.instancesMap;\r\n        return Object.keys(instancesMap).map(function (key) { return instancesMap[key]; });\r\n    };\r\n    NestedScroll.purgeAllNestedScrolls = function () {\r\n        var nestedScrolls = NestedScroll.getAllNestedScrolls();\r\n        nestedScrolls.forEach(function (ns) { return ns.purgeNestedScroll(); });\r\n    };\r\n    NestedScroll.prototype.handleOptions = function (scroll) {\r\n        var userOptions = (scroll.options.nestedScroll === true\r\n            ? {}\r\n            : scroll.options.nestedScroll);\r\n        var defaultOptions = {\r\n            groupId: DEFAUL_GROUP_ID,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        var groupIdType = typeof this.options.groupId;\r\n        if (groupIdType !== 'string' && groupIdType !== 'number') {\r\n            warn('groupId must be string or number for NestedScroll plugin');\r\n        }\r\n        return this.options.groupId;\r\n    };\r\n    NestedScroll.prototype.init = function (scroll) {\r\n        scroll.proxy(propertiesConfig$1);\r\n        this.addBScroll(scroll);\r\n        this.buildBScrollGraph();\r\n        this.analyzeBScrollGraph();\r\n        this.ensureEventInvokeSequence();\r\n        this.handleHooks(scroll);\r\n    };\r\n    NestedScroll.prototype.handleHooks = function (scroll) {\r\n        var _this = this;\r\n        this.registerHooks(scroll.hooks, scroll.hooks.eventTypes.destroy, function () {\r\n            _this.deleteScroll(scroll);\r\n        });\r\n    };\r\n    NestedScroll.prototype.deleteScroll = function (scroll) {\r\n        var wrapper = scroll.wrapper;\r\n        wrapper.isBScrollContainer = undefined;\r\n        var store = this.store;\r\n        var hooksFn = this.hooksFn;\r\n        var i = findIndex(store, function (bscrollFamily) {\r\n            return bscrollFamily.selfScroll === scroll;\r\n        });\r\n        if (i > -1) {\r\n            var bscrollFamily = store[i];\r\n            bscrollFamily.purge();\r\n            store.splice(i, 1);\r\n        }\r\n        var k = findIndex(hooksFn, function (_a) {\r\n            var hooks = _a[0];\r\n            return hooks === scroll.hooks;\r\n        });\r\n        if (k > -1) {\r\n            var _a = hooksFn[k], hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n            hooksFn.splice(k, 1);\r\n        }\r\n    };\r\n    NestedScroll.prototype.addBScroll = function (scroll) {\r\n        this.store.push(BScrollFamily.create(scroll));\r\n    };\r\n    NestedScroll.prototype.buildBScrollGraph = function () {\r\n        var store = this.store;\r\n        var bf1;\r\n        var bf2;\r\n        var wrapper1;\r\n        var wrapper2;\r\n        var len = this.store.length;\r\n        // build graph\r\n        for (var i = 0; i < len; i++) {\r\n            bf1 = store[i];\r\n            wrapper1 = bf1.selfScroll.wrapper;\r\n            for (var j = 0; j < len; j++) {\r\n                bf2 = store[j];\r\n                wrapper2 = bf2.selfScroll.wrapper;\r\n                // same bs\r\n                if (bf1 === bf2)\r\n                    continue;\r\n                if (!wrapper1.contains(wrapper2))\r\n                    continue;\r\n                // bs1 contains bs2\r\n                var distance = calculateDistance(wrapper2, wrapper1);\r\n                if (!bf1.hasDescendants(bf2)) {\r\n                    bf1.addDescendant(bf2, distance);\r\n                }\r\n                if (!bf2.hasAncestors(bf1)) {\r\n                    bf2.addAncestor(bf1, distance);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NestedScroll.prototype.analyzeBScrollGraph = function () {\r\n        this.store.forEach(function (bscrollFamily) {\r\n            if (bscrollFamily.analyzed) {\r\n                return;\r\n            }\r\n            var ancestors = bscrollFamily.ancestors, descendants = bscrollFamily.descendants, currentScroll = bscrollFamily.selfScroll;\r\n            var beforeScrollStartHandler = function () {\r\n                // always get the latest scroll\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                forceScrollStopHandler(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n                if (isResettingPosition(currentScroll)) {\r\n                    resetPositionHandler(currentScroll);\r\n                }\r\n                syncTouchstartData(ancestorScrolls);\r\n                disableScrollHander(ancestorScrolls, currentScroll);\r\n            };\r\n            var touchEndHandler = function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var descendantScrolls = descendants.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                enableScrollHander(__spreadArrays(ancestorScrolls, descendantScrolls));\r\n            };\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.beforeScrollStart, beforeScrollStartHandler);\r\n            bscrollFamily.registerHooks(currentScroll, currentScroll.eventTypes.touchEnd, touchEndHandler);\r\n            var selfActionsHooks = currentScroll.scroller.actions.hooks;\r\n            bscrollFamily.registerHooks(selfActionsHooks, selfActionsHooks.eventTypes.detectMovingDirection, function () {\r\n                var ancestorScrolls = ancestors.map(function (_a) {\r\n                    var bscrollFamily = _a[0];\r\n                    return bscrollFamily.selfScroll;\r\n                });\r\n                var parentScroll = ancestorScrolls[0];\r\n                var otherAncestorScrolls = ancestorScrolls.slice(1);\r\n                var contentMoved = currentScroll.scroller.actions.contentMoved;\r\n                var isTopScroll = ancestorScrolls.length === 0;\r\n                if (contentMoved) {\r\n                    disableScrollHander(ancestorScrolls, currentScroll);\r\n                }\r\n                else if (!isTopScroll) {\r\n                    if (isOutOfBoundary(currentScroll)) {\r\n                        disableScrollHander([currentScroll], currentScroll);\r\n                        if (parentScroll) {\r\n                            enableScrollHander([parentScroll]);\r\n                        }\r\n                        disableScrollHander(otherAncestorScrolls, currentScroll);\r\n                        return true;\r\n                    }\r\n                }\r\n            });\r\n            bscrollFamily.setAnalyzed(true);\r\n        });\r\n    };\r\n    // make sure touchmove|touchend invoke from child to parent\r\n    NestedScroll.prototype.ensureEventInvokeSequence = function () {\r\n        var copied = this.store.slice();\r\n        var sequencedScroll = copied.sort(function (a, b) {\r\n            return a.descendants.length - b.descendants.length;\r\n        });\r\n        sequencedScroll.forEach(function (bscrollFamily) {\r\n            var scroll = bscrollFamily.selfScroll;\r\n            scroll.scroller.actionsHandler.rebindDOMEvents();\r\n        });\r\n    };\r\n    NestedScroll.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    NestedScroll.prototype.purgeNestedScroll = function () {\r\n        var groupId = this.options.groupId;\r\n        this.store.forEach(function (bscrollFamily) {\r\n            bscrollFamily.purge();\r\n        });\r\n        this.store = [];\r\n        this.hooksFn.forEach(function (_a) {\r\n            var hooks = _a[0], eventType = _a[1], handler = _a[2];\r\n            hooks.off(eventType, handler);\r\n        });\r\n        this.hooksFn = [];\r\n        delete NestedScroll.instancesMap[groupId];\r\n    };\r\n    NestedScroll.pluginName = 'nestedScroll';\r\n    NestedScroll.instancesMap = {};\r\n    return NestedScroll;\r\n}());\n\nvar PRE_NUM = 10;\r\nvar POST_NUM = 30;\r\nvar IndexCalculator = /** @class */ (function () {\r\n    function IndexCalculator(wrapperHeight, tombstoneHeight) {\r\n        this.wrapperHeight = wrapperHeight;\r\n        this.tombstoneHeight = tombstoneHeight;\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    }\r\n    IndexCalculator.prototype.calculate = function (pos, list) {\r\n        var offset = pos - this.lastPos;\r\n        this.lastPos = pos;\r\n        var direction = this.getDirection(offset);\r\n        // important! start index is much more important than end index.\r\n        var start = this.calculateIndex(0, pos, list);\r\n        var end = this.calculateIndex(start, pos + this.wrapperHeight, list);\r\n        if (direction === 1 /* DOWN */) {\r\n            start -= PRE_NUM;\r\n            end += POST_NUM;\r\n        }\r\n        else {\r\n            start -= POST_NUM;\r\n            end += PRE_NUM;\r\n        }\r\n        if (start < 0) {\r\n            start = 0;\r\n        }\r\n        return {\r\n            start: start,\r\n            end: end,\r\n        };\r\n    };\r\n    IndexCalculator.prototype.getDirection = function (offset) {\r\n        var direction;\r\n        if (offset > 0) {\r\n            direction = 1 /* DOWN */;\r\n        }\r\n        else if (offset < 0) {\r\n            direction = 0 /* UP */;\r\n        }\r\n        else {\r\n            return this.lastDirection;\r\n        }\r\n        this.lastDirection = direction;\r\n        return direction;\r\n    };\r\n    IndexCalculator.prototype.calculateIndex = function (start, offset, list) {\r\n        if (offset <= 0) {\r\n            return start;\r\n        }\r\n        var i = start;\r\n        var startPos = list[i] && list[i].pos !== -1 ? list[i].pos : 0;\r\n        var lastPos = startPos;\r\n        var tombstone = 0;\r\n        while (i < list.length && list[i].pos < offset) {\r\n            lastPos = list[i].pos;\r\n            i++;\r\n        }\r\n        if (i === list.length) {\r\n            tombstone = Math.floor((offset - lastPos) / this.tombstoneHeight);\r\n        }\r\n        i += tombstone;\r\n        return i;\r\n    };\r\n    IndexCalculator.prototype.resetState = function () {\r\n        this.lastDirection = 1 /* DOWN */;\r\n        this.lastPos = 0;\r\n    };\r\n    return IndexCalculator;\r\n}());\n\nvar ListItem = /** @class */ (function () {\r\n    function ListItem() {\r\n        this.data = null;\r\n        this.dom = null;\r\n        this.tombstone = null;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.pos = 0;\r\n    }\r\n    return ListItem;\r\n}());\r\nvar DataManager = /** @class */ (function () {\r\n    function DataManager(list, fetchFn, onFetchFinish) {\r\n        this.fetchFn = fetchFn;\r\n        this.onFetchFinish = onFetchFinish;\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = list || [];\r\n    }\r\n    DataManager.prototype.update = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var len;\r\n            return __generator(this, function (_a) {\r\n                if (!this.hasMore) {\r\n                    end = Math.min(end, this.list.length);\r\n                }\r\n                // add data placeholder\r\n                if (end > this.list.length) {\r\n                    len = end - this.list.length;\r\n                    this.addEmptyData(len);\r\n                }\r\n                // tslint:disable-next-line: no-floating-promises\r\n                return [2 /*return*/, this.checkToFetch(end)];\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.add = function (data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            if (!this.list[this.loadedNum]) {\r\n                this.list[this.loadedNum] = { data: data[i] };\r\n            }\r\n            else {\r\n                this.list[this.loadedNum] = __assign(__assign({}, this.list[this.loadedNum]), { data: data[i] });\r\n            }\r\n            this.loadedNum++;\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.addEmptyData = function (len) {\r\n        for (var i = 0; i < len; i++) {\r\n            this.list.push(new ListItem());\r\n        }\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.fetch = function (len) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.fetching) {\r\n                            return [2 /*return*/, []];\r\n                        }\r\n                        this.fetching = true;\r\n                        return [4 /*yield*/, this.fetchFn(len)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        this.fetching = false;\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.checkToFetch = function (end) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var min, newData, currentEnd;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.hasMore) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        if (end <= this.loadedNum) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        min = end - this.loadedNum;\r\n                        return [4 /*yield*/, this.fetch(min)];\r\n                    case 1:\r\n                        newData = _a.sent();\r\n                        if (newData instanceof Array && newData.length) {\r\n                            this.add(newData);\r\n                            currentEnd = this.onFetchFinish(this.list, true);\r\n                            return [2 /*return*/, this.checkToFetch(currentEnd)];\r\n                        }\r\n                        else if (typeof newData === 'boolean' && newData === false) {\r\n                            this.hasMore = false;\r\n                            this.list.splice(this.loadedNum);\r\n                            this.onFetchFinish(this.list, false);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    DataManager.prototype.getList = function () {\r\n        return this.list;\r\n    };\r\n    DataManager.prototype.resetState = function () {\r\n        this.loadedNum = 0;\r\n        this.fetching = false;\r\n        this.hasMore = true;\r\n        this.list = [];\r\n    };\r\n    return DataManager;\r\n}());\n\nvar Tombstone = /** @class */ (function () {\r\n    function Tombstone(create) {\r\n        this.create = create;\r\n        this.cached = [];\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.initialed = false;\r\n        this.getSize();\r\n    }\r\n    Tombstone.isTombstone = function (el) {\r\n        if (el && el.classList) {\r\n            return el.classList.contains('tombstone');\r\n        }\r\n        return false;\r\n    };\r\n    Tombstone.prototype.getSize = function () {\r\n        if (!this.initialed) {\r\n            var tombstone = this.create();\r\n            tombstone.style.position = 'absolute';\r\n            document.body.appendChild(tombstone);\r\n            tombstone.style.display = '';\r\n            this.height = tombstone.offsetHeight;\r\n            this.width = tombstone.offsetWidth;\r\n            document.body.removeChild(tombstone);\r\n            this.cached.push(tombstone);\r\n        }\r\n    };\r\n    Tombstone.prototype.getOne = function () {\r\n        var tombstone = this.cached.pop();\r\n        if (tombstone) {\r\n            var tombstoneStyle = tombstone.style;\r\n            tombstoneStyle.display = '';\r\n            tombstoneStyle.opacity = '1';\r\n            tombstoneStyle[style.transform] = '';\r\n            tombstoneStyle[style.transition] = '';\r\n            return tombstone;\r\n        }\r\n        return this.create();\r\n    };\r\n    Tombstone.prototype.recycle = function (tombstones) {\r\n        for (var _i = 0, tombstones_1 = tombstones; _i < tombstones_1.length; _i++) {\r\n            var tombstone = tombstones_1[_i];\r\n            tombstone.style.display = 'none';\r\n            this.cached.push(tombstone);\r\n        }\r\n        return this.cached;\r\n    };\r\n    Tombstone.prototype.recycleOne = function (tombstone) {\r\n        this.cached.push(tombstone);\r\n        return this.cached;\r\n    };\r\n    return Tombstone;\r\n}());\n\nvar ANIMATION_DURATION_MS = 200;\r\nvar DomManager = /** @class */ (function () {\r\n    function DomManager(content, renderFn, tombstone) {\r\n        this.renderFn = renderFn;\r\n        this.tombstone = tombstone;\r\n        this.unusedDom = [];\r\n        this.timers = [];\r\n        this.setContent(content);\r\n    }\r\n    DomManager.prototype.update = function (list, start, end) {\r\n        if (start >= list.length) {\r\n            start = list.length - 1;\r\n        }\r\n        if (end > list.length) {\r\n            end = list.length;\r\n        }\r\n        this.collectUnusedDom(list, start, end);\r\n        this.createDom(list, start, end);\r\n        this.cacheHeight(list, start, end);\r\n        var _a = this.positionDom(list, start, end), startPos = _a.startPos, startDelta = _a.startDelta, endPos = _a.endPos;\r\n        return {\r\n            start: start,\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            end: end,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    DomManager.prototype.collectUnusedDom = function (list, start, end) {\r\n        // TODO optimise\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (i === start) {\r\n                i = end - 1;\r\n                continue;\r\n            }\r\n            if (list[i].dom) {\r\n                var dom = list[i].dom;\r\n                if (Tombstone.isTombstone(dom)) {\r\n                    this.tombstone.recycleOne(dom);\r\n                    dom.style.display = 'none';\r\n                }\r\n                else {\r\n                    this.unusedDom.push(dom);\r\n                }\r\n                list[i].dom = null;\r\n            }\r\n        }\r\n        return list;\r\n    };\r\n    DomManager.prototype.createDom = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            var dom = list[i].dom;\r\n            var data = list[i].data;\r\n            if (dom) {\r\n                if (Tombstone.isTombstone(dom) && data) {\r\n                    list[i].tombstone = dom;\r\n                    list[i].dom = null;\r\n                }\r\n                else {\r\n                    continue;\r\n                }\r\n            }\r\n            dom = data\r\n                ? this.renderFn(data, this.unusedDom.pop())\r\n                : this.tombstone.getOne();\r\n            dom.style.position = 'absolute';\r\n            list[i].dom = dom;\r\n            list[i].pos = -1;\r\n            this.content.appendChild(dom);\r\n        }\r\n    };\r\n    DomManager.prototype.cacheHeight = function (list, start, end) {\r\n        for (var i = start; i < end; i++) {\r\n            if (list[i].data && !list[i].height) {\r\n                list[i].height = list[i].dom.offsetHeight;\r\n            }\r\n        }\r\n    };\r\n    DomManager.prototype.positionDom = function (list, start, end) {\r\n        var _this = this;\r\n        var tombstoneEles = [];\r\n        var _a = this.getStartPos(list, start, end), startPos = _a.start, startDelta = _a.delta;\r\n        var pos = startPos;\r\n        for (var i = start; i < end; i++) {\r\n            var tombstone = list[i].tombstone;\r\n            if (tombstone) {\r\n                var tombstoneStyle = tombstone.style;\r\n                tombstoneStyle[style.transition] = cssVendor + \"transform \" + ANIMATION_DURATION_MS + \"ms, opacity \" + ANIMATION_DURATION_MS + \"ms\";\r\n                tombstoneStyle[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                tombstoneStyle.opacity = '0';\r\n                list[i].tombstone = null;\r\n                tombstoneEles.push(tombstone);\r\n            }\r\n            if (list[i].dom && list[i].pos !== pos) {\r\n                list[i].dom.style[style.transform] = \"translateY(\" + pos + \"px)\";\r\n                list[i].pos = pos;\r\n            }\r\n            pos += list[i].height || this.tombstone.height;\r\n        }\r\n        var timerId = window.setTimeout(function () {\r\n            _this.tombstone.recycle(tombstoneEles);\r\n        }, ANIMATION_DURATION_MS);\r\n        this.timers.push(timerId);\r\n        return {\r\n            startPos: startPos,\r\n            startDelta: startDelta,\r\n            endPos: pos,\r\n        };\r\n    };\r\n    DomManager.prototype.getStartPos = function (list, start, end) {\r\n        if (list[start] && list[start].pos !== -1) {\r\n            return {\r\n                start: list[start].pos,\r\n                delta: 0,\r\n            };\r\n        }\r\n        // TODO optimise\r\n        var pos = list[0].pos === -1 ? 0 : list[0].pos;\r\n        for (var i_1 = 0; i_1 < start; i_1++) {\r\n            pos += list[i_1].height || this.tombstone.height;\r\n        }\r\n        var originPos = pos;\r\n        var i;\r\n        for (i = start; i < end; i++) {\r\n            if (!Tombstone.isTombstone(list[i].dom) && list[i].pos !== -1) {\r\n                pos = list[i].pos;\r\n                break;\r\n            }\r\n        }\r\n        var x = i;\r\n        if (x < end) {\r\n            while (x > start) {\r\n                pos -= list[x - 1].height;\r\n                x--;\r\n            }\r\n        }\r\n        var delta = originPos - pos;\r\n        return {\r\n            start: pos,\r\n            delta: delta,\r\n        };\r\n    };\r\n    DomManager.prototype.removeTombstone = function () {\r\n        var tombstones = this.content.querySelectorAll('.tombstone');\r\n        for (var i = tombstones.length - 1; i >= 0; i--) {\r\n            this.content.removeChild(tombstones[i]);\r\n        }\r\n    };\r\n    DomManager.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n        }\r\n    };\r\n    DomManager.prototype.destroy = function () {\r\n        this.removeTombstone();\r\n        this.timers.forEach(function (id) {\r\n            clearTimeout(id);\r\n        });\r\n    };\r\n    DomManager.prototype.resetState = function () {\r\n        this.destroy();\r\n        this.timers = [];\r\n        this.unusedDom = [];\r\n    };\r\n    return DomManager;\r\n}());\n\nvar EXTRA_SCROLL_Y = -2000;\r\nvar InfinityScroll = /** @class */ (function () {\r\n    function InfinityScroll(scroll) {\r\n        this.scroll = scroll;\r\n        this.start = 0;\r\n        this.end = 0;\r\n        this.init();\r\n    }\r\n    InfinityScroll.prototype.init = function () {\r\n        var _this = this;\r\n        this.handleOptions();\r\n        var _a = this.options, fetchFn = _a.fetch, renderFn = _a.render, createTombstoneFn = _a.createTombstone;\r\n        this.tombstone = new Tombstone(createTombstoneFn);\r\n        this.indexCalculator = new IndexCalculator(this.scroll.scroller.scrollBehaviorY.wrapperSize, this.tombstone.height);\r\n        this.domManager = new DomManager(this.scroll.scroller.content, renderFn, this.tombstone);\r\n        this.dataManager = new DataManager([], fetchFn, this.onFetchFinish.bind(this));\r\n        this.scroll.on(this.scroll.eventTypes.destroy, this.destroy, this);\r\n        this.scroll.on(this.scroll.eventTypes.scroll, this.update, this);\r\n        this.scroll.on(this.scroll.eventTypes.contentChanged, function (content) {\r\n            _this.domManager.setContent(content);\r\n            _this.indexCalculator.resetState();\r\n            _this.domManager.resetState();\r\n            _this.dataManager.resetState();\r\n            _this.update({ y: 0 });\r\n        });\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        scrollBehaviorY.hooks.on(scrollBehaviorY.hooks.eventTypes.computeBoundary, this.modifyBoundary, this);\r\n        this.update({ y: 0 });\r\n    };\r\n    InfinityScroll.prototype.modifyBoundary = function (boundary) {\r\n        // manually set position to allow scroll\r\n        boundary.maxScrollPos = EXTRA_SCROLL_Y;\r\n    };\r\n    InfinityScroll.prototype.handleOptions = function () {\r\n        // narrow down type to an object\r\n        var infinityOptions = this.scroll.options.infinity;\r\n        if (infinityOptions) {\r\n            if (typeof infinityOptions.fetch !== 'function') {\r\n                warn('Infinity plugin need fetch Function to new data.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need render Function to render each item.');\r\n            }\r\n            if (typeof infinityOptions.render !== 'function') {\r\n                warn('Infinity plugin need createTombstone Function to create tombstone.');\r\n            }\r\n            this.options = infinityOptions;\r\n        }\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    InfinityScroll.prototype.update = function (pos) {\r\n        var position = Math.round(-pos.y);\r\n        // important! calculate start/end index to render\r\n        var _a = this.indexCalculator.calculate(position, this.dataManager.getList()), start = _a.start, end = _a.end;\r\n        this.start = start;\r\n        this.end = end;\r\n        // tslint:disable-next-line: no-floating-promises\r\n        this.dataManager.update(end);\r\n        this.updateDom(this.dataManager.getList());\r\n    };\r\n    InfinityScroll.prototype.onFetchFinish = function (list, hasMore) {\r\n        var end = this.updateDom(list).end;\r\n        if (!hasMore) {\r\n            this.domManager.removeTombstone();\r\n            this.scroll.scroller.animater.stop();\r\n            this.scroll.resetPosition();\r\n        }\r\n        // tslint:disable-next-line: no-floating-promises\r\n        return end;\r\n    };\r\n    InfinityScroll.prototype.updateDom = function (list) {\r\n        var _a = this.domManager.update(list, this.start, this.end), end = _a.end, startPos = _a.startPos, endPos = _a.endPos, startDelta = _a.startDelta;\r\n        if (startDelta) {\r\n            this.scroll.minScrollY = startDelta;\r\n        }\r\n        if (endPos > this.scroll.maxScrollY) {\r\n            this.scroll.maxScrollY = -(endPos - this.scroll.scroller.scrollBehaviorY.wrapperSize);\r\n        }\r\n        return {\r\n            end: end,\r\n            startPos: startPos,\r\n            endPos: endPos,\r\n        };\r\n    };\r\n    InfinityScroll.prototype.destroy = function () {\r\n        var _a = this.scroll.scroller, content = _a.content, scrollBehaviorY = _a.scrollBehaviorY;\r\n        while (content.firstChild) {\r\n            content.removeChild(content.firstChild);\r\n        }\r\n        this.domManager.destroy();\r\n        this.scroll.off('scroll', this.update);\r\n        this.scroll.off('destroy', this.destroy);\r\n        scrollBehaviorY.hooks.off(scrollBehaviorY.hooks.eventTypes.computeBoundary);\r\n    };\r\n    InfinityScroll.pluginName = 'infinity';\r\n    return InfinityScroll;\r\n}());\n\nvar sourcePrefix = 'plugins.movable';\r\nvar propertiesMap = [\r\n    {\r\n        key: 'putAt',\r\n        name: 'putAt',\r\n    },\r\n];\r\nvar propertiesConfig = propertiesMap.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix + \".\" + item.name,\r\n    };\r\n});\n\nvar Movable = /** @class */ (function () {\r\n    function Movable(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleBScroll();\r\n        this.handleHooks();\r\n    }\r\n    Movable.prototype.handleBScroll = function () {\r\n        this.scroll.proxy(propertiesConfig);\r\n    };\r\n    Movable.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var computeBoundary = function (boundary, behavior) {\r\n            if (boundary.maxScrollPos > 0) {\r\n                // content is smaller than wrapper\r\n                boundary.minScrollPos = behavior.wrapperSize - behavior.contentSize;\r\n                boundary.maxScrollPos = 0;\r\n            }\r\n        };\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorX.hooks, scrollBehaviorX.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorX);\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.ignoreHasScroll, function () { return true; });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            computeBoundary(boundary, scrollBehaviorY);\r\n        });\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.destroy, function () {\r\n            _this.destroy();\r\n        });\r\n    };\r\n    Movable.prototype.putAt = function (x, y, time, easing) {\r\n        if (time === void 0) { time = this.scroll.options.bounceTime; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var position = this.resolvePostion(x, y);\r\n        this.scroll.scrollTo(position.x, position.y, time, easing);\r\n    };\r\n    Movable.prototype.resolvePostion = function (x, y) {\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        var resolveFormula = {\r\n            left: function () {\r\n                return 0;\r\n            },\r\n            top: function () {\r\n                return 0;\r\n            },\r\n            right: function () {\r\n                return scrollBehaviorX.minScrollPos;\r\n            },\r\n            bottom: function () {\r\n                return scrollBehaviorY.minScrollPos;\r\n            },\r\n            center: function (index) {\r\n                var baseSize = index === 0\r\n                    ? scrollBehaviorX.minScrollPos\r\n                    : scrollBehaviorY.minScrollPos;\r\n                return baseSize / 2;\r\n            },\r\n        };\r\n        return {\r\n            x: typeof x === 'number' ? x : resolveFormula[x](0),\r\n            y: typeof y === 'number' ? y : resolveFormula[y](1),\r\n        };\r\n    };\r\n    Movable.prototype.destroy = function () {\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    Movable.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Movable.pluginName = 'movable';\r\n    Movable.applyOrder = \"pre\" /* Pre */;\r\n    return Movable;\r\n}());\n\nvar isImageTag = function (el) {\r\n    return el.tagName.toLowerCase() === 'img';\r\n};\r\nvar ObserveImage = /** @class */ (function () {\r\n    function ObserveImage(scroll) {\r\n        this.scroll = scroll;\r\n        this.refreshTimer = 0;\r\n        this.init();\r\n    }\r\n    ObserveImage.prototype.init = function () {\r\n        this.handleOptions(this.scroll.options.observeImage);\r\n        this.bindEventsToWrapper();\r\n    };\r\n    ObserveImage.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            debounceTime: 100,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ObserveImage.prototype.bindEventsToWrapper = function () {\r\n        var wrapper = this.scroll.scroller.wrapper;\r\n        this.imageLoadEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'load',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n        this.imageErrorEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'error',\r\n                handler: this.load.bind(this),\r\n                capture: true,\r\n            },\r\n        ]);\r\n    };\r\n    ObserveImage.prototype.load = function (e) {\r\n        var _this = this;\r\n        var target = e.target;\r\n        var debounceTime = this.options.debounceTime;\r\n        if (target && isImageTag(target)) {\r\n            if (debounceTime === 0) {\r\n                this.scroll.refresh();\r\n            }\r\n            else {\r\n                clearTimeout(this.refreshTimer);\r\n                this.refreshTimer = window.setTimeout(function () {\r\n                    _this.scroll.refresh();\r\n                }, this.options.debounceTime);\r\n            }\r\n        }\r\n    };\r\n    ObserveImage.pluginName = 'observeImage';\r\n    return ObserveImage;\r\n}());\n\nvar resolveRatioOption = function (ratioConfig) {\r\n    var ret = {\r\n        ratioX: 0,\r\n        ratioY: 0,\r\n    };\r\n    /* istanbul ignore if  */\r\n    if (!ratioConfig) {\r\n        return ret;\r\n    }\r\n    if (typeof ratioConfig === 'number') {\r\n        ret.ratioX = ret.ratioY = ratioConfig;\r\n    }\r\n    else if (typeof ratioConfig === 'object' && ratioConfig) {\r\n        ret.ratioX = ratioConfig.x || 0;\r\n        ret.ratioY = ratioConfig.y || 0;\r\n    }\r\n    return ret;\r\n};\r\nvar handleBubbleAndCancelable = function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n};\r\nvar Indicator = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.currentPos = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.hooksFn = [];\r\n        this.handleDOM();\r\n        this.handleHooks();\r\n        this.handleInteractive();\r\n    }\r\n    Indicator.prototype.handleDOM = function () {\r\n        var _a = this.options, relationElement = _a.relationElement, _b = _a.relationElementHandleElementIndex, relationElementHandleElementIndex = _b === void 0 ? 0 : _b;\r\n        this.wrapper = relationElement;\r\n        this.indicatorEl = this.wrapper.children[relationElementHandleElementIndex];\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            _this.updatePosition(pos);\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.handleInteractive = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.registerEvents();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.registerEvents = function () {\r\n        var _a = this.scroll.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var _a = this.scroll, x = _a.x, y = _a.y, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, maxBScrollX = _a.maxScrollX, maxBScrollY = _a.maxScrollY;\r\n        var _b = resolveRatioOption(this.options.ratio), ratioX = _b.ratioX, ratioY = _b.ratioY;\r\n        var _c = getClientSize(this.wrapper), wrapperWidth = _c.width, wrapperHeight = _c.height;\r\n        var _d = getRect(this.indicatorEl), indicatorWidth = _d.width, indicatorHeight = _d.height;\r\n        if (hasHorizontalScroll) {\r\n            this.maxScrollX = wrapperWidth - indicatorWidth;\r\n            this.translateXSign =\r\n                this.maxScrollX > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollX = 0;\r\n            // ensure positive\r\n            this.ratioX = ratioX ? ratioX : Math.abs(this.maxScrollX / maxBScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            this.maxScrollY = wrapperHeight - indicatorHeight;\r\n            this.translateYSign =\r\n                this.maxScrollY > 0 ? -1 /* Positive */ : 1 /* NotPositive */;\r\n            this.minScrollY = 0;\r\n            this.ratioY = ratioY ? ratioY : Math.abs(this.maxScrollY / maxBScrollY);\r\n        }\r\n        this.updatePosition({\r\n            x: x,\r\n            y: y,\r\n        });\r\n    };\r\n    Indicator.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        handleBubbleAndCancelable(e);\r\n        this.initiated = true;\r\n        this.moved = false;\r\n        this.lastPointX = point.pageX;\r\n        this.lastPointY = point.pageY;\r\n        this.startTime = getNow();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.BScrollIsDisabled = function () {\r\n        return !this.scroll.enabled;\r\n    };\r\n    Indicator.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointX = point.pageX;\r\n        var pointY = point.pageY;\r\n        handleBubbleAndCancelable(e);\r\n        var deltaX = pointX - this.lastPointX;\r\n        var deltaY = pointY - this.lastPointY;\r\n        this.lastPointX = pointX;\r\n        this.lastPointY = pointY;\r\n        if (!this.moved && !this.indicatorNotMoved(deltaX, deltaY)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.getBScrollPosByRatio(this.currentPos, deltaX, deltaY);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        handleBubbleAndCancelable(e);\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.getBScrollPosByRatio = function (currentPos, deltaX, deltaY) {\r\n        var currentX = currentPos.x, currentY = currentPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll, BScrollMinScrollX = _a.minScrollX, BScrollMaxScrollX = _a.maxScrollX, BScrollMinScrollY = _a.minScrollY, BScrollMaxScrollY = _a.maxScrollY;\r\n        var _b = this.scroll, x = _b.x, y = _b.y;\r\n        if (hasHorizontalScroll) {\r\n            var newPosX = between(currentX + deltaX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n            var roundX = Math.round((newPosX / this.ratioX) * this.translateXSign);\r\n            x = between(roundX, BScrollMaxScrollX, BScrollMinScrollX);\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var newPosY = between(currentY + deltaY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n            var roundY = Math.round((newPosY / this.ratioY) * this.translateYSign);\r\n            y = between(roundY, BScrollMaxScrollY, BScrollMinScrollY);\r\n        }\r\n        return { x: x, y: y };\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (deltaX, deltaY) {\r\n        var _a = this.currentPos, x = _a.x, y = _a.y;\r\n        var xNotMoved = (x === this.minScrollX && deltaX <= 0) ||\r\n            (x === this.maxScrollX && deltaX >= 0);\r\n        var yNotMoved = (y === this.minScrollY && deltaY <= 0) ||\r\n            (y === this.maxScrollY && deltaY >= 0);\r\n        return xNotMoved && yNotMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, options = _a.options, scroller = _a.scroller;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        scroller.translater.translate(newPos);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.updatePosition = function (BScrollPos) {\r\n        var newIndicatorPos = this.getIndicatorPosByRatio(BScrollPos);\r\n        this.applyTransformProperty(newIndicatorPos);\r\n        this.currentPos = __assign({}, newIndicatorPos);\r\n    };\r\n    Indicator.prototype.applyTransformProperty = function (pos) {\r\n        var translateZ = this.scroll.options.translateZ;\r\n        var transformProperties = [\r\n            \"translateX(\" + pos.x + \"px)\",\r\n            \"translateY(\" + pos.y + \"px)\",\r\n            \"\" + translateZ,\r\n        ];\r\n        this.indicatorEl.style[style.transform] = transformProperties.join(' ');\r\n    };\r\n    Indicator.prototype.getIndicatorPosByRatio = function (BScrollPos) {\r\n        var x = BScrollPos.x, y = BScrollPos.y;\r\n        var _a = this.scroll, hasHorizontalScroll = _a.hasHorizontalScroll, hasVerticalScroll = _a.hasVerticalScroll;\r\n        var position = __assign({}, this.currentPos);\r\n        if (hasHorizontalScroll) {\r\n            var roundX = Math.round(this.ratioX * x * this.translateXSign);\r\n            // maybe maxScrollX is negative\r\n            position.x = between(roundX, Math.min(this.minScrollX, this.maxScrollX), Math.max(this.minScrollX, this.maxScrollX));\r\n        }\r\n        if (hasVerticalScroll) {\r\n            var roundY = Math.round(this.ratioY * y * this.translateYSign);\r\n            // maybe maxScrollY is negative\r\n            position.y = between(roundY, Math.min(this.minScrollY, this.maxScrollY), Math.max(this.minScrollY, this.maxScrollY));\r\n        }\r\n        return position;\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        if (this.options.interactive !== false) {\r\n            this.startEventRegister.destroy();\r\n            this.moveEventRegister.destroy();\r\n            this.endEventRegister.destroy();\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar Indicators = /** @class */ (function () {\r\n    function Indicators(scroll) {\r\n        this.scroll = scroll;\r\n        this.options = [];\r\n        this.indicators = [];\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n    }\r\n    Indicators.prototype.handleOptions = function () {\r\n        var UserIndicatorsOptions = this.scroll.options.indicators;\r\n        assert(Array.isArray(UserIndicatorsOptions), \"'indicators' must be an array.\");\r\n        for (var _i = 0, UserIndicatorsOptions_1 = UserIndicatorsOptions; _i < UserIndicatorsOptions_1.length; _i++) {\r\n            var indicatorOptions = UserIndicatorsOptions_1[_i];\r\n            assert(!!indicatorOptions.relationElement, \"'relationElement' must be a HTMLElement.\");\r\n            this.createIndicators(indicatorOptions);\r\n        }\r\n    };\r\n    Indicators.prototype.createIndicators = function (options) {\r\n        this.indicators.push(new Indicator(this.scroll, options));\r\n    };\r\n    Indicators.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scrollHooks = this.scroll.hooks;\r\n        scrollHooks.on(scrollHooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n            _this.indicators = [];\r\n        });\r\n    };\r\n    Indicators.pluginName = 'indicators';\r\n    return Indicators;\r\n}());\n\nBScroll.use(MouseWheel)\r\n    .use(ObserveDOM)\r\n    .use(PullDown)\r\n    .use(PullUp)\r\n    .use(ScrollBar)\r\n    .use(Slide)\r\n    .use(Wheel)\r\n    .use(Zoom)\r\n    .use(NestedScroll)\r\n    .use(InfinityScroll)\r\n    .use(Movable)\r\n    .use(ObserveImage)\r\n    .use(Indicators);\n\nexport default BScroll;\nexport { Behavior, CustomOptions, Indicators, InfinityScroll, MouseWheel, Movable, NestedScroll, ObserveDOM as ObserveDom, ObserveImage, PullDown as PullDownRefresh, PullUp as PullUpLoad, ScrollBar, Slide, Wheel, Zoom, createBScroll };\n","import { View, ViewStyle, SIZE_STYLE } from './View'\nimport { formatUnit } from '../../common/utils'\n\nexport const INPUT_SIZE_STYLE: Array<any> = ['fontSize'].concat(SIZE_STYLE)\nexport interface InputStyle extends ViewStyle {\n  type?: 'default' | 'number' | 'tel' | 'email' | 'password'\n  color?: string\n  placeholderColor?: string\n  cursorColor?: string\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  // placeholderFontSize?: string\n  maxLength?: number\n  fontSize?: string | number\n  returnKeyType?: 'done' | 'go' | 'next' | 'search' | 'send'\n}\n\nexport class Input extends View {\n  protected _style: InputStyle\n\n  protected _randomPlaceholderClass!: string\n  protected _placeholderCssIndex: number = 0\n\n  constructor() {\n    super()\n    this._style = new Proxy(this._style,{\n        get: (target, key) => {\n          switch (key) {\n            case 'type':\n              // @ts-ignore\n              return target[key] || this.node.type\n            case 'maxLength':\n              // @ts-ignore\n              return target[key] || this.node.maxLength\n            case 'placeholderColor':\n            case 'placeholderFontSize':\n            case 'returnKeyType':\n              // @ts-ignore\n              return target[key]\n            case 'cursorColor':\n              // @ts-ignore\n              return target[key] || this.node.style['caretColor']\n            case 'color':\n            case 'fontSize':\n            default:\n              // @ts-ignore\n              return target[key] || this.node.style[key]\n          }\n          // 获取style\n        },\n        set: (target, key, value) => {\n          // 设置style\n          if (SIZE_STYLE.includes(key)) {\n            // @ts-ignore\n            target[key] = formatUnit(value)\n          } else {\n            // @ts-ignore\n            target[key] = value\n          }\n          switch (key) {\n            case 'type':\n              this.node.type!=='textarea'&&(this.node.type = value)\n              break\n            case 'placeholderColor':\n              this.changePlaceholder({\n                color: value,\n                fontSize: this.style.fontSize\n              })\n              break\n            case 'placeholderFontSize':\n              this.changePlaceholder({\n                color: this.style.placeholderColor,\n                fontSize: value\n              })\n              break\n            case 'cursorColor':\n              this.node.style.caretColor = value\n              break\n            case 'maxLength':\n              this.node.maxLength = value\n              break\n            case 'returnKeyType':\n              break\n            case 'color':\n            case 'fontSize':\n            default:\n              if (INPUT_SIZE_STYLE.includes(key)) {\n                this.node.style[key] = formatUnit(value)\n              } else {\n                this.node.style[key] = value\n              }\n          }\n          return true\n        }\n      }\n    )\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-inline')\n  }\n  /**\n   * 通过添加伪类::placeholder来修改placeholder\n   */\n  // @ts-ignore\n  protected changePlaceholder({ fontSize, color }) {\n    this.node.classList.remove(this._randomPlaceholderClass)\n    this._randomPlaceholderClass = `hm-placeholder-${++this\n      ._placeholderCssIndex}`\n    this.node.classList.add(this._randomPlaceholderClass)\n    if (document.styleSheets.item(0)) {\n      const item: any = document.styleSheets.item(0)\n      if (item.insertRule) {\n        item.insertRule(\n          `.${this._randomPlaceholderClass}::placeholder {font-size: ${formatUnit(fontSize)}; color: ${color};}`,\n          item.cssRules.length\n        )\n      }\n    }\n  }\n\n  protected createNode() {\n    this.node = document.createElement('input')\n  }\n\n  get text() {\n    return this.node.value\n  }\n\n  set text(value) {\n    this.node.value = value\n  }\n\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n\n  get placeholder() {\n    return this.node.placeholder\n  }\n\n  set placeholder(value) {\n    this.node.placeholder = value\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: InputStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  clear() {\n    this.text = ''\n  }\n}\n","/**\n * Swiper 7.3.3\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2021 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: December 16, 2021\n */\n\n (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Swiper = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * SSR Window 4.0.2\n   * Better handling for window object in SSR environment\n   * https://github.com/nolimits4web/ssr-window\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n\n  /* eslint-disable no-param-reassign */\n  function isObject$1(obj) {\n    return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n  }\n\n  function extend$1(target = {}, src = {}) {\n    Object.keys(src).forEach(key => {\n      if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject$1(src[key]) && isObject$1(target[key]) && Object.keys(src[key]).length > 0) {\n        extend$1(target[key], src[key]);\n      }\n    });\n  }\n\n  const ssrDocument = {\n    body: {},\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    activeElement: {\n      blur() {},\n\n      nodeName: ''\n    },\n\n    querySelector() {\n      return null;\n    },\n\n    querySelectorAll() {\n      return [];\n    },\n\n    getElementById() {\n      return null;\n    },\n\n    createEvent() {\n      return {\n        initEvent() {}\n\n      };\n    },\n\n    createElement() {\n      return {\n        children: [],\n        childNodes: [],\n        style: {},\n\n        setAttribute() {},\n\n        getElementsByTagName() {\n          return [];\n        }\n\n      };\n    },\n\n    createElementNS() {\n      return {};\n    },\n\n    importNode() {\n      return null;\n    },\n\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    }\n  };\n\n  function getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend$1(doc, ssrDocument);\n    return doc;\n  }\n\n  const ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n      userAgent: ''\n    },\n    location: {\n      hash: '',\n      host: '',\n      hostname: '',\n      href: '',\n      origin: '',\n      pathname: '',\n      protocol: '',\n      search: ''\n    },\n    history: {\n      replaceState() {},\n\n      pushState() {},\n\n      go() {},\n\n      back() {}\n\n    },\n    CustomEvent: function CustomEvent() {\n      return this;\n    },\n\n    addEventListener() {},\n\n    removeEventListener() {},\n\n    getComputedStyle() {\n      return {\n        getPropertyValue() {\n          return '';\n        }\n\n      };\n    },\n\n    Image() {},\n\n    Date() {},\n\n    screen: {},\n\n    setTimeout() {},\n\n    clearTimeout() {},\n\n    matchMedia() {\n      return {};\n    },\n\n    requestAnimationFrame(callback) {\n      if (typeof setTimeout === 'undefined') {\n        callback();\n        return null;\n      }\n\n      return setTimeout(callback, 0);\n    },\n\n    cancelAnimationFrame(id) {\n      if (typeof setTimeout === 'undefined') {\n        return;\n      }\n\n      clearTimeout(id);\n    }\n\n  };\n\n  function getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend$1(win, ssrWindow);\n    return win;\n  }\n\n  /**\n   * Dom7 4.0.2\n   * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n   * https://framework7.io/docs/dom7.html\n   *\n   * Copyright 2021, Vladimir Kharlampidi\n   *\n   * Licensed under MIT\n   *\n   * Released on: December 13, 2021\n   */\n  /* eslint-disable no-proto */\n\n  function makeReactive(obj) {\n    const proto = obj.__proto__;\n    Object.defineProperty(obj, '__proto__', {\n      get() {\n        return proto;\n      },\n\n      set(value) {\n        proto.__proto__ = value;\n      }\n\n    });\n  }\n\n  class Dom7 extends Array {\n    constructor(items) {\n      super(...(items || []));\n      makeReactive(this);\n    }\n\n  }\n\n  function arrayFlat(arr = []) {\n    const res = [];\n    arr.forEach(el => {\n      if (Array.isArray(el)) {\n        res.push(...arrayFlat(el));\n      } else {\n        res.push(el);\n      }\n    });\n    return res;\n  }\n\n  function arrayFilter(arr, callback) {\n    return Array.prototype.filter.call(arr, callback);\n  }\n\n  function arrayUnique(arr) {\n    const uniqueArray = [];\n\n    for (let i = 0; i < arr.length; i += 1) {\n      if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n    }\n\n    return uniqueArray;\n  }\n\n\n  function qsa(selector, context) {\n    if (typeof selector !== 'string') {\n      return [selector];\n    }\n\n    const a = [];\n    const res = context.querySelectorAll(selector);\n\n    for (let i = 0; i < res.length; i += 1) {\n      a.push(res[i]);\n    }\n\n    return a;\n  }\n\n  function $(selector, context) {\n    const window = getWindow();\n    const document = getDocument();\n    let arr = [];\n\n    if (!context && selector instanceof Dom7) {\n      return selector;\n    }\n\n    if (!selector) {\n      return new Dom7(arr);\n    }\n\n    if (typeof selector === 'string') {\n      const html = selector.trim();\n\n      if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n        let toCreate = 'div';\n        if (html.indexOf('<li') === 0) toCreate = 'ul';\n        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n        if (html.indexOf('<option') === 0) toCreate = 'select';\n        const tempParent = document.createElement(toCreate);\n        tempParent.innerHTML = html;\n\n        for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n          arr.push(tempParent.childNodes[i]);\n        }\n      } else {\n        arr = qsa(selector.trim(), context || document);\n      } // arr = qsa(selector, document);\n\n    } else if (selector.nodeType || selector === window || selector === document) {\n      arr.push(selector);\n    } else if (Array.isArray(selector)) {\n      if (selector instanceof Dom7) return selector;\n      arr = selector;\n    }\n\n    return new Dom7(arrayUnique(arr));\n  }\n\n  $.fn = Dom7.prototype; // eslint-disable-next-line\n\n  function addClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.add(...classNames);\n    });\n    return this;\n  }\n\n  function removeClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      el.classList.remove(...classNames);\n    });\n    return this;\n  }\n\n  function toggleClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    this.forEach(el => {\n      classNames.forEach(className => {\n        el.classList.toggle(className);\n      });\n    });\n  }\n\n  function hasClass(...classes) {\n    const classNames = arrayFlat(classes.map(c => c.split(' ')));\n    return arrayFilter(this, el => {\n      return classNames.filter(className => el.classList.contains(className)).length > 0;\n    }).length > 0;\n  }\n\n  function attr(attrs, value) {\n    if (arguments.length === 1 && typeof attrs === 'string') {\n      // Get attr\n      if (this[0]) return this[0].getAttribute(attrs);\n      return undefined;\n    } // Set attrs\n\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i].setAttribute(attrs, value);\n      } else {\n        // Object\n        for (const attrName in attrs) {\n          this[i][attrName] = attrs[attrName];\n          this[i].setAttribute(attrName, attrs[attrName]);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function removeAttr(attr) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].removeAttribute(attr);\n    }\n\n    return this;\n  }\n\n  function transform(transform) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transform = transform;\n    }\n\n    return this;\n  }\n\n  function transition$1(duration) {\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n    }\n\n    return this;\n  }\n\n  function on(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n\n    function handleLiveEvent(e) {\n      const target = e.target;\n      if (!target) return;\n      const eventData = e.target.dom7EventData || [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n        const parents = $(target).parents(); // eslint-disable-line\n\n        for (let k = 0; k < parents.length; k += 1) {\n          if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n        }\n      }\n    }\n\n    function handleEvent(e) {\n      const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n      if (eventData.indexOf(e) < 0) {\n        eventData.unshift(e);\n      }\n\n      listener.apply(this, eventData);\n    }\n\n    const events = eventType.split(' ');\n    let j;\n\n    for (let i = 0; i < this.length; i += 1) {\n      const el = this[i];\n\n      if (!targetSelector) {\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7Listeners) el.dom7Listeners = {};\n          if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n          el.dom7Listeners[event].push({\n            listener,\n            proxyListener: handleEvent\n          });\n          el.addEventListener(event, handleEvent, capture);\n        }\n      } else {\n        // Live events\n        for (j = 0; j < events.length; j += 1) {\n          const event = events[j];\n          if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n          if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n          el.dom7LiveListeners[event].push({\n            listener,\n            proxyListener: handleLiveEvent\n          });\n          el.addEventListener(event, handleLiveEvent, capture);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function off(...args) {\n    let [eventType, targetSelector, listener, capture] = args;\n\n    if (typeof args[1] === 'function') {\n      [eventType, listener, capture] = args;\n      targetSelector = undefined;\n    }\n\n    if (!capture) capture = false;\n    const events = eventType.split(' ');\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n        let handlers;\n\n        if (!targetSelector && el.dom7Listeners) {\n          handlers = el.dom7Listeners[event];\n        } else if (targetSelector && el.dom7LiveListeners) {\n          handlers = el.dom7LiveListeners[event];\n        }\n\n        if (handlers && handlers.length) {\n          for (let k = handlers.length - 1; k >= 0; k -= 1) {\n            const handler = handlers[k];\n\n            if (listener && handler.listener === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            } else if (!listener) {\n              el.removeEventListener(event, handler.proxyListener, capture);\n              handlers.splice(k, 1);\n            }\n          }\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function trigger(...args) {\n    const window = getWindow();\n    const events = args[0].split(' ');\n    const eventData = args[1];\n\n    for (let i = 0; i < events.length; i += 1) {\n      const event = events[i];\n\n      for (let j = 0; j < this.length; j += 1) {\n        const el = this[j];\n\n        if (window.CustomEvent) {\n          const evt = new window.CustomEvent(event, {\n            detail: eventData,\n            bubbles: true,\n            cancelable: true\n          });\n          el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n          el.dispatchEvent(evt);\n          el.dom7EventData = [];\n          delete el.dom7EventData;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function transitionEnd$1(callback) {\n    const dom = this;\n\n    function fireCallBack(e) {\n      if (e.target !== this) return;\n      callback.call(this, e);\n      dom.off('transitionend', fireCallBack);\n    }\n\n    if (callback) {\n      dom.on('transitionend', fireCallBack);\n    }\n\n    return this;\n  }\n\n  function outerWidth(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n      }\n\n      return this[0].offsetWidth;\n    }\n\n    return null;\n  }\n\n  function outerHeight(includeMargins) {\n    if (this.length > 0) {\n      if (includeMargins) {\n        const styles = this.styles();\n        return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n      }\n\n      return this[0].offsetHeight;\n    }\n\n    return null;\n  }\n\n  function offset() {\n    if (this.length > 0) {\n      const window = getWindow();\n      const document = getDocument();\n      const el = this[0];\n      const box = el.getBoundingClientRect();\n      const body = document.body;\n      const clientTop = el.clientTop || body.clientTop || 0;\n      const clientLeft = el.clientLeft || body.clientLeft || 0;\n      const scrollTop = el === window ? window.scrollY : el.scrollTop;\n      const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n      return {\n        top: box.top + scrollTop - clientTop,\n        left: box.left + scrollLeft - clientLeft\n      };\n    }\n\n    return null;\n  }\n\n  function styles() {\n    const window = getWindow();\n    if (this[0]) return window.getComputedStyle(this[0], null);\n    return {};\n  }\n\n  function css(props, value) {\n    const window = getWindow();\n    let i;\n\n    if (arguments.length === 1) {\n      if (typeof props === 'string') {\n        // .css('width')\n        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n      } else {\n        // .css({ width: '100px' })\n        for (i = 0; i < this.length; i += 1) {\n          for (const prop in props) {\n            this[i].style[prop] = props[prop];\n          }\n        }\n\n        return this;\n      }\n    }\n\n    if (arguments.length === 2 && typeof props === 'string') {\n      // .css('width', '100px')\n      for (i = 0; i < this.length; i += 1) {\n        this[i].style[props] = value;\n      }\n\n      return this;\n    }\n\n    return this;\n  }\n\n  function each(callback) {\n    if (!callback) return this;\n    this.forEach((el, index) => {\n      callback.apply(el, [el, index]);\n    });\n    return this;\n  }\n\n  function filter(callback) {\n    const result = arrayFilter(this, callback);\n    return $(result);\n  }\n\n  function html(html) {\n    if (typeof html === 'undefined') {\n      return this[0] ? this[0].innerHTML : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].innerHTML = html;\n    }\n\n    return this;\n  }\n\n  function text(text) {\n    if (typeof text === 'undefined') {\n      return this[0] ? this[0].textContent.trim() : null;\n    }\n\n    for (let i = 0; i < this.length; i += 1) {\n      this[i].textContent = text;\n    }\n\n    return this;\n  }\n\n  function is(selector) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    let compareWith;\n    let i;\n    if (!el || typeof selector === 'undefined') return false;\n\n    if (typeof selector === 'string') {\n      if (el.matches) return el.matches(selector);\n      if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n      if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n      compareWith = $(selector);\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    if (selector === document) {\n      return el === document;\n    }\n\n    if (selector === window) {\n      return el === window;\n    }\n\n    if (selector.nodeType || selector instanceof Dom7) {\n      compareWith = selector.nodeType ? [selector] : selector;\n\n      for (i = 0; i < compareWith.length; i += 1) {\n        if (compareWith[i] === el) return true;\n      }\n\n      return false;\n    }\n\n    return false;\n  }\n\n  function index() {\n    let child = this[0];\n    let i;\n\n    if (child) {\n      i = 0; // eslint-disable-next-line\n\n      while ((child = child.previousSibling) !== null) {\n        if (child.nodeType === 1) i += 1;\n      }\n\n      return i;\n    }\n\n    return undefined;\n  }\n\n  function eq(index) {\n    if (typeof index === 'undefined') return this;\n    const length = this.length;\n\n    if (index > length - 1) {\n      return $([]);\n    }\n\n    if (index < 0) {\n      const returnIndex = length + index;\n      if (returnIndex < 0) return $([]);\n      return $([this[returnIndex]]);\n    }\n\n    return $([this[index]]);\n  }\n\n  function append(...els) {\n    let newChild;\n    const document = getDocument();\n\n    for (let k = 0; k < els.length; k += 1) {\n      newChild = els[k];\n\n      for (let i = 0; i < this.length; i += 1) {\n        if (typeof newChild === 'string') {\n          const tempDiv = document.createElement('div');\n          tempDiv.innerHTML = newChild;\n\n          while (tempDiv.firstChild) {\n            this[i].appendChild(tempDiv.firstChild);\n          }\n        } else if (newChild instanceof Dom7) {\n          for (let j = 0; j < newChild.length; j += 1) {\n            this[i].appendChild(newChild[j]);\n          }\n        } else {\n          this[i].appendChild(newChild);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function prepend(newChild) {\n    const document = getDocument();\n    let i;\n    let j;\n\n    for (i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n          this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (j = 0; j < newChild.length; j += 1) {\n          this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n        }\n      } else {\n        this[i].insertBefore(newChild, this[i].childNodes[0]);\n      }\n    }\n\n    return this;\n  }\n\n  function next(selector) {\n    if (this.length > 0) {\n      if (selector) {\n        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n          return $([this[0].nextElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function nextAll(selector) {\n    const nextEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.nextElementSibling) {\n      const next = el.nextElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(next).is(selector)) nextEls.push(next);\n      } else nextEls.push(next);\n\n      el = next;\n    }\n\n    return $(nextEls);\n  }\n\n  function prev(selector) {\n    if (this.length > 0) {\n      const el = this[0];\n\n      if (selector) {\n        if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n          return $([el.previousElementSibling]);\n        }\n\n        return $([]);\n      }\n\n      if (el.previousElementSibling) return $([el.previousElementSibling]);\n      return $([]);\n    }\n\n    return $([]);\n  }\n\n  function prevAll(selector) {\n    const prevEls = [];\n    let el = this[0];\n    if (!el) return $([]);\n\n    while (el.previousElementSibling) {\n      const prev = el.previousElementSibling; // eslint-disable-line\n\n      if (selector) {\n        if ($(prev).is(selector)) prevEls.push(prev);\n      } else prevEls.push(prev);\n\n      el = prev;\n    }\n\n    return $(prevEls);\n  }\n\n  function parent(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode !== null) {\n        if (selector) {\n          if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n        } else {\n          parents.push(this[i].parentNode);\n        }\n      }\n    }\n\n    return $(parents);\n  }\n\n  function parents(selector) {\n    const parents = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      let parent = this[i].parentNode; // eslint-disable-line\n\n      while (parent) {\n        if (selector) {\n          if ($(parent).is(selector)) parents.push(parent);\n        } else {\n          parents.push(parent);\n        }\n\n        parent = parent.parentNode;\n      }\n    }\n\n    return $(parents);\n  }\n\n  function closest(selector) {\n    let closest = this; // eslint-disable-line\n\n    if (typeof selector === 'undefined') {\n      return $([]);\n    }\n\n    if (!closest.is(selector)) {\n      closest = closest.parents(selector).eq(0);\n    }\n\n    return closest;\n  }\n\n  function find(selector) {\n    const foundElements = [];\n\n    for (let i = 0; i < this.length; i += 1) {\n      const found = this[i].querySelectorAll(selector);\n\n      for (let j = 0; j < found.length; j += 1) {\n        foundElements.push(found[j]);\n      }\n    }\n\n    return $(foundElements);\n  }\n\n  function children(selector) {\n    const children = []; // eslint-disable-line\n\n    for (let i = 0; i < this.length; i += 1) {\n      const childNodes = this[i].children;\n\n      for (let j = 0; j < childNodes.length; j += 1) {\n        if (!selector || $(childNodes[j]).is(selector)) {\n          children.push(childNodes[j]);\n        }\n      }\n    }\n\n    return $(children);\n  }\n\n  function remove() {\n    for (let i = 0; i < this.length; i += 1) {\n      if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n    }\n\n    return this;\n  }\n\n  const Methods = {\n    addClass,\n    removeClass,\n    hasClass,\n    toggleClass,\n    attr,\n    removeAttr,\n    transform,\n    transition: transition$1,\n    on,\n    off,\n    trigger,\n    transitionEnd: transitionEnd$1,\n    outerWidth,\n    outerHeight,\n    styles,\n    offset,\n    css,\n    each,\n    html,\n    text,\n    is,\n    index,\n    eq,\n    append,\n    prepend,\n    next,\n    nextAll,\n    prev,\n    prevAll,\n    parent,\n    parents,\n    closest,\n    find,\n    children,\n    filter,\n    remove\n  };\n  Object.keys(Methods).forEach(methodName => {\n    Object.defineProperty($.fn, methodName, {\n      value: Methods[methodName],\n      writable: true\n    });\n  });\n\n  function deleteProps(obj) {\n    const object = obj;\n    Object.keys(object).forEach(key => {\n      try {\n        object[key] = null;\n      } catch (e) {// no getter for object\n      }\n\n      try {\n        delete object[key];\n      } catch (e) {// something got wrong\n      }\n    });\n  }\n\n  function nextTick(callback, delay = 0) {\n    return setTimeout(callback, delay);\n  }\n\n  function now() {\n    return Date.now();\n  }\n\n  function getComputedStyle$1(el) {\n    const window = getWindow();\n    let style;\n\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(el, null);\n    }\n\n    if (!style && el.currentStyle) {\n      style = el.currentStyle;\n    }\n\n    if (!style) {\n      style = el.style;\n    }\n\n    return style;\n  }\n\n  function getTranslate(el, axis = 'x') {\n    const window = getWindow();\n    let matrix;\n    let curTransform;\n    let transformMatrix;\n    const curStyle = getComputedStyle$1(el);\n\n    if (window.WebKitCSSMatrix) {\n      curTransform = curStyle.transform || curStyle.webkitTransform;\n\n      if (curTransform.split(',').length > 6) {\n        curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n      } // Some old versions of Webkit choke when 'none' is passed; pass\n      // empty string instead in this case\n\n\n      transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n    } else {\n      transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n      matrix = transformMatrix.toString().split(',');\n    }\n\n    if (axis === 'x') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n      else curTransform = parseFloat(matrix[4]);\n    }\n\n    if (axis === 'y') {\n      // Latest Chrome and webkits Fix\n      if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n      else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n      else curTransform = parseFloat(matrix[5]);\n    }\n\n    return curTransform || 0;\n  }\n\n  function isObject(o) {\n    return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n  }\n\n  function isNode(node) {\n    // eslint-disable-next-line\n    if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n      return node instanceof HTMLElement;\n    }\n\n    return node && (node.nodeType === 1 || node.nodeType === 11);\n  }\n\n  function extend(...args) {\n    const to = Object(args[0]);\n    const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n    for (let i = 1; i < args.length; i += 1) {\n      const nextSource = args[i];\n\n      if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n        const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n        for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n          const nextKey = keysArray[nextIndex];\n          const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n          if (desc !== undefined && desc.enumerable) {\n            if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n              to[nextKey] = {};\n\n              if (nextSource[nextKey].__swiper__) {\n                to[nextKey] = nextSource[nextKey];\n              } else {\n                extend(to[nextKey], nextSource[nextKey]);\n              }\n            } else {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n    }\n\n    return to;\n  }\n\n  function setCSSProperty(el, varName, varValue) {\n    el.style.setProperty(varName, varValue);\n  }\n\n  function animateCSSModeScroll({\n    swiper,\n    targetPosition,\n    side\n  }) {\n    const window = getWindow();\n    const startPosition = -swiper.translate;\n    let startTime = null;\n    let time;\n    const duration = swiper.params.speed;\n    swiper.wrapperEl.style.scrollSnapType = 'none';\n    window.cancelAnimationFrame(swiper.cssModeFrameID);\n    const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n    const isOutOfBound = (current, target) => {\n      return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n    };\n\n    const animate = () => {\n      time = new Date().getTime();\n\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n      let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        currentPosition = targetPosition;\n      }\n\n      swiper.wrapperEl.scrollTo({\n        [side]: currentPosition\n      });\n\n      if (isOutOfBound(currentPosition, targetPosition)) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.scrollSnapType = '';\n        setTimeout(() => {\n          swiper.wrapperEl.style.overflow = '';\n          swiper.wrapperEl.scrollTo({\n            [side]: currentPosition\n          });\n        });\n        window.cancelAnimationFrame(swiper.cssModeFrameID);\n        return;\n      }\n\n      swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n    };\n\n    animate();\n  }\n\n  let support;\n\n  function calcSupport() {\n    const window = getWindow();\n    const document = getDocument();\n    return {\n      smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n      touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n      passiveListener: function checkPassiveListener() {\n        let supportsPassive = false;\n\n        try {\n          const opts = Object.defineProperty({}, 'passive', {\n            // eslint-disable-next-line\n            get() {\n              supportsPassive = true;\n            }\n\n          });\n          window.addEventListener('testPassiveListener', null, opts);\n        } catch (e) {// No support\n        }\n\n        return supportsPassive;\n      }(),\n      gestures: function checkGestures() {\n        return 'ongesturestart' in window;\n      }()\n    };\n  }\n\n  function getSupport() {\n    if (!support) {\n      support = calcSupport();\n    }\n\n    return support;\n  }\n\n  let deviceCached;\n\n  function calcDevice({\n    userAgent\n  } = {}) {\n    const support = getSupport();\n    const window = getWindow();\n    const platform = window.navigator.platform;\n    const ua = userAgent || window.navigator.userAgent;\n    const device = {\n      ios: false,\n      android: false\n    };\n    const screenWidth = window.screen.width;\n    const screenHeight = window.screen.height;\n    const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n    let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n    const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n    const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n    const windows = platform === 'Win32';\n    let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n    const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n    if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n      ipad = ua.match(/(Version)\\/([\\d.]+)/);\n      if (!ipad) ipad = [0, 1, '13_0_0'];\n      macos = false;\n    } // Android\n\n\n    if (android && !windows) {\n      device.os = 'android';\n      device.android = true;\n    }\n\n    if (ipad || iphone || ipod) {\n      device.os = 'ios';\n      device.ios = true;\n    } // Export object\n\n\n    return device;\n  }\n\n  function getDevice(overrides = {}) {\n    if (!deviceCached) {\n      deviceCached = calcDevice(overrides);\n    }\n\n    return deviceCached;\n  }\n\n  let browser;\n\n  function calcBrowser() {\n    const window = getWindow();\n\n    function isSafari() {\n      const ua = window.navigator.userAgent.toLowerCase();\n      return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n    }\n\n    return {\n      isSafari: isSafari(),\n      isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n    };\n  }\n\n  function getBrowser() {\n    if (!browser) {\n      browser = calcBrowser();\n    }\n\n    return browser;\n  }\n\n  function Resize({\n    swiper,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    let observer = null;\n\n    const resizeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('beforeResize');\n      emit('resize');\n    };\n\n    const createObserver = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      observer = new ResizeObserver(entries => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n      observer.observe(swiper.el);\n    };\n\n    const removeObserver = () => {\n      if (observer && observer.unobserve && swiper.el) {\n        observer.unobserve(swiper.el);\n        observer = null;\n      }\n    };\n\n    const orientationChangeHandler = () => {\n      if (!swiper || swiper.destroyed || !swiper.initialized) return;\n      emit('orientationchange');\n    };\n\n    on('init', () => {\n      if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n        createObserver();\n        return;\n      }\n\n      window.addEventListener('resize', resizeHandler);\n      window.addEventListener('orientationchange', orientationChangeHandler);\n    });\n    on('destroy', () => {\n      removeObserver();\n      window.removeEventListener('resize', resizeHandler);\n      window.removeEventListener('orientationchange', orientationChangeHandler);\n    });\n  }\n\n  function Observer({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const observers = [];\n    const window = getWindow();\n\n    const attach = (target, options = {}) => {\n      const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n      const observer = new ObserverFunc(mutations => {\n        // The observerUpdate event should only be triggered\n        // once despite the number of mutations.  Additional\n        // triggers are redundant and are very costly\n        if (mutations.length === 1) {\n          emit('observerUpdate', mutations[0]);\n          return;\n        }\n\n        const observerUpdate = function observerUpdate() {\n          emit('observerUpdate', mutations[0]);\n        };\n\n        if (window.requestAnimationFrame) {\n          window.requestAnimationFrame(observerUpdate);\n        } else {\n          window.setTimeout(observerUpdate, 0);\n        }\n      });\n      observer.observe(target, {\n        attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n        childList: typeof options.childList === 'undefined' ? true : options.childList,\n        characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n      });\n      observers.push(observer);\n    };\n\n    const init = () => {\n      if (!swiper.params.observer) return;\n\n      if (swiper.params.observeParents) {\n        const containerParents = swiper.$el.parents();\n\n        for (let i = 0; i < containerParents.length; i += 1) {\n          attach(containerParents[i]);\n        }\n      } // Observe container\n\n\n      attach(swiper.$el[0], {\n        childList: swiper.params.observeSlideChildren\n      }); // Observe wrapper\n\n      attach(swiper.$wrapperEl[0], {\n        attributes: false\n      });\n    };\n\n    const destroy = () => {\n      observers.forEach(observer => {\n        observer.disconnect();\n      });\n      observers.splice(0, observers.length);\n    };\n\n    extendParams({\n      observer: false,\n      observeParents: false,\n      observeSlideChildren: false\n    });\n    on('init', init);\n    on('destroy', destroy);\n  }\n\n  /* eslint-disable no-underscore-dangle */\n  var eventsEmitter = {\n    on(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n      events.split(' ').forEach(event => {\n        if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n        self.eventsListeners[event][method](handler);\n      });\n      return self;\n    },\n\n    once(events, handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n\n      function onceHandler(...args) {\n        self.off(events, onceHandler);\n\n        if (onceHandler.__emitterProxy) {\n          delete onceHandler.__emitterProxy;\n        }\n\n        handler.apply(self, args);\n      }\n\n      onceHandler.__emitterProxy = handler;\n      return self.on(events, onceHandler, priority);\n    },\n\n    onAny(handler, priority) {\n      const self = this;\n      if (typeof handler !== 'function') return self;\n      const method = priority ? 'unshift' : 'push';\n\n      if (self.eventsAnyListeners.indexOf(handler) < 0) {\n        self.eventsAnyListeners[method](handler);\n      }\n\n      return self;\n    },\n\n    offAny(handler) {\n      const self = this;\n      if (!self.eventsAnyListeners) return self;\n      const index = self.eventsAnyListeners.indexOf(handler);\n\n      if (index >= 0) {\n        self.eventsAnyListeners.splice(index, 1);\n      }\n\n      return self;\n    },\n\n    off(events, handler) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      events.split(' ').forEach(event => {\n        if (typeof handler === 'undefined') {\n          self.eventsListeners[event] = [];\n        } else if (self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach((eventHandler, index) => {\n            if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n              self.eventsListeners[event].splice(index, 1);\n            }\n          });\n        }\n      });\n      return self;\n    },\n\n    emit(...args) {\n      const self = this;\n      if (!self.eventsListeners) return self;\n      let events;\n      let data;\n      let context;\n\n      if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n        events = args[0];\n        data = args.slice(1, args.length);\n        context = self;\n      } else {\n        events = args[0].events;\n        data = args[0].data;\n        context = args[0].context || self;\n      }\n\n      data.unshift(context);\n      const eventsArray = Array.isArray(events) ? events : events.split(' ');\n      eventsArray.forEach(event => {\n        if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n          self.eventsAnyListeners.forEach(eventHandler => {\n            eventHandler.apply(context, [event, ...data]);\n          });\n        }\n\n        if (self.eventsListeners && self.eventsListeners[event]) {\n          self.eventsListeners[event].forEach(eventHandler => {\n            eventHandler.apply(context, data);\n          });\n        }\n      });\n      return self;\n    }\n\n  };\n\n  function updateSize() {\n    const swiper = this;\n    let width;\n    let height;\n    const $el = swiper.$el;\n\n    if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n      width = swiper.params.width;\n    } else {\n      width = $el[0].clientWidth;\n    }\n\n    if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n      height = swiper.params.height;\n    } else {\n      height = $el[0].clientHeight;\n    }\n\n    if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n      return;\n    } // Subtract paddings\n\n\n    width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n    height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n    if (Number.isNaN(width)) width = 0;\n    if (Number.isNaN(height)) height = 0;\n    Object.assign(swiper, {\n      width,\n      height,\n      size: swiper.isHorizontal() ? width : height\n    });\n  }\n\n  function updateSlides() {\n    const swiper = this;\n\n    function getDirectionLabel(property) {\n      if (swiper.isHorizontal()) {\n        return property;\n      } // prettier-ignore\n\n\n      return {\n        'width': 'height',\n        'margin-top': 'margin-left',\n        'margin-bottom ': 'margin-right',\n        'margin-left': 'margin-top',\n        'margin-right': 'margin-bottom',\n        'padding-left': 'padding-top',\n        'padding-right': 'padding-bottom',\n        'marginRight': 'marginBottom'\n      }[property];\n    }\n\n    function getDirectionPropertyValue(node, label) {\n      return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n    }\n\n    const params = swiper.params;\n    const {\n      $wrapperEl,\n      size: swiperSize,\n      rtlTranslate: rtl,\n      wrongRTL\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n    const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n    const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n    let snapGrid = [];\n    const slidesGrid = [];\n    const slidesSizesGrid = [];\n    let offsetBefore = params.slidesOffsetBefore;\n\n    if (typeof offsetBefore === 'function') {\n      offsetBefore = params.slidesOffsetBefore.call(swiper);\n    }\n\n    let offsetAfter = params.slidesOffsetAfter;\n\n    if (typeof offsetAfter === 'function') {\n      offsetAfter = params.slidesOffsetAfter.call(swiper);\n    }\n\n    const previousSnapGridLength = swiper.snapGrid.length;\n    const previousSlidesGridLength = swiper.slidesGrid.length;\n    let spaceBetween = params.spaceBetween;\n    let slidePosition = -offsetBefore;\n    let prevSlideSize = 0;\n    let index = 0;\n\n    if (typeof swiperSize === 'undefined') {\n      return;\n    }\n\n    if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n      spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n    }\n\n    swiper.virtualSize = -spaceBetween; // reset margins\n\n    if (rtl) slides.css({\n      marginLeft: '',\n      marginBottom: '',\n      marginTop: ''\n    });else slides.css({\n      marginRight: '',\n      marginBottom: '',\n      marginTop: ''\n    }); // reset cssMode offsets\n\n    if (params.centeredSlides && params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n    }\n\n    const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n    if (gridEnabled) {\n      swiper.grid.initSlides(slidesLength);\n    } // Calc slides\n\n\n    let slideSize;\n    const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n      return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n    }).length > 0;\n\n    for (let i = 0; i < slidesLength; i += 1) {\n      slideSize = 0;\n      const slide = slides.eq(i);\n\n      if (gridEnabled) {\n        swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n      }\n\n      if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n      if (params.slidesPerView === 'auto') {\n        if (shouldResetSlideSize) {\n          slides[i].style[getDirectionLabel('width')] = ``;\n        }\n\n        const slideStyles = getComputedStyle(slide[0]);\n        const currentTransform = slide[0].style.transform;\n        const currentWebKitTransform = slide[0].style.webkitTransform;\n\n        if (currentTransform) {\n          slide[0].style.transform = 'none';\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = 'none';\n        }\n\n        if (params.roundLengths) {\n          slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n        } else {\n          // eslint-disable-next-line\n          const width = getDirectionPropertyValue(slideStyles, 'width');\n          const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n          const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n          const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n          const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n          const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n          if (boxSizing && boxSizing === 'border-box') {\n            slideSize = width + marginLeft + marginRight;\n          } else {\n            const {\n              clientWidth,\n              offsetWidth\n            } = slide[0];\n            slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n          }\n        }\n\n        if (currentTransform) {\n          slide[0].style.transform = currentTransform;\n        }\n\n        if (currentWebKitTransform) {\n          slide[0].style.webkitTransform = currentWebKitTransform;\n        }\n\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n      } else {\n        slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n        if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n        if (slides[i]) {\n          slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n        }\n      }\n\n      if (slides[i]) {\n        slides[i].swiperSlideSize = slideSize;\n      }\n\n      slidesSizesGrid.push(slideSize);\n\n      if (params.centeredSlides) {\n        slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n        if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n        if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n      } else {\n        if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n        if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n        slidesGrid.push(slidePosition);\n        slidePosition = slidePosition + slideSize + spaceBetween;\n      }\n\n      swiper.virtualSize += slideSize + spaceBetween;\n      prevSlideSize = slideSize;\n      index += 1;\n    }\n\n    swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n    if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n      $wrapperEl.css({\n        width: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (params.setWrapperSize) {\n      $wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n      });\n    }\n\n    if (gridEnabled) {\n      swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n    } // Remove last grid elements depending on width\n\n\n    if (!params.centeredSlides) {\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n        if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n          newSlidesGrid.push(slidesGridItem);\n        }\n      }\n\n      snapGrid = newSlidesGrid;\n\n      if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n        snapGrid.push(swiper.virtualSize - swiperSize);\n      }\n    }\n\n    if (snapGrid.length === 0) snapGrid = [0];\n\n    if (params.spaceBetween !== 0) {\n      const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n      slides.filter((_, slideIndex) => {\n        if (!params.cssMode) return true;\n\n        if (slideIndex === slides.length - 1) {\n          return false;\n        }\n\n        return true;\n      }).css({\n        [key]: `${spaceBetween}px`\n      });\n    }\n\n    if (params.centeredSlides && params.centeredSlidesBounds) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n      const maxSnap = allSlidesSize - swiperSize;\n      snapGrid = snapGrid.map(snap => {\n        if (snap < 0) return -offsetBefore;\n        if (snap > maxSnap) return maxSnap + offsetAfter;\n        return snap;\n      });\n    }\n\n    if (params.centerInsufficientSlides) {\n      let allSlidesSize = 0;\n      slidesSizesGrid.forEach(slideSizeValue => {\n        allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n      });\n      allSlidesSize -= params.spaceBetween;\n\n      if (allSlidesSize < swiperSize) {\n        const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n        snapGrid.forEach((snap, snapIndex) => {\n          snapGrid[snapIndex] = snap - allSlidesOffset;\n        });\n        slidesGrid.forEach((snap, snapIndex) => {\n          slidesGrid[snapIndex] = snap + allSlidesOffset;\n        });\n      }\n    }\n\n    Object.assign(swiper, {\n      slides,\n      snapGrid,\n      slidesGrid,\n      slidesSizesGrid\n    });\n\n    if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n      setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n      const addToSnapGrid = -swiper.snapGrid[0];\n      const addToSlidesGrid = -swiper.slidesGrid[0];\n      swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n      swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n    }\n\n    if (slidesLength !== previousSlidesLength) {\n      swiper.emit('slidesLengthChange');\n    }\n\n    if (snapGrid.length !== previousSnapGridLength) {\n      if (swiper.params.watchOverflow) swiper.checkOverflow();\n      swiper.emit('snapGridLengthChange');\n    }\n\n    if (slidesGrid.length !== previousSlidesGridLength) {\n      swiper.emit('slidesGridLengthChange');\n    }\n\n    if (params.watchSlidesProgress) {\n      swiper.updateSlidesOffset();\n    }\n  }\n\n  function updateAutoHeight(speed) {\n    const swiper = this;\n    const activeSlides = [];\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let newHeight = 0;\n    let i;\n\n    if (typeof speed === 'number') {\n      swiper.setTransition(speed);\n    } else if (speed === true) {\n      swiper.setTransition(swiper.params.speed);\n    }\n\n    const getSlideByIndex = index => {\n      if (isVirtual) {\n        return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n      }\n\n      return swiper.slides.eq(index)[0];\n    }; // Find slides currently in view\n\n\n    if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n      if (swiper.params.centeredSlides) {\n        swiper.visibleSlides.each(slide => {\n          activeSlides.push(slide);\n        });\n      } else {\n        for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n          const index = swiper.activeIndex + i;\n          if (index > swiper.slides.length && !isVirtual) break;\n          activeSlides.push(getSlideByIndex(index));\n        }\n      }\n    } else {\n      activeSlides.push(getSlideByIndex(swiper.activeIndex));\n    } // Find new height from highest slide in view\n\n\n    for (i = 0; i < activeSlides.length; i += 1) {\n      if (typeof activeSlides[i] !== 'undefined') {\n        const height = activeSlides[i].offsetHeight;\n        newHeight = height > newHeight ? height : newHeight;\n      }\n    } // Update Height\n\n\n    if (newHeight) swiper.$wrapperEl.css('height', `${newHeight}px`);\n  }\n\n  function updateSlidesOffset() {\n    const swiper = this;\n    const slides = swiper.slides;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n    }\n  }\n\n  function updateSlidesProgress(translate = this && this.translate || 0) {\n    const swiper = this;\n    const params = swiper.params;\n    const {\n      slides,\n      rtlTranslate: rtl,\n      snapGrid\n    } = swiper;\n    if (slides.length === 0) return;\n    if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n    let offsetCenter = -translate;\n    if (rtl) offsetCenter = translate; // Visible Slides\n\n    slides.removeClass(params.slideVisibleClass);\n    swiper.visibleSlidesIndexes = [];\n    swiper.visibleSlides = [];\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const slide = slides[i];\n      let slideOffset = slide.swiperSlideOffset;\n\n      if (params.cssMode && params.centeredSlides) {\n        slideOffset -= slides[0].swiperSlideOffset;\n      }\n\n      const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n      const slideBefore = -(offsetCenter - slideOffset);\n      const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n      const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n      if (isVisible) {\n        swiper.visibleSlides.push(slide);\n        swiper.visibleSlidesIndexes.push(i);\n        slides.eq(i).addClass(params.slideVisibleClass);\n      }\n\n      slide.progress = rtl ? -slideProgress : slideProgress;\n      slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n    }\n\n    swiper.visibleSlides = $(swiper.visibleSlides);\n  }\n\n  function updateProgress(translate) {\n    const swiper = this;\n\n    if (typeof translate === 'undefined') {\n      const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n      translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n    }\n\n    const params = swiper.params;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n    let {\n      progress,\n      isBeginning,\n      isEnd\n    } = swiper;\n    const wasBeginning = isBeginning;\n    const wasEnd = isEnd;\n\n    if (translatesDiff === 0) {\n      progress = 0;\n      isBeginning = true;\n      isEnd = true;\n    } else {\n      progress = (translate - swiper.minTranslate()) / translatesDiff;\n      isBeginning = progress <= 0;\n      isEnd = progress >= 1;\n    }\n\n    Object.assign(swiper, {\n      progress,\n      isBeginning,\n      isEnd\n    });\n    if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n    if (isBeginning && !wasBeginning) {\n      swiper.emit('reachBeginning toEdge');\n    }\n\n    if (isEnd && !wasEnd) {\n      swiper.emit('reachEnd toEdge');\n    }\n\n    if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n      swiper.emit('fromEdge');\n    }\n\n    swiper.emit('progress', progress);\n  }\n\n  function updateSlidesClasses() {\n    const swiper = this;\n    const {\n      slides,\n      params,\n      $wrapperEl,\n      activeIndex,\n      realIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && params.virtual.enabled;\n    slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n    let activeSlide;\n\n    if (isVirtual) {\n      activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n    } else {\n      activeSlide = slides.eq(activeIndex);\n    } // Active classes\n\n\n    activeSlide.addClass(params.slideActiveClass);\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (activeSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n      }\n    } // Next Slide\n\n\n    let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n    if (params.loop && nextSlide.length === 0) {\n      nextSlide = slides.eq(0);\n      nextSlide.addClass(params.slideNextClass);\n    } // Prev Slide\n\n\n    let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n    if (params.loop && prevSlide.length === 0) {\n      prevSlide = slides.eq(-1);\n      prevSlide.addClass(params.slidePrevClass);\n    }\n\n    if (params.loop) {\n      // Duplicate to all looped slides\n      if (nextSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n      }\n\n      if (prevSlide.hasClass(params.slideDuplicateClass)) {\n        $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      } else {\n        $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n      }\n    }\n\n    swiper.emitSlidesClasses();\n  }\n\n  function updateActiveIndex(newActiveIndex) {\n    const swiper = this;\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n    const {\n      slidesGrid,\n      snapGrid,\n      params,\n      activeIndex: previousIndex,\n      realIndex: previousRealIndex,\n      snapIndex: previousSnapIndex\n    } = swiper;\n    let activeIndex = newActiveIndex;\n    let snapIndex;\n\n    if (typeof activeIndex === 'undefined') {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n            activeIndex = i;\n          } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n            activeIndex = i + 1;\n          }\n        } else if (translate >= slidesGrid[i]) {\n          activeIndex = i;\n        }\n      } // Normalize slideIndex\n\n\n      if (params.normalizeSlideIndex) {\n        if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n      }\n    }\n\n    if (snapGrid.indexOf(translate) >= 0) {\n      snapIndex = snapGrid.indexOf(translate);\n    } else {\n      const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n      snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n    }\n\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if (activeIndex === previousIndex) {\n      if (snapIndex !== previousSnapIndex) {\n        swiper.snapIndex = snapIndex;\n        swiper.emit('snapIndexChange');\n      }\n\n      return;\n    } // Get real index\n\n\n    const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n    Object.assign(swiper, {\n      snapIndex,\n      realIndex,\n      previousIndex,\n      activeIndex\n    });\n    swiper.emit('activeIndexChange');\n    swiper.emit('snapIndexChange');\n\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n\n    if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n      swiper.emit('slideChange');\n    }\n  }\n\n  function updateClickedSlide(e) {\n    const swiper = this;\n    const params = swiper.params;\n    const slide = $(e).closest(`.${params.slideClass}`)[0];\n    let slideFound = false;\n    let slideIndex;\n\n    if (slide) {\n      for (let i = 0; i < swiper.slides.length; i += 1) {\n        if (swiper.slides[i] === slide) {\n          slideFound = true;\n          slideIndex = i;\n          break;\n        }\n      }\n    }\n\n    if (slide && slideFound) {\n      swiper.clickedSlide = slide;\n\n      if (swiper.virtual && swiper.params.virtual.enabled) {\n        swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n      } else {\n        swiper.clickedIndex = slideIndex;\n      }\n    } else {\n      swiper.clickedSlide = undefined;\n      swiper.clickedIndex = undefined;\n      return;\n    }\n\n    if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n      swiper.slideToClickedSlide();\n    }\n  }\n\n  var update = {\n    updateSize,\n    updateSlides,\n    updateAutoHeight,\n    updateSlidesOffset,\n    updateSlidesProgress,\n    updateProgress,\n    updateSlidesClasses,\n    updateActiveIndex,\n    updateClickedSlide\n  };\n\n  function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n    const swiper = this;\n    const {\n      params,\n      rtlTranslate: rtl,\n      translate,\n      $wrapperEl\n    } = swiper;\n\n    if (params.virtualTranslate) {\n      return rtl ? -translate : translate;\n    }\n\n    if (params.cssMode) {\n      return translate;\n    }\n\n    let currentTranslate = getTranslate($wrapperEl[0], axis);\n    if (rtl) currentTranslate = -currentTranslate;\n    return currentTranslate || 0;\n  }\n\n  function setTranslate(translate, byController) {\n    const swiper = this;\n    const {\n      rtlTranslate: rtl,\n      params,\n      $wrapperEl,\n      wrapperEl,\n      progress\n    } = swiper;\n    let x = 0;\n    let y = 0;\n    const z = 0;\n\n    if (swiper.isHorizontal()) {\n      x = rtl ? -translate : translate;\n    } else {\n      y = translate;\n    }\n\n    if (params.roundLengths) {\n      x = Math.floor(x);\n      y = Math.floor(y);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n    } else if (!params.virtualTranslate) {\n      $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n    }\n\n    swiper.previousTranslate = swiper.translate;\n    swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== progress) {\n      swiper.updateProgress(translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, byController);\n  }\n\n  function minTranslate() {\n    return -this.snapGrid[0];\n  }\n\n  function maxTranslate() {\n    return -this.snapGrid[this.snapGrid.length - 1];\n  }\n\n  function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      wrapperEl\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return false;\n    }\n\n    const minTranslate = swiper.minTranslate();\n    const maxTranslate = swiper.maxTranslate();\n    let newTranslate;\n    if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n    swiper.updateProgress(newTranslate);\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n\n      if (speed === 0) {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: -newTranslate,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: -newTranslate,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionEnd');\n      }\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(newTranslate);\n\n      if (runCallbacks) {\n        swiper.emit('beforeTransitionStart', speed, internal);\n        swiper.emit('transitionStart');\n      }\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onTranslateToWrapperTransitionEnd) {\n          swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n            swiper.onTranslateToWrapperTransitionEnd = null;\n            delete swiper.onTranslateToWrapperTransitionEnd;\n\n            if (runCallbacks) {\n              swiper.emit('transitionEnd');\n            }\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  var translate = {\n    getTranslate: getSwiperTranslate,\n    setTranslate,\n    minTranslate,\n    maxTranslate,\n    translateTo\n  };\n\n  function setTransition(duration, byController) {\n    const swiper = this;\n\n    if (!swiper.params.cssMode) {\n      swiper.$wrapperEl.transition(duration);\n    }\n\n    swiper.emit('setTransition', duration, byController);\n  }\n\n  function transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  }) {\n    const {\n      activeIndex,\n      previousIndex\n    } = swiper;\n    let dir = direction;\n\n    if (!dir) {\n      if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n    }\n\n    swiper.emit(`transition${step}`);\n\n    if (runCallbacks && activeIndex !== previousIndex) {\n      if (dir === 'reset') {\n        swiper.emit(`slideResetTransition${step}`);\n        return;\n      }\n\n      swiper.emit(`slideChangeTransition${step}`);\n\n      if (dir === 'next') {\n        swiper.emit(`slideNextTransition${step}`);\n      } else {\n        swiper.emit(`slidePrevTransition${step}`);\n      }\n    }\n  }\n\n  function transitionStart(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    if (params.cssMode) return;\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'Start'\n    });\n  }\n\n  function transitionEnd(runCallbacks = true, direction) {\n    const swiper = this;\n    const {\n      params\n    } = swiper;\n    swiper.animating = false;\n    if (params.cssMode) return;\n    swiper.setTransition(0);\n    transitionEmit({\n      swiper,\n      runCallbacks,\n      direction,\n      step: 'End'\n    });\n  }\n\n  var transition = {\n    setTransition,\n    transitionStart,\n    transitionEnd\n  };\n\n  function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n    if (typeof index !== 'number' && typeof index !== 'string') {\n      throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n    }\n\n    if (typeof index === 'string') {\n      /**\n       * The `index` argument converted from `string` to `number`.\n       * @type {number}\n       */\n      const indexAsNumber = parseInt(index, 10);\n      /**\n       * Determines whether the `index` argument is a valid `number`\n       * after being converted from the `string` type.\n       * @type {boolean}\n       */\n\n      const isValidNumber = isFinite(indexAsNumber);\n\n      if (!isValidNumber) {\n        throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n      } // Knowing that the converted `index` is a valid number,\n      // we can update the original argument's value.\n\n\n      index = indexAsNumber;\n    }\n\n    const swiper = this;\n    let slideIndex = index;\n    if (slideIndex < 0) slideIndex = 0;\n    const {\n      params,\n      snapGrid,\n      slidesGrid,\n      previousIndex,\n      activeIndex,\n      rtlTranslate: rtl,\n      wrapperEl,\n      enabled\n    } = swiper;\n\n    if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n      return false;\n    }\n\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n    let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n    if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n    if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n      swiper.emit('beforeSlideChangeStart');\n    }\n\n    const translate = -snapGrid[snapIndex]; // Update progress\n\n    swiper.updateProgress(translate); // Normalize slideIndex\n\n    if (params.normalizeSlideIndex) {\n      for (let i = 0; i < slidesGrid.length; i += 1) {\n        const normalizedTranslate = -Math.floor(translate * 100);\n        const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n        const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n        if (typeof slidesGrid[i + 1] !== 'undefined') {\n          if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n            slideIndex = i;\n          } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n            slideIndex = i + 1;\n          }\n        } else if (normalizedTranslate >= normalizedGrid) {\n          slideIndex = i;\n        }\n      }\n    } // Directions locks\n\n\n    if (swiper.initialized && slideIndex !== activeIndex) {\n      if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n        if ((activeIndex || 0) !== slideIndex) return false;\n      }\n    }\n\n    let direction;\n    if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n    if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n      swiper.updateActiveIndex(slideIndex); // Update Height\n\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n\n      swiper.updateSlidesClasses();\n\n      if (params.effect !== 'slide') {\n        swiper.setTranslate(translate);\n      }\n\n      if (direction !== 'reset') {\n        swiper.transitionStart(runCallbacks, direction);\n        swiper.transitionEnd(runCallbacks, direction);\n      }\n\n      return false;\n    }\n\n    if (params.cssMode) {\n      const isH = swiper.isHorizontal();\n      const t = rtl ? translate : -translate;\n\n      if (speed === 0) {\n        const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n        if (isVirtual) {\n          swiper.wrapperEl.style.scrollSnapType = 'none';\n          swiper._immediateVirtual = true;\n        }\n\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n        if (isVirtual) {\n          requestAnimationFrame(() => {\n            swiper.wrapperEl.style.scrollSnapType = '';\n            swiper._swiperImmediateVirtual = false;\n          });\n        }\n      } else {\n        if (!swiper.support.smoothScroll) {\n          animateCSSModeScroll({\n            swiper,\n            targetPosition: t,\n            side: isH ? 'left' : 'top'\n          });\n          return true;\n        }\n\n        wrapperEl.scrollTo({\n          [isH ? 'left' : 'top']: t,\n          behavior: 'smooth'\n        });\n      }\n\n      return true;\n    }\n\n    if (speed === 0) {\n      swiper.setTransition(0);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    } else {\n      swiper.setTransition(speed);\n      swiper.setTranslate(translate);\n      swiper.updateActiveIndex(slideIndex);\n      swiper.updateSlidesClasses();\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.transitionStart(runCallbacks, direction);\n\n      if (!swiper.animating) {\n        swiper.animating = true;\n\n        if (!swiper.onSlideToWrapperTransitionEnd) {\n          swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n            if (!swiper || swiper.destroyed) return;\n            if (e.target !== this) return;\n            swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n            swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n            swiper.onSlideToWrapperTransitionEnd = null;\n            delete swiper.onSlideToWrapperTransitionEnd;\n            swiper.transitionEnd(runCallbacks, direction);\n          };\n        }\n\n        swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n      }\n    }\n\n    return true;\n  }\n\n  function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    let newIndex = index;\n\n    if (swiper.params.loop) {\n      newIndex += swiper.loopedSlides;\n    }\n\n    return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      animating,\n      enabled,\n      params\n    } = swiper;\n    if (!enabled) return swiper;\n    let perGroup = params.slidesPerGroup;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n    }\n\n    const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    const {\n      params,\n      animating,\n      snapGrid,\n      slidesGrid,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return swiper;\n\n    if (params.loop) {\n      if (animating && params.loopPreventsSlide) return false;\n      swiper.loopFix(); // eslint-disable-next-line\n\n      swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n    }\n\n    const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n    function normalize(val) {\n      if (val < 0) return -Math.floor(Math.abs(val));\n      return Math.floor(val);\n    }\n\n    const normalizedTranslate = normalize(translate);\n    const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n    let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n    if (typeof prevSnap === 'undefined' && params.cssMode) {\n      let prevSnapIndex;\n      snapGrid.forEach((snap, snapIndex) => {\n        if (normalizedTranslate >= snap) {\n          // prevSnap = snap;\n          prevSnapIndex = snapIndex;\n        }\n      });\n\n      if (typeof prevSnapIndex !== 'undefined') {\n        prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n      }\n    }\n\n    let prevIndex = 0;\n\n    if (typeof prevSnap !== 'undefined') {\n      prevIndex = slidesGrid.indexOf(prevSnap);\n      if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n      if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n        prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n        prevIndex = Math.max(prevIndex, 0);\n      }\n    }\n\n    return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n    const swiper = this;\n    return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n  }\n\n  /* eslint no-unused-vars: \"off\" */\n  function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n    const swiper = this;\n    let index = swiper.activeIndex;\n    const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n    const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n    const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n    if (translate >= swiper.snapGrid[snapIndex]) {\n      // The current translate is on or after the current snap index, so the choice\n      // is between the current index and the one after it.\n      const currentSnap = swiper.snapGrid[snapIndex];\n      const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n      if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n        index += swiper.params.slidesPerGroup;\n      }\n    } else {\n      // The current translate is before the current snap index, so the choice\n      // is between the current index and the one before it.\n      const prevSnap = swiper.snapGrid[snapIndex - 1];\n      const currentSnap = swiper.snapGrid[snapIndex];\n\n      if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n        index -= swiper.params.slidesPerGroup;\n      }\n    }\n\n    index = Math.max(index, 0);\n    index = Math.min(index, swiper.slidesGrid.length - 1);\n    return swiper.slideTo(index, speed, runCallbacks, internal);\n  }\n\n  function slideToClickedSlide() {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl\n    } = swiper;\n    const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n    let slideToIndex = swiper.clickedIndex;\n    let realIndex;\n\n    if (params.loop) {\n      if (swiper.animating) return;\n      realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n      if (params.centeredSlides) {\n        if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n          swiper.loopFix();\n          slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n          nextTick(() => {\n            swiper.slideTo(slideToIndex);\n          });\n        } else {\n          swiper.slideTo(slideToIndex);\n        }\n      } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  }\n\n  var slide = {\n    slideTo,\n    slideToLoop,\n    slideNext,\n    slidePrev,\n    slideReset,\n    slideToClosest,\n    slideToClickedSlide\n  };\n\n  function loopCreate() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      $wrapperEl\n    } = swiper; // Remove duplicated slides\n\n    const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n    $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n    let slides = $selector.children(`.${params.slideClass}`);\n\n    if (params.loopFillGroupWithBlank) {\n      const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n      if (blankSlidesNum !== params.slidesPerGroup) {\n        for (let i = 0; i < blankSlidesNum; i += 1) {\n          const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n          $selector.append(blankNode);\n        }\n\n        slides = $selector.children(`.${params.slideClass}`);\n      }\n    }\n\n    if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n    swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n    swiper.loopedSlides += params.loopAdditionalSlides;\n\n    if (swiper.loopedSlides > slides.length) {\n      swiper.loopedSlides = slides.length;\n    }\n\n    const prependSlides = [];\n    const appendSlides = [];\n    slides.each((el, index) => {\n      const slide = $(el);\n\n      if (index < swiper.loopedSlides) {\n        appendSlides.push(el);\n      }\n\n      if (index < slides.length && index >= slides.length - swiper.loopedSlides) {\n        prependSlides.push(el);\n      }\n\n      slide.attr('data-swiper-slide-index', index);\n    });\n\n    for (let i = 0; i < appendSlides.length; i += 1) {\n      $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n\n    for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n      $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n    }\n  }\n\n  function loopFix() {\n    const swiper = this;\n    swiper.emit('beforeLoopFix');\n    const {\n      activeIndex,\n      slides,\n      loopedSlides,\n      allowSlidePrev,\n      allowSlideNext,\n      snapGrid,\n      rtlTranslate: rtl\n    } = swiper;\n    let newIndex;\n    swiper.allowSlidePrev = true;\n    swiper.allowSlideNext = true;\n    const snapTranslate = -snapGrid[activeIndex];\n    const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n    if (activeIndex < loopedSlides) {\n      newIndex = slides.length - loopedSlides * 3 + activeIndex;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    } else if (activeIndex >= slides.length - loopedSlides) {\n      // Fix For Positive Oversliding\n      newIndex = -slides.length + activeIndex + loopedSlides;\n      newIndex += loopedSlides;\n      const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n      if (slideChanged && diff !== 0) {\n        swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n      }\n    }\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n  }\n\n  function loopDestroy() {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      slides\n    } = swiper;\n    $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n    slides.removeAttr('data-swiper-slide-index');\n  }\n\n  var loop = {\n    loopCreate,\n    loopFix,\n    loopDestroy\n  };\n\n  function setGrabCursor(moving) {\n    const swiper = this;\n    if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n    const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n    el.style.cursor = 'move';\n    el.style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';\n    el.style.cursor = moving ? '-moz-grabbin' : '-moz-grab';\n    el.style.cursor = moving ? 'grabbing' : 'grab';\n  }\n\n  function unsetGrabCursor() {\n    const swiper = this;\n\n    if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n      return;\n    }\n\n    swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  }\n\n  var grabCursor = {\n    setGrabCursor,\n    unsetGrabCursor\n  };\n\n  function closestElement(selector, base = this) {\n    function __closestFrom(el) {\n      if (!el || el === getDocument() || el === getWindow()) return null;\n      if (el.assignedSlot) el = el.assignedSlot;\n      const found = el.closest(selector);\n      return found || __closestFrom(el.getRootNode().host);\n    }\n\n    return __closestFrom(base);\n  }\n\n  function onTouchStart(event) {\n    const swiper = this;\n    const document = getDocument();\n    const window = getWindow();\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n\n    if (swiper.animating && params.preventInteractionOnTransition) {\n      return;\n    }\n\n    if (!swiper.animating && params.cssMode && params.loop) {\n      swiper.loopFix();\n    }\n\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n    let $targetEl = $(e.target);\n\n    if (params.touchEventsTarget === 'wrapper') {\n      if (!$targetEl.closest(swiper.wrapperEl).length) return;\n    }\n\n    data.isTouchEvent = e.type === 'touchstart';\n    if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n    if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n    if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n    const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n    if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n      $targetEl = $(event.path[0]);\n    }\n\n    const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n    const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n    if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, e.target) : $targetEl.closest(noSwipingSelector)[0])) {\n      swiper.allowClick = true;\n      return;\n    }\n\n    if (params.swipeHandler) {\n      if (!$targetEl.closest(params.swipeHandler)[0]) return;\n    }\n\n    touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    const startX = touches.currentX;\n    const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n    const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n    const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n    if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n      if (edgeSwipeDetection === 'prevent') {\n        event.preventDefault();\n      } else {\n        return;\n      }\n    }\n\n    Object.assign(data, {\n      isTouched: true,\n      isMoved: false,\n      allowTouchCallbacks: true,\n      isScrolling: undefined,\n      startMoving: undefined\n    });\n    touches.startX = startX;\n    touches.startY = startY;\n    data.touchStartTime = now();\n    swiper.allowClick = true;\n    swiper.updateSize();\n    swiper.swipeDirection = undefined;\n    if (params.threshold > 0) data.allowThresholdMove = false;\n\n    if (e.type !== 'touchstart') {\n      let preventDefault = true;\n      if ($targetEl.is(data.focusableElements)) preventDefault = false;\n\n      if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n        document.activeElement.blur();\n      }\n\n      const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n      if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n        e.preventDefault();\n      }\n    }\n\n    swiper.emit('touchStart', e);\n  }\n\n  function onTouchMove(event) {\n    const document = getDocument();\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (!data.isTouched) {\n      if (data.startMoving && data.isScrolling) {\n        swiper.emit('touchMoveOpposite', e);\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && e.type !== 'touchmove') return;\n    const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n    const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n    const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n    if (e.preventedByNestedSwiper) {\n      touches.startX = pageX;\n      touches.startY = pageY;\n      return;\n    }\n\n    if (!swiper.allowTouchMove) {\n      // isMoved = true;\n      swiper.allowClick = false;\n\n      if (data.isTouched) {\n        Object.assign(touches, {\n          startX: pageX,\n          startY: pageY,\n          currentX: pageX,\n          currentY: pageY\n        });\n        data.touchStartTime = now();\n      }\n\n      return;\n    }\n\n    if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n      if (swiper.isVertical()) {\n        // Vertical\n        if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n          data.isTouched = false;\n          data.isMoved = false;\n          return;\n        }\n      } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n        return;\n      }\n    }\n\n    if (data.isTouchEvent && document.activeElement) {\n      if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n        data.isMoved = true;\n        swiper.allowClick = false;\n        return;\n      }\n    }\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchMove', e);\n    }\n\n    if (e.targetTouches && e.targetTouches.length > 1) return;\n    touches.currentX = pageX;\n    touches.currentY = pageY;\n    const diffX = touches.currentX - touches.startX;\n    const diffY = touches.currentY - touches.startY;\n    if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n    if (typeof data.isScrolling === 'undefined') {\n      let touchAngle;\n\n      if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n        data.isScrolling = false;\n      } else {\n        // eslint-disable-next-line\n        if (diffX * diffX + diffY * diffY >= 25) {\n          touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n          data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n        }\n      }\n    }\n\n    if (data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    if (typeof data.startMoving === 'undefined') {\n      if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n        data.startMoving = true;\n      }\n    }\n\n    if (data.isScrolling) {\n      data.isTouched = false;\n      return;\n    }\n\n    if (!data.startMoving) {\n      return;\n    }\n\n    swiper.allowClick = false;\n\n    if (!params.cssMode && e.cancelable) {\n      e.preventDefault();\n    }\n\n    if (params.touchMoveStopPropagation && !params.nested) {\n      e.stopPropagation();\n    }\n\n    if (!data.isMoved) {\n      if (params.loop && !params.cssMode) {\n        swiper.loopFix();\n      }\n\n      data.startTranslate = swiper.getTranslate();\n      swiper.setTransition(0);\n\n      if (swiper.animating) {\n        swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n      }\n\n      data.allowMomentumBounce = false; // Grab Cursor\n\n      if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n        swiper.setGrabCursor(true);\n      }\n\n      swiper.emit('sliderFirstMove', e);\n    }\n\n    swiper.emit('sliderMove', e);\n    data.isMoved = true;\n    let diff = swiper.isHorizontal() ? diffX : diffY;\n    touches.diff = diff;\n    diff *= params.touchRatio;\n    if (rtl) diff = -diff;\n    swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n    data.currentTranslate = diff + data.startTranslate;\n    let disableParentSwiper = true;\n    let resistanceRatio = params.resistanceRatio;\n\n    if (params.touchReleaseOnEdges) {\n      resistanceRatio = 0;\n    }\n\n    if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n    } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n    }\n\n    if (disableParentSwiper) {\n      e.preventedByNestedSwiper = true;\n    } // Directions locks\n\n\n    if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n      data.currentTranslate = data.startTranslate;\n    }\n\n    if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n      data.currentTranslate = data.startTranslate;\n    } // Threshold\n\n\n    if (params.threshold > 0) {\n      if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n        if (!data.allowThresholdMove) {\n          data.allowThresholdMove = true;\n          touches.startX = touches.currentX;\n          touches.startY = touches.currentY;\n          data.currentTranslate = data.startTranslate;\n          touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n          return;\n        }\n      } else {\n        data.currentTranslate = data.startTranslate;\n        return;\n      }\n    }\n\n    if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n    if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n      swiper.freeMode.onTouchMove();\n    } // Update progress\n\n\n    swiper.updateProgress(data.currentTranslate); // Update translate\n\n    swiper.setTranslate(data.currentTranslate);\n  }\n\n  function onTouchEnd(event) {\n    const swiper = this;\n    const data = swiper.touchEventsData;\n    const {\n      params,\n      touches,\n      rtlTranslate: rtl,\n      slidesGrid,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent;\n\n    if (data.allowTouchCallbacks) {\n      swiper.emit('touchEnd', e);\n    }\n\n    data.allowTouchCallbacks = false;\n\n    if (!data.isTouched) {\n      if (data.isMoved && params.grabCursor) {\n        swiper.setGrabCursor(false);\n      }\n\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    } // Return Grab Cursor\n\n\n    if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(false);\n    } // Time diff\n\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n    if (swiper.allowClick) {\n      const pathTree = e.path || e.composedPath && e.composedPath();\n      swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n      swiper.emit('tap click', e);\n\n      if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n        swiper.emit('doubleTap doubleClick', e);\n      }\n    }\n\n    data.lastClickTime = now();\n    nextTick(() => {\n      if (!swiper.destroyed) swiper.allowClick = true;\n    });\n\n    if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n      data.isTouched = false;\n      data.isMoved = false;\n      data.startMoving = false;\n      return;\n    }\n\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    let currentPos;\n\n    if (params.followFinger) {\n      currentPos = rtl ? swiper.translate : -swiper.translate;\n    } else {\n      currentPos = -data.currentTranslate;\n    }\n\n    if (params.cssMode) {\n      return;\n    }\n\n    if (swiper.params.freeMode && params.freeMode.enabled) {\n      swiper.freeMode.onTouchEnd({\n        currentPos\n      });\n      return;\n    } // Find current slide\n\n\n    let stopIndex = 0;\n    let groupSize = swiper.slidesSizesGrid[0];\n\n    for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n      const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n      if (typeof slidesGrid[i + increment] !== 'undefined') {\n        if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n          stopIndex = i;\n          groupSize = slidesGrid[i + increment] - slidesGrid[i];\n        }\n      } else if (currentPos >= slidesGrid[i]) {\n        stopIndex = i;\n        groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n      }\n    } // Find current slide size\n\n\n    const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n    const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (timeDiff > params.longSwipesMs) {\n      // Long touches\n      if (!params.longSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (swiper.swipeDirection === 'next') {\n        if (ratio >= params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        if (ratio > 1 - params.longSwipesRatio) swiper.slideTo(stopIndex + increment);else swiper.slideTo(stopIndex);\n      }\n    } else {\n      // Short swipes\n      if (!params.shortSwipes) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n      if (!isNavButtonTarget) {\n        if (swiper.swipeDirection === 'next') {\n          swiper.slideTo(stopIndex + increment);\n        }\n\n        if (swiper.swipeDirection === 'prev') {\n          swiper.slideTo(stopIndex);\n        }\n      } else if (e.target === swiper.navigation.nextEl) {\n        swiper.slideTo(stopIndex + increment);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  }\n\n  function onResize() {\n    const swiper = this;\n    const {\n      params,\n      el\n    } = swiper;\n    if (el && el.offsetWidth === 0) return; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Save locks\n\n\n    const {\n      allowSlideNext,\n      allowSlidePrev,\n      snapGrid\n    } = swiper; // Disable locks on resize\n\n    swiper.allowSlideNext = true;\n    swiper.allowSlidePrev = true;\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateSlidesClasses();\n\n    if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n      swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n\n    if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n      swiper.autoplay.run();\n    } // Return locks after resize\n\n\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n\n    if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n  }\n\n  function onClick(e) {\n    const swiper = this;\n    if (!swiper.enabled) return;\n\n    if (!swiper.allowClick) {\n      if (swiper.params.preventClicks) e.preventDefault();\n\n      if (swiper.params.preventClicksPropagation && swiper.animating) {\n        e.stopPropagation();\n        e.stopImmediatePropagation();\n      }\n    }\n  }\n\n  function onScroll() {\n    const swiper = this;\n    const {\n      wrapperEl,\n      rtlTranslate,\n      enabled\n    } = swiper;\n    if (!enabled) return;\n    swiper.previousTranslate = swiper.translate;\n\n    if (swiper.isHorizontal()) {\n      swiper.translate = -wrapperEl.scrollLeft;\n    } else {\n      swiper.translate = -wrapperEl.scrollTop;\n    } // eslint-disable-next-line\n\n\n    if (swiper.translate === -0) swiper.translate = 0;\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n    let newProgress;\n    const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n    if (translatesDiff === 0) {\n      newProgress = 0;\n    } else {\n      newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n    }\n\n    if (newProgress !== swiper.progress) {\n      swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n    }\n\n    swiper.emit('setTranslate', swiper.translate, false);\n  }\n\n  let dummyEventAttached = false;\n\n  function dummyEventListener() {}\n\n  const events = (swiper, method) => {\n    const document = getDocument();\n    const {\n      params,\n      touchEvents,\n      el,\n      wrapperEl,\n      device,\n      support\n    } = swiper;\n    const capture = !!params.nested;\n    const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n    const swiperMethod = method; // Touch Events\n\n    if (!support.touch) {\n      el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n      document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n      document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n    } else {\n      const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n      el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n        passive: false,\n        capture\n      } : capture);\n      el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n      if (touchEvents.cancel) {\n        el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n      }\n    } // Prevent Links Clicks\n\n\n    if (params.preventClicks || params.preventClicksPropagation) {\n      el[domMethod]('click', swiper.onClick, true);\n    }\n\n    if (params.cssMode) {\n      wrapperEl[domMethod]('scroll', swiper.onScroll);\n    } // Resize handler\n\n\n    if (params.updateOnWindowResize) {\n      swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n    } else {\n      swiper[swiperMethod]('observerUpdate', onResize, true);\n    }\n  };\n\n  function attachEvents() {\n    const swiper = this;\n    const document = getDocument();\n    const {\n      params,\n      support\n    } = swiper;\n    swiper.onTouchStart = onTouchStart.bind(swiper);\n    swiper.onTouchMove = onTouchMove.bind(swiper);\n    swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n    if (params.cssMode) {\n      swiper.onScroll = onScroll.bind(swiper);\n    }\n\n    swiper.onClick = onClick.bind(swiper);\n\n    if (support.touch && !dummyEventAttached) {\n      document.addEventListener('touchstart', dummyEventListener);\n      dummyEventAttached = true;\n    }\n\n    events(swiper, 'on');\n  }\n\n  function detachEvents() {\n    const swiper = this;\n    events(swiper, 'off');\n  }\n\n  var events$1 = {\n    attachEvents,\n    detachEvents\n  };\n\n  const isGridEnabled = (swiper, params) => {\n    return swiper.grid && params.grid && params.grid.rows > 1;\n  };\n\n  function setBreakpoint() {\n    const swiper = this;\n    const {\n      activeIndex,\n      initialized,\n      loopedSlides = 0,\n      params,\n      $el\n    } = swiper;\n    const breakpoints = params.breakpoints;\n    if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n    const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n    if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n    const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n    const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n    const wasMultiRow = isGridEnabled(swiper, params);\n    const isMultiRow = isGridEnabled(swiper, breakpointParams);\n    const wasEnabled = params.enabled;\n\n    if (wasMultiRow && !isMultiRow) {\n      $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n      swiper.emitContainerClasses();\n    } else if (!wasMultiRow && isMultiRow) {\n      $el.addClass(`${params.containerModifierClass}grid`);\n\n      if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n        $el.addClass(`${params.containerModifierClass}grid-column`);\n      }\n\n      swiper.emitContainerClasses();\n    }\n\n    const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n    const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n    if (directionChanged && initialized) {\n      swiper.changeDirection();\n    }\n\n    extend(swiper.params, breakpointParams);\n    const isEnabled = swiper.params.enabled;\n    Object.assign(swiper, {\n      allowTouchMove: swiper.params.allowTouchMove,\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev\n    });\n\n    if (wasEnabled && !isEnabled) {\n      swiper.disable();\n    } else if (!wasEnabled && isEnabled) {\n      swiper.enable();\n    }\n\n    swiper.currentBreakpoint = breakpoint;\n    swiper.emit('_beforeBreakpoint', breakpointParams);\n\n    if (needsReLoop && initialized) {\n      swiper.loopDestroy();\n      swiper.loopCreate();\n      swiper.updateSlides();\n      swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n    }\n\n    swiper.emit('breakpoint', breakpointParams);\n  }\n\n  function getBreakpoint(breakpoints, base = 'window', containerEl) {\n    if (!breakpoints || base === 'container' && !containerEl) return undefined;\n    let breakpoint = false;\n    const window = getWindow();\n    const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n    const points = Object.keys(breakpoints).map(point => {\n      if (typeof point === 'string' && point.indexOf('@') === 0) {\n        const minRatio = parseFloat(point.substr(1));\n        const value = currentHeight * minRatio;\n        return {\n          value,\n          point\n        };\n      }\n\n      return {\n        value: point,\n        point\n      };\n    });\n    points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n    for (let i = 0; i < points.length; i += 1) {\n      const {\n        point,\n        value\n      } = points[i];\n\n      if (base === 'window') {\n        if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n          breakpoint = point;\n        }\n      } else if (value <= containerEl.clientWidth) {\n        breakpoint = point;\n      }\n    }\n\n    return breakpoint || 'max';\n  }\n\n  var breakpoints = {\n    setBreakpoint,\n    getBreakpoint\n  };\n\n  function prepareClasses(entries, prefix) {\n    const resultClasses = [];\n    entries.forEach(item => {\n      if (typeof item === 'object') {\n        Object.keys(item).forEach(classNames => {\n          if (item[classNames]) {\n            resultClasses.push(prefix + classNames);\n          }\n        });\n      } else if (typeof item === 'string') {\n        resultClasses.push(prefix + item);\n      }\n    });\n    return resultClasses;\n  }\n\n  function addClasses() {\n    const swiper = this;\n    const {\n      classNames,\n      params,\n      rtl,\n      $el,\n      device,\n      support\n    } = swiper; // prettier-ignore\n\n    const suffixes = prepareClasses(['initialized', params.direction, {\n      'pointer-events': !support.touch\n    }, {\n      'free-mode': swiper.params.freeMode && params.freeMode.enabled\n    }, {\n      'autoheight': params.autoHeight\n    }, {\n      'rtl': rtl\n    }, {\n      'grid': params.grid && params.grid.rows > 1\n    }, {\n      'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n    }, {\n      'android': device.android\n    }, {\n      'ios': device.ios\n    }, {\n      'css-mode': params.cssMode\n    }, {\n      'centered': params.cssMode && params.centeredSlides\n    }], params.containerModifierClass);\n    classNames.push(...suffixes);\n    $el.addClass([...classNames].join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  function removeClasses() {\n    const swiper = this;\n    const {\n      $el,\n      classNames\n    } = swiper;\n    $el.removeClass(classNames.join(' '));\n    swiper.emitContainerClasses();\n  }\n\n  var classes = {\n    addClasses,\n    removeClasses\n  };\n\n  function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n    const window = getWindow();\n    let image;\n\n    function onReady() {\n      if (callback) callback();\n    }\n\n    const isPicture = $(imageEl).parent('picture')[0];\n\n    if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n      if (src) {\n        image = new window.Image();\n        image.onload = onReady;\n        image.onerror = onReady;\n\n        if (sizes) {\n          image.sizes = sizes;\n        }\n\n        if (srcset) {\n          image.srcset = srcset;\n        }\n\n        if (src) {\n          image.src = src;\n        }\n      } else {\n        onReady();\n      }\n    } else {\n      // image already loaded...\n      onReady();\n    }\n  }\n\n  function preloadImages() {\n    const swiper = this;\n    swiper.imagesToLoad = swiper.$el.find('img');\n\n    function onReady() {\n      if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n      if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n      if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n        if (swiper.params.updateOnImagesReady) swiper.update();\n        swiper.emit('imagesReady');\n      }\n    }\n\n    for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n      const imageEl = swiper.imagesToLoad[i];\n      swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n    }\n  }\n\n  var images = {\n    loadImage,\n    preloadImages\n  };\n\n  function checkOverflow() {\n    const swiper = this;\n    const {\n      isLocked: wasLocked,\n      params\n    } = swiper;\n    const {\n      slidesOffsetBefore\n    } = params;\n\n    if (slidesOffsetBefore) {\n      const lastSlideIndex = swiper.slides.length - 1;\n      const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n      swiper.isLocked = swiper.size > lastSlideRightEdge;\n    } else {\n      swiper.isLocked = swiper.snapGrid.length === 1;\n    }\n\n    if (params.allowSlideNext === true) {\n      swiper.allowSlideNext = !swiper.isLocked;\n    }\n\n    if (params.allowSlidePrev === true) {\n      swiper.allowSlidePrev = !swiper.isLocked;\n    }\n\n    if (wasLocked && wasLocked !== swiper.isLocked) {\n      swiper.isEnd = false;\n    }\n\n    if (wasLocked !== swiper.isLocked) {\n      swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n    }\n  }\n\n  var checkOverflow$1 = {\n    checkOverflow\n  };\n\n  var defaults = {\n    init: true,\n    direction: 'horizontal',\n    touchEventsTarget: 'wrapper',\n    initialSlide: 0,\n    speed: 300,\n    cssMode: false,\n    updateOnWindowResize: true,\n    resizeObserver: true,\n    nested: false,\n    createElements: false,\n    enabled: true,\n    focusableElements: 'input, select, option, textarea, button, video, label',\n    // Overrides\n    width: null,\n    height: null,\n    //\n    preventInteractionOnTransition: false,\n    // ssr\n    userAgent: null,\n    url: null,\n    // To support iOS's swipe-to-go-back gesture (when being used in-app).\n    edgeSwipeDetection: false,\n    edgeSwipeThreshold: 20,\n    // Autoheight\n    autoHeight: false,\n    // Set wrapper width\n    setWrapperSize: false,\n    // Virtual Translate\n    virtualTranslate: false,\n    // Effects\n    effect: 'slide',\n    // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n    // Breakpoints\n    breakpoints: undefined,\n    breakpointsBase: 'window',\n    // Slides grid\n    spaceBetween: 0,\n    slidesPerView: 1,\n    slidesPerGroup: 1,\n    slidesPerGroupSkip: 0,\n    slidesPerGroupAuto: false,\n    centeredSlides: false,\n    centeredSlidesBounds: false,\n    slidesOffsetBefore: 0,\n    // in px\n    slidesOffsetAfter: 0,\n    // in px\n    normalizeSlideIndex: true,\n    centerInsufficientSlides: false,\n    // Disable swiper and hide navigation when container not overflow\n    watchOverflow: true,\n    // Round length\n    roundLengths: false,\n    // Touches\n    touchRatio: 1,\n    touchAngle: 45,\n    simulateTouch: true,\n    shortSwipes: true,\n    longSwipes: true,\n    longSwipesRatio: 0.5,\n    longSwipesMs: 300,\n    followFinger: true,\n    allowTouchMove: true,\n    threshold: 0,\n    touchMoveStopPropagation: false,\n    touchStartPreventDefault: true,\n    touchStartForcePreventDefault: false,\n    touchReleaseOnEdges: false,\n    // Unique Navigation Elements\n    uniqueNavElements: true,\n    // Resistance\n    resistance: true,\n    resistanceRatio: 0.85,\n    // Progress\n    watchSlidesProgress: false,\n    // Cursor\n    grabCursor: false,\n    // Clicks\n    preventClicks: true,\n    preventClicksPropagation: true,\n    slideToClickedSlide: false,\n    // Images\n    preloadImages: true,\n    updateOnImagesReady: true,\n    // loop\n    loop: false,\n    loopAdditionalSlides: 0,\n    loopedSlides: null,\n    loopFillGroupWithBlank: false,\n    loopPreventsSlide: true,\n    // Swiping/no swiping\n    allowSlidePrev: true,\n    allowSlideNext: true,\n    swipeHandler: null,\n    // '.swipe-handler',\n    noSwiping: true,\n    noSwipingClass: 'swiper-no-swiping',\n    noSwipingSelector: null,\n    // Passive Listeners\n    passiveListeners: true,\n    // NS\n    containerModifierClass: 'swiper-',\n    // NEW\n    slideClass: 'swiper-slide',\n    slideBlankClass: 'swiper-slide-invisible-blank',\n    slideActiveClass: 'swiper-slide-active',\n    slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n    slideVisibleClass: 'swiper-slide-visible',\n    slideDuplicateClass: 'swiper-slide-duplicate',\n    slideNextClass: 'swiper-slide-next',\n    slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n    slidePrevClass: 'swiper-slide-prev',\n    slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n    wrapperClass: 'swiper-wrapper',\n    // Callbacks\n    runCallbacksOnInit: true,\n    // Internals\n    _emitClasses: false\n  };\n\n  function moduleExtendParams(params, allModulesParams) {\n    return function extendParams(obj = {}) {\n      const moduleParamName = Object.keys(obj)[0];\n      const moduleParams = obj[moduleParamName];\n\n      if (typeof moduleParams !== 'object' || moduleParams === null) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          auto: true\n        };\n      }\n\n      if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n        extend(allModulesParams, obj);\n        return;\n      }\n\n      if (params[moduleParamName] === true) {\n        params[moduleParamName] = {\n          enabled: true\n        };\n      }\n\n      if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n        params[moduleParamName].enabled = true;\n      }\n\n      if (!params[moduleParamName]) params[moduleParamName] = {\n        enabled: false\n      };\n      extend(allModulesParams, obj);\n    };\n  }\n\n  /* eslint no-param-reassign: \"off\" */\n  const prototypes = {\n    eventsEmitter,\n    update,\n    translate,\n    transition,\n    slide,\n    loop,\n    grabCursor,\n    events: events$1,\n    breakpoints,\n    checkOverflow: checkOverflow$1,\n    classes,\n    images\n  };\n  const extendedDefaults = {};\n\n  class Swiper {\n    constructor(...args) {\n      let el;\n      let params;\n\n      if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n        params = args[0];\n      } else {\n        [el, params] = args;\n      }\n\n      if (!params) params = {};\n      params = extend({}, params);\n      if (el && !params.el) params.el = el;\n\n      if (params.el && $(params.el).length > 1) {\n        const swipers = [];\n        $(params.el).each(containerEl => {\n          const newParams = extend({}, params, {\n            el: containerEl\n          });\n          swipers.push(new Swiper(newParams));\n        });\n        return swipers;\n      } // Swiper Instance\n\n\n      const swiper = this;\n      swiper.__swiper__ = true;\n      swiper.support = getSupport();\n      swiper.device = getDevice({\n        userAgent: params.userAgent\n      });\n      swiper.browser = getBrowser();\n      swiper.eventsListeners = {};\n      swiper.eventsAnyListeners = [];\n      swiper.modules = [...swiper.__modules__];\n\n      if (params.modules && Array.isArray(params.modules)) {\n        swiper.modules.push(...params.modules);\n      }\n\n      const allModulesParams = {};\n      swiper.modules.forEach(mod => {\n        mod({\n          swiper,\n          extendParams: moduleExtendParams(params, allModulesParams),\n          on: swiper.on.bind(swiper),\n          once: swiper.once.bind(swiper),\n          off: swiper.off.bind(swiper),\n          emit: swiper.emit.bind(swiper)\n        });\n      }); // Extend defaults with modules params\n\n      const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n      swiper.params = extend({}, swiperParams, extendedDefaults, params);\n      swiper.originalParams = extend({}, swiper.params);\n      swiper.passedParams = extend({}, params); // add event listeners\n\n      if (swiper.params && swiper.params.on) {\n        Object.keys(swiper.params.on).forEach(eventName => {\n          swiper.on(eventName, swiper.params.on[eventName]);\n        });\n      }\n\n      if (swiper.params && swiper.params.onAny) {\n        swiper.onAny(swiper.params.onAny);\n      } // Save Dom lib\n\n\n      swiper.$ = $; // Extend Swiper\n\n      Object.assign(swiper, {\n        enabled: swiper.params.enabled,\n        el,\n        // Classes\n        classNames: [],\n        // Slides\n        slides: $(),\n        slidesGrid: [],\n        snapGrid: [],\n        slidesSizesGrid: [],\n\n        // isDirection\n        isHorizontal() {\n          return swiper.params.direction === 'horizontal';\n        },\n\n        isVertical() {\n          return swiper.params.direction === 'vertical';\n        },\n\n        // Indexes\n        activeIndex: 0,\n        realIndex: 0,\n        //\n        isBeginning: true,\n        isEnd: false,\n        // Props\n        translate: 0,\n        previousTranslate: 0,\n        progress: 0,\n        velocity: 0,\n        animating: false,\n        // Locks\n        allowSlideNext: swiper.params.allowSlideNext,\n        allowSlidePrev: swiper.params.allowSlidePrev,\n        // Touch Events\n        touchEvents: function touchEvents() {\n          const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n          const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n          swiper.touchEventsTouch = {\n            start: touch[0],\n            move: touch[1],\n            end: touch[2],\n            cancel: touch[3]\n          };\n          swiper.touchEventsDesktop = {\n            start: desktop[0],\n            move: desktop[1],\n            end: desktop[2]\n          };\n          return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n        }(),\n        touchEventsData: {\n          isTouched: undefined,\n          isMoved: undefined,\n          allowTouchCallbacks: undefined,\n          touchStartTime: undefined,\n          isScrolling: undefined,\n          currentTranslate: undefined,\n          startTranslate: undefined,\n          allowThresholdMove: undefined,\n          // Form elements to match\n          focusableElements: swiper.params.focusableElements,\n          // Last click time\n          lastClickTime: now(),\n          clickTimeout: undefined,\n          // Velocities\n          velocities: [],\n          allowMomentumBounce: undefined,\n          isTouchEvent: undefined,\n          startMoving: undefined\n        },\n        // Clicks\n        allowClick: true,\n        // Touches\n        allowTouchMove: swiper.params.allowTouchMove,\n        touches: {\n          startX: 0,\n          startY: 0,\n          currentX: 0,\n          currentY: 0,\n          diff: 0\n        },\n        // Images\n        imagesToLoad: [],\n        imagesLoaded: 0\n      });\n      swiper.emit('_swiper'); // Init\n\n      if (swiper.params.init) {\n        swiper.init();\n      } // Return app instance\n\n\n      return swiper;\n    }\n\n    enable() {\n      const swiper = this;\n      if (swiper.enabled) return;\n      swiper.enabled = true;\n\n      if (swiper.params.grabCursor) {\n        swiper.setGrabCursor();\n      }\n\n      swiper.emit('enable');\n    }\n\n    disable() {\n      const swiper = this;\n      if (!swiper.enabled) return;\n      swiper.enabled = false;\n\n      if (swiper.params.grabCursor) {\n        swiper.unsetGrabCursor();\n      }\n\n      swiper.emit('disable');\n    }\n\n    setProgress(progress, speed) {\n      const swiper = this;\n      progress = Math.min(Math.max(progress, 0), 1);\n      const min = swiper.minTranslate();\n      const max = swiper.maxTranslate();\n      const current = (max - min) * progress + min;\n      swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    emitContainerClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const cls = swiper.el.className.split(' ').filter(className => {\n        return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n      });\n      swiper.emit('_containerClasses', cls.join(' '));\n    }\n\n    getSlideClasses(slideEl) {\n      const swiper = this;\n      return slideEl.className.split(' ').filter(className => {\n        return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n      }).join(' ');\n    }\n\n    emitSlidesClasses() {\n      const swiper = this;\n      if (!swiper.params._emitClasses || !swiper.el) return;\n      const updates = [];\n      swiper.slides.each(slideEl => {\n        const classNames = swiper.getSlideClasses(slideEl);\n        updates.push({\n          slideEl,\n          classNames\n        });\n        swiper.emit('_slideClass', slideEl, classNames);\n      });\n      swiper.emit('_slideClasses', updates);\n    }\n\n    slidesPerViewDynamic(view = 'current', exact = false) {\n      const swiper = this;\n      const {\n        params,\n        slides,\n        slidesGrid,\n        slidesSizesGrid,\n        size: swiperSize,\n        activeIndex\n      } = swiper;\n      let spv = 1;\n\n      if (params.centeredSlides) {\n        let slideSize = slides[activeIndex].swiperSlideSize;\n        let breakLoop;\n\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          if (slides[i] && !breakLoop) {\n            slideSize += slides[i].swiperSlideSize;\n            spv += 1;\n            if (slideSize > swiperSize) breakLoop = true;\n          }\n        }\n      } else {\n        // eslint-disable-next-line\n        if (view === 'current') {\n          for (let i = activeIndex + 1; i < slides.length; i += 1) {\n            const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        } else {\n          // previous\n          for (let i = activeIndex - 1; i >= 0; i -= 1) {\n            const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n            if (slideInView) {\n              spv += 1;\n            }\n          }\n        }\n      }\n\n      return spv;\n    }\n\n    update() {\n      const swiper = this;\n      if (!swiper || swiper.destroyed) return;\n      const {\n        snapGrid,\n        params\n      } = swiper; // Breakpoints\n\n      if (params.breakpoints) {\n        swiper.setBreakpoint();\n      }\n\n      swiper.updateSize();\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      function setTranslate() {\n        const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n        const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n        swiper.setTranslate(newTranslate);\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n\n      let translated;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n        setTranslate();\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      } else {\n        if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n          translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n        } else {\n          translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n        }\n\n        if (!translated) {\n          setTranslate();\n        }\n      }\n\n      if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n        swiper.checkOverflow();\n      }\n\n      swiper.emit('update');\n    }\n\n    changeDirection(newDirection, needUpdate = true) {\n      const swiper = this;\n      const currentDirection = swiper.params.direction;\n\n      if (!newDirection) {\n        // eslint-disable-next-line\n        newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n      }\n\n      if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n        return swiper;\n      }\n\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n      swiper.emitContainerClasses();\n      swiper.params.direction = newDirection;\n      swiper.slides.each(slideEl => {\n        if (newDirection === 'vertical') {\n          slideEl.style.width = '';\n        } else {\n          slideEl.style.height = '';\n        }\n      });\n      swiper.emit('changeDirection');\n      if (needUpdate) swiper.update();\n      return swiper;\n    }\n\n    mount(el) {\n      const swiper = this;\n      if (swiper.mounted) return true; // Find el\n\n      const $el = $(el || swiper.params.el);\n      el = $el[0];\n\n      if (!el) {\n        return false;\n      }\n\n      el.swiper = swiper;\n\n      const getWrapperSelector = () => {\n        return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n      };\n\n      const getWrapper = () => {\n        if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n          const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n          res.children = options => $el.children(options);\n\n          return res;\n        }\n\n        return $el.children(getWrapperSelector());\n      }; // Find Wrapper\n\n\n      let $wrapperEl = getWrapper();\n\n      if ($wrapperEl.length === 0 && swiper.params.createElements) {\n        const document = getDocument();\n        const wrapper = document.createElement('div');\n        $wrapperEl = $(wrapper);\n        wrapper.className = swiper.params.wrapperClass;\n        $el.append(wrapper);\n        $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n          $wrapperEl.append(slideEl);\n        });\n      }\n\n      Object.assign(swiper, {\n        $el,\n        el,\n        $wrapperEl,\n        wrapperEl: $wrapperEl[0],\n        mounted: true,\n        // RTL\n        rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n        rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n        wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n      });\n      return true;\n    }\n\n    init(el) {\n      const swiper = this;\n      if (swiper.initialized) return swiper;\n      const mounted = swiper.mount(el);\n      if (mounted === false) return swiper;\n      swiper.emit('beforeInit'); // Set breakpoint\n\n      if (swiper.params.breakpoints) {\n        swiper.setBreakpoint();\n      } // Add Classes\n\n\n      swiper.addClasses(); // Create loop\n\n      if (swiper.params.loop) {\n        swiper.loopCreate();\n      } // Update size\n\n\n      swiper.updateSize(); // Update slides\n\n      swiper.updateSlides();\n\n      if (swiper.params.watchOverflow) {\n        swiper.checkOverflow();\n      } // Set Grab Cursor\n\n\n      if (swiper.params.grabCursor && swiper.enabled) {\n        swiper.setGrabCursor();\n      }\n\n      if (swiper.params.preloadImages) {\n        swiper.preloadImages();\n      } // Slide To Initial Slide\n\n\n      if (swiper.params.loop) {\n        swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n      } else {\n        swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n      } // Attach events\n\n\n      swiper.attachEvents(); // Init Flag\n\n      swiper.initialized = true; // Emit\n\n      swiper.emit('init');\n      swiper.emit('afterInit');\n      return swiper;\n    }\n\n    destroy(deleteInstance = true, cleanStyles = true) {\n      const swiper = this;\n      const {\n        params,\n        $el,\n        $wrapperEl,\n        slides\n      } = swiper;\n\n      if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n        return null;\n      }\n\n      swiper.emit('beforeDestroy'); // Init Flag\n\n      swiper.initialized = false; // Detach events\n\n      swiper.detachEvents(); // Destroy loop\n\n      if (params.loop) {\n        swiper.loopDestroy();\n      } // Cleanup styles\n\n\n      if (cleanStyles) {\n        swiper.removeClasses();\n        $el.removeAttr('style');\n        $wrapperEl.removeAttr('style');\n\n        if (slides && slides.length) {\n          slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n        }\n      }\n\n      swiper.emit('destroy'); // Detach emitter events\n\n      Object.keys(swiper.eventsListeners).forEach(eventName => {\n        swiper.off(eventName);\n      });\n\n      if (deleteInstance !== false) {\n        swiper.$el[0].swiper = null;\n        deleteProps(swiper);\n      }\n\n      swiper.destroyed = true;\n      return null;\n    }\n\n    static extendDefaults(newDefaults) {\n      extend(extendedDefaults, newDefaults);\n    }\n\n    static get extendedDefaults() {\n      return extendedDefaults;\n    }\n\n    static get defaults() {\n      return defaults;\n    }\n\n    static installModule(mod) {\n      if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n      const modules = Swiper.prototype.__modules__;\n\n      if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n        modules.push(mod);\n      }\n    }\n\n    static use(module) {\n      if (Array.isArray(module)) {\n        module.forEach(m => Swiper.installModule(m));\n        return Swiper;\n      }\n\n      Swiper.installModule(module);\n      return Swiper;\n    }\n\n  }\n\n  Object.keys(prototypes).forEach(prototypeGroup => {\n    Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n      Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n    });\n  });\n  Swiper.use([Resize, Observer]);\n\n  function Virtual({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      virtual: {\n        enabled: false,\n        slides: [],\n        cache: true,\n        renderSlide: null,\n        renderExternal: null,\n        renderExternalUpdate: true,\n        addSlidesBefore: 0,\n        addSlidesAfter: 0\n      }\n    });\n    let cssModeTimeout;\n    swiper.virtual = {\n      cache: {},\n      from: undefined,\n      to: undefined,\n      slides: [],\n      offset: 0,\n      slidesGrid: []\n    };\n\n    function renderSlide(slide, index) {\n      const params = swiper.params.virtual;\n\n      if (params.cache && swiper.virtual.cache[index]) {\n        return swiper.virtual.cache[index];\n      }\n\n      const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n      if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n      if (params.cache) swiper.virtual.cache[index] = $slideEl;\n      return $slideEl;\n    }\n\n    function update(force) {\n      const {\n        slidesPerView,\n        slidesPerGroup,\n        centeredSlides\n      } = swiper.params;\n      const {\n        addSlidesBefore,\n        addSlidesAfter\n      } = swiper.params.virtual;\n      const {\n        from: previousFrom,\n        to: previousTo,\n        slides,\n        slidesGrid: previousSlidesGrid,\n        offset: previousOffset\n      } = swiper.virtual;\n\n      if (!swiper.params.cssMode) {\n        swiper.updateActiveIndex();\n      }\n\n      const activeIndex = swiper.activeIndex || 0;\n      let offsetProp;\n      if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n      let slidesAfter;\n      let slidesBefore;\n\n      if (centeredSlides) {\n        slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n        slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n      } else {\n        slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n        slidesBefore = slidesPerGroup + addSlidesBefore;\n      }\n\n      const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n      const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n      const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n      Object.assign(swiper.virtual, {\n        from,\n        to,\n        offset,\n        slidesGrid: swiper.slidesGrid\n      });\n\n      function onRendered() {\n        swiper.updateSlides();\n        swiper.updateProgress();\n        swiper.updateSlidesClasses();\n\n        if (swiper.lazy && swiper.params.lazy.enabled) {\n          swiper.lazy.load();\n        }\n      }\n\n      if (previousFrom === from && previousTo === to && !force) {\n        if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n          swiper.slides.css(offsetProp, `${offset}px`);\n        }\n\n        swiper.updateProgress();\n        return;\n      }\n\n      if (swiper.params.virtual.renderExternal) {\n        swiper.params.virtual.renderExternal.call(swiper, {\n          offset,\n          from,\n          to,\n          slides: function getSlides() {\n            const slidesToRender = [];\n\n            for (let i = from; i <= to; i += 1) {\n              slidesToRender.push(slides[i]);\n            }\n\n            return slidesToRender;\n          }()\n        });\n\n        if (swiper.params.virtual.renderExternalUpdate) {\n          onRendered();\n        }\n\n        return;\n      }\n\n      const prependIndexes = [];\n      const appendIndexes = [];\n\n      if (force) {\n        swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n      } else {\n        for (let i = previousFrom; i <= previousTo; i += 1) {\n          if (i < from || i > to) {\n            swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        if (i >= from && i <= to) {\n          if (typeof previousTo === 'undefined' || force) {\n            appendIndexes.push(i);\n          } else {\n            if (i > previousTo) appendIndexes.push(i);\n            if (i < previousFrom) prependIndexes.push(i);\n          }\n        }\n      }\n\n      appendIndexes.forEach(index => {\n        swiper.$wrapperEl.append(renderSlide(slides[index], index));\n      });\n      prependIndexes.sort((a, b) => b - a).forEach(index => {\n        swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n      });\n      swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n      onRendered();\n    }\n\n    function appendSlide(slides) {\n      if (typeof slides === 'object' && 'length' in slides) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.push(slides[i]);\n        }\n      } else {\n        swiper.virtual.slides.push(slides);\n      }\n\n      update(true);\n    }\n\n    function prependSlide(slides) {\n      const activeIndex = swiper.activeIndex;\n      let newActiveIndex = activeIndex + 1;\n      let numberOfNewSlides = 1;\n\n      if (Array.isArray(slides)) {\n        for (let i = 0; i < slides.length; i += 1) {\n          if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n        }\n\n        newActiveIndex = activeIndex + slides.length;\n        numberOfNewSlides = slides.length;\n      } else {\n        swiper.virtual.slides.unshift(slides);\n      }\n\n      if (swiper.params.virtual.cache) {\n        const cache = swiper.virtual.cache;\n        const newCache = {};\n        Object.keys(cache).forEach(cachedIndex => {\n          const $cachedEl = cache[cachedIndex];\n          const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n          if (cachedElIndex) {\n            $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n          }\n\n          newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n        });\n        swiper.virtual.cache = newCache;\n      }\n\n      update(true);\n      swiper.slideTo(newActiveIndex, 0);\n    }\n\n    function removeSlide(slidesIndexes) {\n      if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n      let activeIndex = swiper.activeIndex;\n\n      if (Array.isArray(slidesIndexes)) {\n        for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n          swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n          if (swiper.params.virtual.cache) {\n            delete swiper.virtual.cache[slidesIndexes[i]];\n          }\n\n          if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n          activeIndex = Math.max(activeIndex, 0);\n        }\n      } else {\n        swiper.virtual.slides.splice(slidesIndexes, 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes];\n        }\n\n        if (slidesIndexes < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n\n      update(true);\n      swiper.slideTo(activeIndex, 0);\n    }\n\n    function removeAllSlides() {\n      swiper.virtual.slides = [];\n\n      if (swiper.params.virtual.cache) {\n        swiper.virtual.cache = {};\n      }\n\n      update(true);\n      swiper.slideTo(0, 0);\n    }\n\n    on('beforeInit', () => {\n      if (!swiper.params.virtual.enabled) return;\n      swiper.virtual.slides = swiper.params.virtual.slides;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n\n      if (!swiper.params.initialSlide) {\n        update();\n      }\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode && !swiper._immediateVirtual) {\n        clearTimeout(cssModeTimeout);\n        cssModeTimeout = setTimeout(() => {\n          update();\n        }, 100);\n      } else {\n        update();\n      }\n    });\n    on('init update resize', () => {\n      if (!swiper.params.virtual.enabled) return;\n\n      if (swiper.params.cssMode) {\n        setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n      }\n    });\n    Object.assign(swiper.virtual, {\n      appendSlide,\n      prependSlide,\n      removeSlide,\n      removeAllSlides,\n      update\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Keyboard({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    const window = getWindow();\n    swiper.keyboard = {\n      enabled: false\n    };\n    extendParams({\n      keyboard: {\n        enabled: false,\n        onlyInViewport: true,\n        pageUpDown: true\n      }\n    });\n\n    function handle(event) {\n      if (!swiper.enabled) return;\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let e = event;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      const kc = e.keyCode || e.charCode;\n      const pageUpDown = swiper.params.keyboard.pageUpDown;\n      const isPageUp = pageUpDown && kc === 33;\n      const isPageDown = pageUpDown && kc === 34;\n      const isArrowLeft = kc === 37;\n      const isArrowRight = kc === 39;\n      const isArrowUp = kc === 38;\n      const isArrowDown = kc === 40; // Directions locks\n\n      if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n        return false;\n      }\n\n      if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n        return false;\n      }\n\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return undefined;\n      }\n\n      if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n        return undefined;\n      }\n\n      if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n        let inView = false; // Check that swiper should be inside of visible area of window\n\n        if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n          return undefined;\n        }\n\n        const $el = swiper.$el;\n        const swiperWidth = $el[0].clientWidth;\n        const swiperHeight = $el[0].clientHeight;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n        const swiperOffset = swiper.$el.offset();\n        if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n        const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n        for (let i = 0; i < swiperCoord.length; i += 1) {\n          const point = swiperCoord[i];\n\n          if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n            if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n            inView = true;\n          }\n        }\n\n        if (!inView) return undefined;\n      }\n\n      if (swiper.isHorizontal()) {\n        if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n        if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n      } else {\n        if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n          if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n        }\n\n        if (isPageDown || isArrowDown) swiper.slideNext();\n        if (isPageUp || isArrowUp) swiper.slidePrev();\n      }\n\n      emit('keyPress', kc);\n      return undefined;\n    }\n\n    function enable() {\n      if (swiper.keyboard.enabled) return;\n      $(document).on('keydown', handle);\n      swiper.keyboard.enabled = true;\n    }\n\n    function disable() {\n      if (!swiper.keyboard.enabled) return;\n      $(document).off('keydown', handle);\n      swiper.keyboard.enabled = false;\n    }\n\n    on('init', () => {\n      if (swiper.params.keyboard.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.keyboard.enabled) {\n        disable();\n      }\n    });\n    Object.assign(swiper.keyboard, {\n      enable,\n      disable\n    });\n  }\n\n  /* eslint-disable consistent-return */\n  function Mousewheel({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      mousewheel: {\n        enabled: false,\n        releaseOnEdges: false,\n        invert: false,\n        forceToAxis: false,\n        sensitivity: 1,\n        eventsTarget: 'container',\n        thresholdDelta: null,\n        thresholdTime: null\n      }\n    });\n    swiper.mousewheel = {\n      enabled: false\n    };\n    let timeout;\n    let lastScrollTime = now();\n    let lastEventBeforeSnap;\n    const recentWheelEvents = [];\n\n    function normalize(e) {\n      // Reasonable defaults\n      const PIXEL_STEP = 10;\n      const LINE_HEIGHT = 40;\n      const PAGE_HEIGHT = 800;\n      let sX = 0;\n      let sY = 0; // spinX, spinY\n\n      let pX = 0;\n      let pY = 0; // pixelX, pixelY\n      // Legacy\n\n      if ('detail' in e) {\n        sY = e.detail;\n      }\n\n      if ('wheelDelta' in e) {\n        sY = -e.wheelDelta / 120;\n      }\n\n      if ('wheelDeltaY' in e) {\n        sY = -e.wheelDeltaY / 120;\n      }\n\n      if ('wheelDeltaX' in e) {\n        sX = -e.wheelDeltaX / 120;\n      } // side scrolling on FF with DOMMouseScroll\n\n\n      if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n      }\n\n      pX = sX * PIXEL_STEP;\n      pY = sY * PIXEL_STEP;\n\n      if ('deltaY' in e) {\n        pY = e.deltaY;\n      }\n\n      if ('deltaX' in e) {\n        pX = e.deltaX;\n      }\n\n      if (e.shiftKey && !pX) {\n        // if user scrolls with shift he wants horizontal scroll\n        pX = pY;\n        pY = 0;\n      }\n\n      if ((pX || pY) && e.deltaMode) {\n        if (e.deltaMode === 1) {\n          // delta in LINE units\n          pX *= LINE_HEIGHT;\n          pY *= LINE_HEIGHT;\n        } else {\n          // delta in PAGE units\n          pX *= PAGE_HEIGHT;\n          pY *= PAGE_HEIGHT;\n        }\n      } // Fall-back if spin cannot be determined\n\n\n      if (pX && !sX) {\n        sX = pX < 1 ? -1 : 1;\n      }\n\n      if (pY && !sY) {\n        sY = pY < 1 ? -1 : 1;\n      }\n\n      return {\n        spinX: sX,\n        spinY: sY,\n        pixelX: pX,\n        pixelY: pY\n      };\n    }\n\n    function handleMouseEnter() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = true;\n    }\n\n    function handleMouseLeave() {\n      if (!swiper.enabled) return;\n      swiper.mouseEntered = false;\n    }\n\n    function animateSlider(newEvent) {\n      if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n        // Prevent if delta of wheel scroll delta is below configured threshold\n        return false;\n      }\n\n      if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n        // Prevent if time between scrolls is below configured threshold\n        return false;\n      } // If the movement is NOT big enough and\n      // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n      //   Don't go any further (avoid insignificant scroll movement).\n\n\n      if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n        // Return false as a default\n        return true;\n      } // If user is scrolling towards the end:\n      //   If the slider hasn't hit the latest slide or\n      //   if the slider is a loop and\n      //   if the slider isn't moving right now:\n      //     Go to next slide and\n      //     emit a scroll event.\n      // Else (the user is scrolling towards the beginning) and\n      // if the slider hasn't hit the first slide or\n      // if the slider is a loop and\n      // if the slider isn't moving right now:\n      //   Go to prev slide and\n      //   emit a scroll event.\n\n\n      if (newEvent.direction < 0) {\n        if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n          swiper.slideNext();\n          emit('scroll', newEvent.raw);\n        }\n      } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n        swiper.slidePrev();\n        emit('scroll', newEvent.raw);\n      } // If you got here is because an animation has been triggered so store the current time\n\n\n      lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n      return false;\n    }\n\n    function releaseScroll(newEvent) {\n      const params = swiper.params.mousewheel;\n\n      if (newEvent.direction < 0) {\n        if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n          // Return true to animate scroll on edges\n          return true;\n        }\n      } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n\n      return false;\n    }\n\n    function handle(event) {\n      let e = event;\n      let disableParentSwiper = true;\n      if (!swiper.enabled) return;\n      const params = swiper.params.mousewheel;\n\n      if (swiper.params.cssMode) {\n        e.preventDefault();\n      }\n\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n      if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n      let delta = 0;\n      const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n      const data = normalize(e);\n\n      if (params.forceToAxis) {\n        if (swiper.isHorizontal()) {\n          if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n        } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n      } else {\n        delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n      }\n\n      if (delta === 0) return true;\n      if (params.invert) delta = -delta; // Get the scroll positions\n\n      let positions = swiper.getTranslate() + delta * params.sensitivity;\n      if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n      if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n      //     the disableParentSwiper will be true.\n      // When loop is false:\n      //     if the scroll positions is not on edge,\n      //     then the disableParentSwiper will be true.\n      //     if the scroll on edge positions,\n      //     then the disableParentSwiper will be false.\n\n      disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n      if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n      if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n        // Register the new event in a variable which stores the relevant data\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta),\n          raw: event\n        }; // Keep the most recent events\n\n        if (recentWheelEvents.length >= 2) {\n          recentWheelEvents.shift(); // only store the last N events\n        }\n\n        const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n        recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n        //   If direction has changed or\n        //   if the scroll is quicker than the previous one:\n        //     Animate the slider.\n        // Else (this is the first time the wheel is moved):\n        //     Animate the slider.\n\n        if (prevEvent) {\n          if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n            animateSlider(newEvent);\n          }\n        } else {\n          animateSlider(newEvent);\n        } // If it's time to release the scroll:\n        //   Return now so you don't hit the preventDefault.\n\n\n        if (releaseScroll(newEvent)) {\n          return true;\n        }\n      } else {\n        // Freemode or scrollContainer:\n        // If we recently snapped after a momentum scroll, then ignore wheel events\n        // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n        // or if it's a new scroll (larger delta or inverse sign as last event before\n        // an end-of-momentum snap).\n        const newEvent = {\n          time: now(),\n          delta: Math.abs(delta),\n          direction: Math.sign(delta)\n        };\n        const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n        if (!ignoreWheelEvents) {\n          lastEventBeforeSnap = undefined;\n\n          if (swiper.params.loop) {\n            swiper.loopFix();\n          }\n\n          let position = swiper.getTranslate() + delta * params.sensitivity;\n          const wasBeginning = swiper.isBeginning;\n          const wasEnd = swiper.isEnd;\n          if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n          if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n          swiper.setTransition(0);\n          swiper.setTranslate(position);\n          swiper.updateProgress();\n          swiper.updateActiveIndex();\n          swiper.updateSlidesClasses();\n\n          if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n            swiper.updateSlidesClasses();\n          }\n\n          if (swiper.params.freeMode.sticky) {\n            // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n            // the end of a momentum scroll by storing recent (N=15?) wheel events.\n            // 1. do all N events have decreasing or same (absolute value) delta?\n            // 2. did all N events arrive in the last M (M=500?) msecs?\n            // 3. does the earliest event have an (absolute value) delta that's\n            //    at least P (P=1?) larger than the most recent event's delta?\n            // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n            // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n            // Snap immediately and ignore remaining wheel events in this scroll.\n            // See comment above for \"remaining wheel events in this scroll\" determination.\n            // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n            clearTimeout(timeout);\n            timeout = undefined;\n\n            if (recentWheelEvents.length >= 15) {\n              recentWheelEvents.shift(); // only store the last N events\n            }\n\n            const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n            const firstEvent = recentWheelEvents[0];\n            recentWheelEvents.push(newEvent);\n\n            if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n              // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n              recentWheelEvents.splice(0);\n            } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n              // We're at the end of the deceleration of a momentum scroll, so there's no need\n              // to wait for more events. Snap ASAP on the next tick.\n              // Also, because there's some remaining momentum we'll bias the snap in the\n              // direction of the ongoing scroll because it's better UX for the scroll to snap\n              // in the same direction as the scroll instead of reversing to snap.  Therefore,\n              // if it's already scrolled more than 20% in the current direction, keep going.\n              const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              timeout = nextTick(() => {\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 0); // no delay; move on next tick\n            }\n\n            if (!timeout) {\n              // if we get here, then we haven't detected the end of a momentum scroll, so\n              // we'll consider a scroll \"complete\" when there haven't been any wheel events\n              // for 500ms.\n              timeout = nextTick(() => {\n                const snapToThreshold = 0.5;\n                lastEventBeforeSnap = newEvent;\n                recentWheelEvents.splice(0);\n                swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n              }, 500);\n            }\n          } // Emit event\n\n\n          if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n          if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n          if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n        }\n      }\n\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      return false;\n    }\n\n    function events(method) {\n      let target = swiper.$el;\n\n      if (swiper.params.mousewheel.eventsTarget !== 'container') {\n        target = $(swiper.params.mousewheel.eventsTarget);\n      }\n\n      target[method]('mouseenter', handleMouseEnter);\n      target[method]('mouseleave', handleMouseLeave);\n      target[method]('wheel', handle);\n    }\n\n    function enable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.removeEventListener('wheel', handle);\n        return true;\n      }\n\n      if (swiper.mousewheel.enabled) return false;\n      events('on');\n      swiper.mousewheel.enabled = true;\n      return true;\n    }\n\n    function disable() {\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.addEventListener(event, handle);\n        return true;\n      }\n\n      if (!swiper.mousewheel.enabled) return false;\n      events('off');\n      swiper.mousewheel.enabled = false;\n      return true;\n    }\n\n    on('init', () => {\n      if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n        disable();\n      }\n\n      if (swiper.params.mousewheel.enabled) enable();\n    });\n    on('destroy', () => {\n      if (swiper.params.cssMode) {\n        enable();\n      }\n\n      if (swiper.mousewheel.enabled) disable();\n    });\n    Object.assign(swiper.mousewheel, {\n      enable,\n      disable\n    });\n  }\n\n  function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n    const document = getDocument();\n\n    if (swiper.params.createElements) {\n      Object.keys(checkProps).forEach(key => {\n        if (!params[key] && params.auto === true) {\n          let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n          if (!element) {\n            element = document.createElement('div');\n            element.className = checkProps[key];\n            swiper.$el.append(element);\n          }\n\n          params[key] = element;\n          originalParams[key] = element;\n        }\n      });\n    }\n\n    return params;\n  }\n\n  function Navigation({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      navigation: {\n        nextEl: null,\n        prevEl: null,\n        hideOnClick: false,\n        disabledClass: 'swiper-button-disabled',\n        hiddenClass: 'swiper-button-hidden',\n        lockClass: 'swiper-button-lock'\n      }\n    });\n    swiper.navigation = {\n      nextEl: null,\n      $nextEl: null,\n      prevEl: null,\n      $prevEl: null\n    };\n\n    function getEl(el) {\n      let $el;\n\n      if (el) {\n        $el = $(el);\n\n        if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n          $el = swiper.$el.find(el);\n        }\n      }\n\n      return $el;\n    }\n\n    function toggleEl($el, disabled) {\n      const params = swiper.params.navigation;\n\n      if ($el && $el.length > 0) {\n        $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n        if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n        if (swiper.params.watchOverflow && swiper.enabled) {\n          $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n        }\n      }\n    }\n\n    function update() {\n      // Update Navigation Buttons\n      if (swiper.params.loop) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      toggleEl($prevEl, swiper.isBeginning);\n      toggleEl($nextEl, swiper.isEnd);\n    }\n\n    function onPrevClick(e) {\n      e.preventDefault();\n      if (swiper.isBeginning && !swiper.params.loop) return;\n      swiper.slidePrev();\n    }\n\n    function onNextClick(e) {\n      e.preventDefault();\n      if (swiper.isEnd && !swiper.params.loop) return;\n      swiper.slideNext();\n    }\n\n    function init() {\n      const params = swiper.params.navigation;\n      swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n        nextEl: 'swiper-button-next',\n        prevEl: 'swiper-button-prev'\n      });\n      if (!(params.nextEl || params.prevEl)) return;\n      const $nextEl = getEl(params.nextEl);\n      const $prevEl = getEl(params.prevEl);\n\n      if ($nextEl && $nextEl.length > 0) {\n        $nextEl.on('click', onNextClick);\n      }\n\n      if ($prevEl && $prevEl.length > 0) {\n        $prevEl.on('click', onPrevClick);\n      }\n\n      Object.assign(swiper.navigation, {\n        $nextEl,\n        nextEl: $nextEl && $nextEl[0],\n        $prevEl,\n        prevEl: $prevEl && $prevEl[0]\n      });\n\n      if (!swiper.enabled) {\n        if ($nextEl) $nextEl.addClass(params.lockClass);\n        if ($prevEl) $prevEl.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl && $nextEl.length) {\n        $nextEl.off('click', onNextClick);\n        $nextEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        $prevEl.off('click', onPrevClick);\n        $prevEl.removeClass(swiper.params.navigation.disabledClass);\n      }\n    }\n\n    on('init', () => {\n      init();\n      update();\n    });\n    on('toEdge fromEdge lock unlock', () => {\n      update();\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($nextEl) {\n        $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n\n      if ($prevEl) {\n        $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n      }\n    });\n    on('click', (_s, e) => {\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n      const targetEl = e.target;\n\n      if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n        if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n        let isHidden;\n\n        if ($nextEl) {\n          isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n        } else if ($prevEl) {\n          isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if (isHidden === true) {\n          emit('navigationShow');\n        } else {\n          emit('navigationHide');\n        }\n\n        if ($nextEl) {\n          $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n\n        if ($prevEl) {\n          $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n        }\n      }\n    });\n    Object.assign(swiper.navigation, {\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function classesToSelector(classes = '') {\n    return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n.replace(/ /g, '.')}`;\n  }\n\n  function Pagination({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const pfx = 'swiper-pagination';\n    extendParams({\n      pagination: {\n        el: null,\n        bulletElement: 'span',\n        clickable: false,\n        hideOnClick: false,\n        renderBullet: null,\n        renderProgressbar: null,\n        renderFraction: null,\n        renderCustom: null,\n        progressbarOpposite: false,\n        type: 'bullets',\n        // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n        dynamicBullets: false,\n        dynamicMainBullets: 1,\n        formatFractionCurrent: number => number,\n        formatFractionTotal: number => number,\n        bulletClass: `${pfx}-bullet`,\n        bulletActiveClass: `${pfx}-bullet-active`,\n        modifierClass: `${pfx}-`,\n        currentClass: `${pfx}-current`,\n        totalClass: `${pfx}-total`,\n        hiddenClass: `${pfx}-hidden`,\n        progressbarFillClass: `${pfx}-progressbar-fill`,\n        progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n        clickableClass: `${pfx}-clickable`,\n        lockClass: `${pfx}-lock`,\n        horizontalClass: `${pfx}-horizontal`,\n        verticalClass: `${pfx}-vertical`\n      }\n    });\n    swiper.pagination = {\n      el: null,\n      $el: null,\n      bullets: []\n    };\n    let bulletSize;\n    let dynamicBulletIndex = 0;\n\n    function isPaginationDisabled() {\n      return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n    }\n\n    function setSideBullets($bulletEl, position) {\n      const {\n        bulletActiveClass\n      } = swiper.params.pagination;\n      $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n    }\n\n    function update() {\n      // Render || Update Pagination bullets/items\n      const rtl = swiper.rtl;\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el; // Current/Total\n\n      let current;\n      const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.loop) {\n        current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n        if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n          current -= slidesLength - swiper.loopedSlides * 2;\n        }\n\n        if (current > total - 1) current -= total;\n        if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n      } else if (typeof swiper.snapIndex !== 'undefined') {\n        current = swiper.snapIndex;\n      } else {\n        current = swiper.activeIndex || 0;\n      } // Types\n\n\n      if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n        const bullets = swiper.pagination.bullets;\n        let firstIndex;\n        let lastIndex;\n        let midIndex;\n\n        if (params.dynamicBullets) {\n          bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n          $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n          if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n            dynamicBulletIndex += current - swiper.previousIndex;\n\n            if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n              dynamicBulletIndex = params.dynamicMainBullets - 1;\n            } else if (dynamicBulletIndex < 0) {\n              dynamicBulletIndex = 0;\n            }\n          }\n\n          firstIndex = current - dynamicBulletIndex;\n          lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n          midIndex = (lastIndex + firstIndex) / 2;\n        }\n\n        bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n        if ($el.length > 1) {\n          bullets.each(bullet => {\n            const $bullet = $(bullet);\n            const bulletIndex = $bullet.index();\n\n            if (bulletIndex === current) {\n              $bullet.addClass(params.bulletActiveClass);\n            }\n\n            if (params.dynamicBullets) {\n              if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n                $bullet.addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              if (bulletIndex === firstIndex) {\n                setSideBullets($bullet, 'prev');\n              }\n\n              if (bulletIndex === lastIndex) {\n                setSideBullets($bullet, 'next');\n              }\n            }\n          });\n        } else {\n          const $bullet = bullets.eq(current);\n          const bulletIndex = $bullet.index();\n          $bullet.addClass(params.bulletActiveClass);\n\n          if (params.dynamicBullets) {\n            const $firstDisplayedBullet = bullets.eq(firstIndex);\n            const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n            for (let i = firstIndex; i <= lastIndex; i += 1) {\n              bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (swiper.params.loop) {\n              if (bulletIndex >= bullets.length - params.dynamicMainBullets) {\n                for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                  bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n                }\n\n                bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n              } else {\n                setSideBullets($firstDisplayedBullet, 'prev');\n                setSideBullets($lastDisplayedBullet, 'next');\n              }\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          }\n        }\n\n        if (params.dynamicBullets) {\n          const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n          const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n          const offsetProp = rtl ? 'right' : 'left';\n          bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n        }\n      }\n\n      if (params.type === 'fraction') {\n        $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n        $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n      }\n\n      if (params.type === 'progressbar') {\n        let progressbarDirection;\n\n        if (params.progressbarOpposite) {\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n        } else {\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n        }\n\n        const scale = (current + 1) / total;\n        let scaleX = 1;\n        let scaleY = 1;\n\n        if (progressbarDirection === 'horizontal') {\n          scaleX = scale;\n        } else {\n          scaleY = scale;\n        }\n\n        $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n      }\n\n      if (params.type === 'custom' && params.renderCustom) {\n        $el.html(params.renderCustom(swiper, current + 1, total));\n        emit('paginationRender', $el[0]);\n      } else {\n        emit('paginationUpdate', $el[0]);\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n\n    function render() {\n      // Render Container\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n      const $el = swiper.pagination.$el;\n      let paginationHTML = '';\n\n      if (params.type === 'bullets') {\n        let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n        if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n          numberOfBullets = slidesLength;\n        }\n\n        for (let i = 0; i < numberOfBullets; i += 1) {\n          if (params.renderBullet) {\n            paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n          } else {\n            paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n          }\n        }\n\n        $el.html(paginationHTML);\n        swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n      }\n\n      if (params.type === 'fraction') {\n        if (params.renderFraction) {\n          paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n        } else {\n          paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type === 'progressbar') {\n        if (params.renderProgressbar) {\n          paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n        } else {\n          paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n        }\n\n        $el.html(paginationHTML);\n      }\n\n      if (params.type !== 'custom') {\n        emit('paginationRender', swiper.pagination.$el[0]);\n      }\n    }\n\n    function init() {\n      swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n        el: 'swiper-pagination'\n      });\n      const params = swiper.params.pagination;\n      if (!params.el) return;\n      let $el = $(params.el);\n      if ($el.length === 0) return;\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n        $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n        if ($el.length > 1) {\n          $el = $el.filter(el => {\n            if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n            return true;\n          });\n        }\n      }\n\n      if (params.type === 'bullets' && params.clickable) {\n        $el.addClass(params.clickableClass);\n      }\n\n      $el.addClass(params.modifierClass + params.type);\n      $el.addClass(params.modifierClass + swiper.params.direction);\n\n      if (params.type === 'bullets' && params.dynamicBullets) {\n        $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n        dynamicBulletIndex = 0;\n\n        if (params.dynamicMainBullets < 1) {\n          params.dynamicMainBullets = 1;\n        }\n      }\n\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\n        $el.addClass(params.progressbarOppositeClass);\n      }\n\n      if (params.clickable) {\n        $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n          e.preventDefault();\n          let index = $(this).index() * swiper.params.slidesPerGroup;\n          if (swiper.params.loop) index += swiper.loopedSlides;\n          swiper.slideTo(index);\n        });\n      }\n\n      Object.assign(swiper.pagination, {\n        $el,\n        el: $el[0]\n      });\n\n      if (!swiper.enabled) {\n        $el.addClass(params.lockClass);\n      }\n    }\n\n    function destroy() {\n      const params = swiper.params.pagination;\n      if (isPaginationDisabled()) return;\n      const $el = swiper.pagination.$el;\n      $el.removeClass(params.hiddenClass);\n      $el.removeClass(params.modifierClass + params.type);\n      $el.removeClass(params.modifierClass + swiper.params.direction);\n      if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n      if (params.clickable) {\n        $el.off('click', classesToSelector(params.bulletClass));\n      }\n    }\n\n    on('init', () => {\n      init();\n      render();\n      update();\n    });\n    on('activeIndexChange', () => {\n      if (swiper.params.loop) {\n        update();\n      } else if (typeof swiper.snapIndex === 'undefined') {\n        update();\n      }\n    });\n    on('snapIndexChange', () => {\n      if (!swiper.params.loop) {\n        update();\n      }\n    });\n    on('slidesLengthChange', () => {\n      if (swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('snapGridLengthChange', () => {\n      if (!swiper.params.loop) {\n        render();\n        update();\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.pagination;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n      }\n    });\n    on('lock unlock', () => {\n      update();\n    });\n    on('click', (_s, e) => {\n      const targetEl = e.target;\n      const {\n        $el\n      } = swiper.pagination;\n\n      if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n        if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n        const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n        if (isHidden === true) {\n          emit('paginationShow');\n        } else {\n          emit('paginationHide');\n        }\n\n        $el.toggleClass(swiper.params.pagination.hiddenClass);\n      }\n    });\n    Object.assign(swiper.pagination, {\n      render,\n      update,\n      init,\n      destroy\n    });\n  }\n\n  function Scrollbar({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const document = getDocument();\n    let isTouched = false;\n    let timeout = null;\n    let dragTimeout = null;\n    let dragStartPos;\n    let dragSize;\n    let trackSize;\n    let divider;\n    extendParams({\n      scrollbar: {\n        el: null,\n        dragSize: 'auto',\n        hide: false,\n        draggable: false,\n        snapOnRelease: true,\n        lockClass: 'swiper-scrollbar-lock',\n        dragClass: 'swiper-scrollbar-drag'\n      }\n    });\n    swiper.scrollbar = {\n      el: null,\n      dragEl: null,\n      $el: null,\n      $dragEl: null\n    };\n\n    function setTranslate() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar,\n        rtlTranslate: rtl,\n        progress\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      const params = swiper.params.scrollbar;\n      let newSize = dragSize;\n      let newPos = (trackSize - dragSize) * progress;\n\n      if (rtl) {\n        newPos = -newPos;\n\n        if (newPos > 0) {\n          newSize = dragSize - newPos;\n          newPos = 0;\n        } else if (-newPos + dragSize > trackSize) {\n          newSize = trackSize + newPos;\n        }\n      } else if (newPos < 0) {\n        newSize = dragSize + newPos;\n        newPos = 0;\n      } else if (newPos + dragSize > trackSize) {\n        newSize = trackSize - newPos;\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n        $dragEl[0].style.width = `${newSize}px`;\n      } else {\n        $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n        $dragEl[0].style.height = `${newSize}px`;\n      }\n\n      if (params.hide) {\n        clearTimeout(timeout);\n        $el[0].style.opacity = 1;\n        timeout = setTimeout(() => {\n          $el[0].style.opacity = 0;\n          $el.transition(400);\n        }, 1000);\n      }\n    }\n\n    function setTransition(duration) {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      swiper.scrollbar.$dragEl.transition(duration);\n    }\n\n    function updateSize() {\n      if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n      const {\n        scrollbar\n      } = swiper;\n      const {\n        $dragEl,\n        $el\n      } = scrollbar;\n      $dragEl[0].style.width = '';\n      $dragEl[0].style.height = '';\n      trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n      divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n      if (swiper.params.scrollbar.dragSize === 'auto') {\n        dragSize = trackSize * divider;\n      } else {\n        dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n      }\n\n      if (swiper.isHorizontal()) {\n        $dragEl[0].style.width = `${dragSize}px`;\n      } else {\n        $dragEl[0].style.height = `${dragSize}px`;\n      }\n\n      if (divider >= 1) {\n        $el[0].style.display = 'none';\n      } else {\n        $el[0].style.display = '';\n      }\n\n      if (swiper.params.scrollbar.hide) {\n        $el[0].style.opacity = 0;\n      }\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function getPointerPosition(e) {\n      if (swiper.isHorizontal()) {\n        return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n      }\n\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n    }\n\n    function setDragPosition(e) {\n      const {\n        scrollbar,\n        rtlTranslate: rtl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      let positionRatio;\n      positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n      positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n      if (rtl) {\n        positionRatio = 1 - positionRatio;\n      }\n\n      const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n      swiper.updateProgress(position);\n      swiper.setTranslate(position);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    function onDragStart(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      isTouched = true;\n      dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n      e.preventDefault();\n      e.stopPropagation();\n      $wrapperEl.transition(100);\n      $dragEl.transition(100);\n      setDragPosition(e);\n      clearTimeout(dragTimeout);\n      $el.transition(0);\n\n      if (params.hide) {\n        $el.css('opacity', 1);\n      }\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', 'none');\n      }\n\n      emit('scrollbarDragStart', e);\n    }\n\n    function onDragMove(e) {\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el,\n        $dragEl\n      } = scrollbar;\n      if (!isTouched) return;\n      if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      setDragPosition(e);\n      $wrapperEl.transition(0);\n      $el.transition(0);\n      $dragEl.transition(0);\n      emit('scrollbarDragMove', e);\n    }\n\n    function onDragEnd(e) {\n      const params = swiper.params.scrollbar;\n      const {\n        scrollbar,\n        $wrapperEl\n      } = swiper;\n      const {\n        $el\n      } = scrollbar;\n      if (!isTouched) return;\n      isTouched = false;\n\n      if (swiper.params.cssMode) {\n        swiper.$wrapperEl.css('scroll-snap-type', '');\n        $wrapperEl.transition('');\n      }\n\n      if (params.hide) {\n        clearTimeout(dragTimeout);\n        dragTimeout = nextTick(() => {\n          $el.css('opacity', 0);\n          $el.transition(400);\n        }, 1000);\n      }\n\n      emit('scrollbarDragEnd', e);\n\n      if (params.snapOnRelease) {\n        swiper.slideToClosest();\n      }\n    }\n\n    function events(method) {\n      const {\n        scrollbar,\n        touchEventsTouch,\n        touchEventsDesktop,\n        params,\n        support\n      } = swiper;\n      const $el = scrollbar.$el;\n      const target = $el[0];\n      const activeListener = support.passiveListener && params.passiveListeners ? {\n        passive: false,\n        capture: false\n      } : false;\n      const passiveListener = support.passiveListener && params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      if (!target) return;\n      const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n      if (!support.touch) {\n        target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n        document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n        document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n      } else {\n        target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n        target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n        target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n      }\n    }\n\n    function enableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('on');\n    }\n\n    function disableDraggable() {\n      if (!swiper.params.scrollbar.el) return;\n      events('off');\n    }\n\n    function init() {\n      const {\n        scrollbar,\n        $el: $swiperEl\n      } = swiper;\n      swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n        el: 'swiper-scrollbar'\n      });\n      const params = swiper.params.scrollbar;\n      if (!params.el) return;\n      let $el = $(params.el);\n\n      if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n        $el = $swiperEl.find(params.el);\n      }\n\n      let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n      if ($dragEl.length === 0) {\n        $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n        $el.append($dragEl);\n      }\n\n      Object.assign(scrollbar, {\n        $el,\n        el: $el[0],\n        $dragEl,\n        dragEl: $dragEl[0]\n      });\n\n      if (params.draggable) {\n        enableDraggable();\n      }\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    }\n\n    function destroy() {\n      disableDraggable();\n    }\n\n    on('init', () => {\n      init();\n      updateSize();\n      setTranslate();\n    });\n    on('update resize observerUpdate lock unlock', () => {\n      updateSize();\n    });\n    on('setTranslate', () => {\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      setTransition(duration);\n    });\n    on('enable disable', () => {\n      const {\n        $el\n      } = swiper.scrollbar;\n\n      if ($el) {\n        $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n      }\n    });\n    on('destroy', () => {\n      destroy();\n    });\n    Object.assign(swiper.scrollbar, {\n      updateSize,\n      setTranslate,\n      init,\n      destroy\n    });\n  }\n\n  function Parallax({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      parallax: {\n        enabled: false\n      }\n    });\n\n    const setTransform = (el, progress) => {\n      const {\n        rtl\n      } = swiper;\n      const $el = $(el);\n      const rtlFactor = rtl ? -1 : 1;\n      const p = $el.attr('data-swiper-parallax') || '0';\n      let x = $el.attr('data-swiper-parallax-x');\n      let y = $el.attr('data-swiper-parallax-y');\n      const scale = $el.attr('data-swiper-parallax-scale');\n      const opacity = $el.attr('data-swiper-parallax-opacity');\n\n      if (x || y) {\n        x = x || '0';\n        y = y || '0';\n      } else if (swiper.isHorizontal()) {\n        x = p;\n        y = '0';\n      } else {\n        y = p;\n        x = '0';\n      }\n\n      if (x.indexOf('%') >= 0) {\n        x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n      } else {\n        x = `${x * progress * rtlFactor}px`;\n      }\n\n      if (y.indexOf('%') >= 0) {\n        y = `${parseInt(y, 10) * progress}%`;\n      } else {\n        y = `${y * progress}px`;\n      }\n\n      if (typeof opacity !== 'undefined' && opacity !== null) {\n        const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n        $el[0].style.opacity = currentOpacity;\n      }\n\n      if (typeof scale === 'undefined' || scale === null) {\n        $el.transform(`translate3d(${x}, ${y}, 0px)`);\n      } else {\n        const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n        $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n      }\n    };\n\n    const setTranslate = () => {\n      const {\n        $el,\n        slides,\n        progress,\n        snapGrid\n      } = swiper;\n      $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, progress);\n      });\n      slides.each((slideEl, slideIndex) => {\n        let slideProgress = slideEl.progress;\n\n        if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n          slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n        }\n\n        slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n        $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n          setTransform(el, slideProgress);\n        });\n      });\n    };\n\n    const setTransition = (duration = swiper.params.speed) => {\n      const {\n        $el\n      } = swiper;\n      $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n        const $parallaxEl = $(parallaxEl);\n        let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n        if (duration === 0) parallaxDuration = 0;\n        $parallaxEl.transition(parallaxDuration);\n      });\n    };\n\n    on('beforeInit', () => {\n      if (!swiper.params.parallax.enabled) return;\n      swiper.params.watchSlidesProgress = true;\n      swiper.originalParams.watchSlidesProgress = true;\n    });\n    on('init', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTranslate', () => {\n      if (!swiper.params.parallax.enabled) return;\n      setTranslate();\n    });\n    on('setTransition', (_swiper, duration) => {\n      if (!swiper.params.parallax.enabled) return;\n      setTransition(duration);\n    });\n  }\n\n  function Zoom({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    const window = getWindow();\n    extendParams({\n      zoom: {\n        enabled: false,\n        maxRatio: 3,\n        minRatio: 1,\n        toggle: true,\n        containerClass: 'swiper-zoom-container',\n        zoomedSlideClass: 'swiper-slide-zoomed'\n      }\n    });\n    swiper.zoom = {\n      enabled: false\n    };\n    let currentScale = 1;\n    let isScaling = false;\n    let gesturesEnabled;\n    let fakeGestureTouched;\n    let fakeGestureMoved;\n    const gesture = {\n      $slideEl: undefined,\n      slideWidth: undefined,\n      slideHeight: undefined,\n      $imageEl: undefined,\n      $imageWrapEl: undefined,\n      maxRatio: 3\n    };\n    const image = {\n      isTouched: undefined,\n      isMoved: undefined,\n      currentX: undefined,\n      currentY: undefined,\n      minX: undefined,\n      minY: undefined,\n      maxX: undefined,\n      maxY: undefined,\n      width: undefined,\n      height: undefined,\n      startX: undefined,\n      startY: undefined,\n      touchesStart: {},\n      touchesCurrent: {}\n    };\n    const velocity = {\n      x: undefined,\n      y: undefined,\n      prevPositionX: undefined,\n      prevPositionY: undefined,\n      prevTime: undefined\n    };\n    let scale = 1;\n    Object.defineProperty(swiper.zoom, 'scale', {\n      get() {\n        return scale;\n      },\n\n      set(value) {\n        if (scale !== value) {\n          const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n          const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n          emit('zoomChange', value, imageEl, slideEl);\n        }\n\n        scale = value;\n      }\n\n    });\n\n    function getDistanceBetweenTouches(e) {\n      if (e.targetTouches.length < 2) return 1;\n      const x1 = e.targetTouches[0].pageX;\n      const y1 = e.targetTouches[0].pageY;\n      const x2 = e.targetTouches[1].pageX;\n      const y2 = e.targetTouches[1].pageY;\n      const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n      return distance;\n    } // Events\n\n\n    function onGestureStart(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureTouched = true;\n        gesture.scaleStart = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$slideEl || !gesture.$slideEl.length) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n        gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n        if (gesture.$imageWrapEl.length === 0) {\n          gesture.$imageEl = undefined;\n          return;\n        }\n      }\n\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transition(0);\n      }\n\n      isScaling = true;\n    }\n\n    function onGestureChange(e) {\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n          return;\n        }\n\n        fakeGestureMoved = true;\n        gesture.scaleMove = getDistanceBetweenTouches(e);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n        if (e.type === 'gesturechange') onGestureStart(e);\n        return;\n      }\n\n      if (support.gestures) {\n        zoom.scale = e.scale * currentScale;\n      } else {\n        zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n      }\n\n      if (zoom.scale > gesture.maxRatio) {\n        zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n      }\n\n      if (zoom.scale < params.minRatio) {\n        zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n      }\n\n      gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function onGestureEnd(e) {\n      const device = swiper.device;\n      const support = swiper.support;\n      const params = swiper.params.zoom;\n      const zoom = swiper.zoom;\n\n      if (!support.gestures) {\n        if (!fakeGestureTouched || !fakeGestureMoved) {\n          return;\n        }\n\n        if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n          return;\n        }\n\n        fakeGestureTouched = false;\n        fakeGestureMoved = false;\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n      gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n      currentScale = zoom.scale;\n      isScaling = false;\n      if (zoom.scale === 1) gesture.$slideEl = undefined;\n    }\n\n    function onTouchStart(e) {\n      const device = swiper.device;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      if (image.isTouched) return;\n      if (device.android && e.cancelable) e.preventDefault();\n      image.isTouched = true;\n      image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n    }\n\n    function onTouchMove(e) {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n      swiper.allowClick = false;\n      if (!image.isTouched || !gesture.$slideEl) return;\n\n      if (!image.isMoved) {\n        image.width = gesture.$imageEl[0].offsetWidth;\n        image.height = gesture.$imageEl[0].offsetHeight;\n        image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n        image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n        gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n        gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n        gesture.$imageWrapEl.transition(0);\n      } // Define if we need image drag\n\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n      image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n      if (!image.isMoved && !isScaling) {\n        if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n          image.isTouched = false;\n          return;\n        }\n\n        if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n          image.isTouched = false;\n          return;\n        }\n      }\n\n      if (e.cancelable) {\n        e.preventDefault();\n      }\n\n      e.stopPropagation();\n      image.isMoved = true;\n      image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n      image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n      if (image.currentX < image.minX) {\n        image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n      }\n\n      if (image.currentX > image.maxX) {\n        image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n      }\n\n      if (image.currentY < image.minY) {\n        image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n      }\n\n      if (image.currentY > image.maxY) {\n        image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n      } // Velocity\n\n\n      if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n      if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n      if (!velocity.prevTime) velocity.prevTime = Date.now();\n      velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n      velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n      if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n      if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n      velocity.prevPositionX = image.touchesCurrent.x;\n      velocity.prevPositionY = image.touchesCurrent.y;\n      velocity.prevTime = Date.now();\n      gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTouchEnd() {\n      const zoom = swiper.zoom;\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n      if (!image.isTouched || !image.isMoved) {\n        image.isTouched = false;\n        image.isMoved = false;\n        return;\n      }\n\n      image.isTouched = false;\n      image.isMoved = false;\n      let momentumDurationX = 300;\n      let momentumDurationY = 300;\n      const momentumDistanceX = velocity.x * momentumDurationX;\n      const newPositionX = image.currentX + momentumDistanceX;\n      const momentumDistanceY = velocity.y * momentumDurationY;\n      const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n      if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n      if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n      const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n      image.currentX = newPositionX;\n      image.currentY = newPositionY; // Define if we need image drag\n\n      const scaledWidth = image.width * zoom.scale;\n      const scaledHeight = image.height * zoom.scale;\n      image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n      image.maxX = -image.minX;\n      image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n      image.maxY = -image.minY;\n      image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n      image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n      gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n    }\n\n    function onTransitionEnd() {\n      const zoom = swiper.zoom;\n\n      if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n        if (gesture.$imageEl) {\n          gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n        }\n\n        if (gesture.$imageWrapEl) {\n          gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n        }\n\n        zoom.scale = 1;\n        currentScale = 1;\n        gesture.$slideEl = undefined;\n        gesture.$imageEl = undefined;\n        gesture.$imageWrapEl = undefined;\n      }\n    }\n\n    function zoomIn(e) {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (e && e.target) {\n          gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n        }\n\n        if (!gesture.$slideEl) {\n          if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n            gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n          } else {\n            gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n          }\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = 'hidden';\n        swiper.wrapperEl.style.touchAction = 'none';\n      }\n\n      gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n      let touchX;\n      let touchY;\n      let offsetX;\n      let offsetY;\n      let diffX;\n      let diffY;\n      let translateX;\n      let translateY;\n      let imageWidth;\n      let imageHeight;\n      let scaledWidth;\n      let scaledHeight;\n      let translateMinX;\n      let translateMinY;\n      let translateMaxX;\n      let translateMaxY;\n      let slideWidth;\n      let slideHeight;\n\n      if (typeof image.touchesStart.x === 'undefined' && e) {\n        touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n        touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n      } else {\n        touchX = image.touchesStart.x;\n        touchY = image.touchesStart.y;\n      }\n\n      zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n      currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (e) {\n        slideWidth = gesture.$slideEl[0].offsetWidth;\n        slideHeight = gesture.$slideEl[0].offsetHeight;\n        offsetX = gesture.$slideEl.offset().left + window.scrollX;\n        offsetY = gesture.$slideEl.offset().top + window.scrollY;\n        diffX = offsetX + slideWidth / 2 - touchX;\n        diffY = offsetY + slideHeight / 2 - touchY;\n        imageWidth = gesture.$imageEl[0].offsetWidth;\n        imageHeight = gesture.$imageEl[0].offsetHeight;\n        scaledWidth = imageWidth * zoom.scale;\n        scaledHeight = imageHeight * zoom.scale;\n        translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n        translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n        translateMaxX = -translateMinX;\n        translateMaxY = -translateMinY;\n        translateX = diffX * zoom.scale;\n        translateY = diffY * zoom.scale;\n\n        if (translateX < translateMinX) {\n          translateX = translateMinX;\n        }\n\n        if (translateX > translateMaxX) {\n          translateX = translateMaxX;\n        }\n\n        if (translateY < translateMinY) {\n          translateY = translateMinY;\n        }\n\n        if (translateY > translateMaxY) {\n          translateY = translateMaxY;\n        }\n      } else {\n        translateX = 0;\n        translateY = 0;\n      }\n\n      gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n      gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    }\n\n    function zoomOut() {\n      const zoom = swiper.zoom;\n      const params = swiper.params.zoom;\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n\n        gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n        gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      }\n\n      if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n      if (swiper.params.cssMode) {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.style.touchAction = '';\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n      gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n      gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n      gesture.$slideEl = undefined;\n    } // Toggle Zoom\n\n\n    function zoomToggle(e) {\n      const zoom = swiper.zoom;\n\n      if (zoom.scale && zoom.scale !== 1) {\n        // Zoom Out\n        zoomOut();\n      } else {\n        // Zoom In\n        zoomIn(e);\n      }\n    }\n\n    function getListeners() {\n      const support = swiper.support;\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n      const activeListenerWithCapture = support.passiveListener ? {\n        passive: false,\n        capture: true\n      } : true;\n      return {\n        passiveListener,\n        activeListenerWithCapture\n      };\n    }\n\n    function getSlideSelector() {\n      return `.${swiper.params.slideClass}`;\n    }\n\n    function toggleGestures(method) {\n      const {\n        passiveListener\n      } = getListeners();\n      const slideSelector = getSlideSelector();\n      swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n      swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n    }\n\n    function enableGestures() {\n      if (gesturesEnabled) return;\n      gesturesEnabled = true;\n      toggleGestures('on');\n    }\n\n    function disableGestures() {\n      if (!gesturesEnabled) return;\n      gesturesEnabled = false;\n      toggleGestures('off');\n    } // Attach/Detach Events\n\n\n    function enable() {\n      const zoom = swiper.zoom;\n      if (zoom.enabled) return;\n      zoom.enabled = true;\n      const support = swiper.support;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    function disable() {\n      const zoom = swiper.zoom;\n      if (!zoom.enabled) return;\n      const support = swiper.support;\n      zoom.enabled = false;\n      const {\n        passiveListener,\n        activeListenerWithCapture\n      } = getListeners();\n      const slideSelector = getSlideSelector(); // Scale image\n\n      if (support.gestures) {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n      } else if (swiper.touchEvents.start === 'touchstart') {\n        swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n        swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n        swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n        if (swiper.touchEvents.cancel) {\n          swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n        }\n      } // Move image\n\n\n      swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n    }\n\n    on('init', () => {\n      if (swiper.params.zoom.enabled) {\n        enable();\n      }\n    });\n    on('destroy', () => {\n      disable();\n    });\n    on('touchStart', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchStart(e);\n    });\n    on('touchEnd', (_s, e) => {\n      if (!swiper.zoom.enabled) return;\n      onTouchEnd();\n    });\n    on('doubleTap', (_s, e) => {\n      if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n        zoomToggle(e);\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n        onTransitionEnd();\n      }\n    });\n    on('slideChange', () => {\n      if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n        onTransitionEnd();\n      }\n    });\n    Object.assign(swiper.zoom, {\n      enable,\n      disable,\n      in: zoomIn,\n      out: zoomOut,\n      toggle: zoomToggle\n    });\n  }\n\n  function Lazy({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    extendParams({\n      lazy: {\n        checkInView: false,\n        enabled: false,\n        loadPrevNext: false,\n        loadPrevNextAmount: 1,\n        loadOnTransitionStart: false,\n        scrollingElement: '',\n        elementClass: 'swiper-lazy',\n        loadingClass: 'swiper-lazy-loading',\n        loadedClass: 'swiper-lazy-loaded',\n        preloaderClass: 'swiper-lazy-preloader'\n      }\n    });\n    swiper.lazy = {};\n    let scrollHandlerAttached = false;\n    let initialImageLoaded = false;\n\n    function loadInSlide(index, loadInDuplicate = true) {\n      const params = swiper.params.lazy;\n      if (typeof index === 'undefined') return;\n      if (swiper.slides.length === 0) return;\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n      const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n      if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n        $images.push($slideEl[0]);\n      }\n\n      if ($images.length === 0) return;\n      $images.each(imageEl => {\n        const $imageEl = $(imageEl);\n        $imageEl.addClass(params.loadingClass);\n        const background = $imageEl.attr('data-background');\n        const src = $imageEl.attr('data-src');\n        const srcset = $imageEl.attr('data-srcset');\n        const sizes = $imageEl.attr('data-sizes');\n        const $pictureEl = $imageEl.parent('picture');\n        swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n          if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n          if (background) {\n            $imageEl.css('background-image', `url(\"${background}\")`);\n            $imageEl.removeAttr('data-background');\n          } else {\n            if (srcset) {\n              $imageEl.attr('srcset', srcset);\n              $imageEl.removeAttr('data-srcset');\n            }\n\n            if (sizes) {\n              $imageEl.attr('sizes', sizes);\n              $imageEl.removeAttr('data-sizes');\n            }\n\n            if ($pictureEl.length) {\n              $pictureEl.children('source').each(sourceEl => {\n                const $source = $(sourceEl);\n\n                if ($source.attr('data-srcset')) {\n                  $source.attr('srcset', $source.attr('data-srcset'));\n                  $source.removeAttr('data-srcset');\n                }\n              });\n            }\n\n            if (src) {\n              $imageEl.attr('src', src);\n              $imageEl.removeAttr('data-src');\n            }\n          }\n\n          $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n          $slideEl.find(`.${params.preloaderClass}`).remove();\n\n          if (swiper.params.loop && loadInDuplicate) {\n            const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n            if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n              const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n              loadInSlide(originalSlide.index(), false);\n            } else {\n              const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n              loadInSlide(duplicatedSlide.index(), false);\n            }\n          }\n\n          emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n          if (swiper.params.autoHeight) {\n            swiper.updateAutoHeight();\n          }\n        });\n        emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n      });\n    }\n\n    function load() {\n      const {\n        $wrapperEl,\n        params: swiperParams,\n        slides,\n        activeIndex\n      } = swiper;\n      const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n      const params = swiperParams.lazy;\n      let slidesPerView = swiperParams.slidesPerView;\n\n      if (slidesPerView === 'auto') {\n        slidesPerView = 0;\n      }\n\n      function slideExist(index) {\n        if (isVirtual) {\n          if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n            return true;\n          }\n        } else if (slides[index]) return true;\n\n        return false;\n      }\n\n      function slideIndex(slideEl) {\n        if (isVirtual) {\n          return $(slideEl).attr('data-swiper-slide-index');\n        }\n\n        return $(slideEl).index();\n      }\n\n      if (!initialImageLoaded) initialImageLoaded = true;\n\n      if (swiper.params.watchSlidesProgress) {\n        $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n          const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n          loadInSlide(index);\n        });\n      } else if (slidesPerView > 1) {\n        for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        loadInSlide(activeIndex);\n      }\n\n      if (params.loadPrevNext) {\n        if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n          const amount = params.loadPrevNextAmount;\n          const spv = slidesPerView;\n          const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n          const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n          for (let i = activeIndex + slidesPerView; i < maxIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          } // Prev Slides\n\n\n          for (let i = minIndex; i < activeIndex; i += 1) {\n            if (slideExist(i)) loadInSlide(i);\n          }\n        } else {\n          const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n          if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n          const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n          if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n        }\n      }\n    }\n\n    function checkInViewOnLoad() {\n      const window = getWindow();\n      if (!swiper || swiper.destroyed) return;\n      const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n      const isWindow = $scrollElement[0] === window;\n      const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n      const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n      const swiperOffset = swiper.$el.offset();\n      const {\n        rtlTranslate: rtl\n      } = swiper;\n      let inView = false;\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n        passive: true,\n        capture: false\n      } : false;\n\n      if (inView) {\n        load();\n        $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n      } else if (!scrollHandlerAttached) {\n        scrollHandlerAttached = true;\n        $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n      }\n    }\n\n    on('beforeInit', () => {\n      if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n        swiper.params.preloadImages = false;\n      }\n    });\n    on('init', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('scroll', () => {\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n        load();\n      }\n    });\n    on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('transitionStart', () => {\n      if (swiper.params.lazy.enabled) {\n        if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n          if (swiper.params.lazy.checkInView) {\n            checkInViewOnLoad();\n          } else {\n            load();\n          }\n        }\n      }\n    });\n    on('transitionEnd', () => {\n      if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    });\n    on('slideChange', () => {\n      const {\n        lazy,\n        cssMode,\n        watchSlidesProgress,\n        touchReleaseOnEdges,\n        resistanceRatio\n      } = swiper.params;\n\n      if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n        load();\n      }\n    });\n    Object.assign(swiper.lazy, {\n      load,\n      loadInSlide\n    });\n  }\n\n  /* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\n  function Controller({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      controller: {\n        control: undefined,\n        inverse: false,\n        by: 'slide' // or 'container'\n\n      }\n    });\n    swiper.controller = {\n      control: undefined\n    };\n\n    function LinearSpline(x, y) {\n      const binarySearch = function search() {\n        let maxIndex;\n        let minIndex;\n        let guess;\n        return (array, val) => {\n          minIndex = -1;\n          maxIndex = array.length;\n\n          while (maxIndex - minIndex > 1) {\n            guess = maxIndex + minIndex >> 1;\n\n            if (array[guess] <= val) {\n              minIndex = guess;\n            } else {\n              maxIndex = guess;\n            }\n          }\n\n          return maxIndex;\n        };\n      }();\n\n      this.x = x;\n      this.y = y;\n      this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n      // (x1,y1) is the known point before given value,\n      // (x3,y3) is the known point after given value.\n\n      let i1;\n      let i3;\n\n      this.interpolate = function interpolate(x2) {\n        if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n        i3 = binarySearch(this.x, x2);\n        i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n        // y2 := ((x2−x1) × (y3−y1)) ÷ (x3−x1) + y1\n\n        return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n      };\n\n      return this;\n    } // xxx: for now i will just save one spline function to to\n\n\n    function getInterpolateFunction(c) {\n      if (!swiper.controller.spline) {\n        swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n      }\n    }\n\n    function setTranslate(_t, byController) {\n      const controlled = swiper.controller.control;\n      let multiplier;\n      let controlledTranslate;\n      const Swiper = swiper.constructor;\n\n      function setControlledTranslate(c) {\n        // this will create an Interpolate function based on the snapGrids\n        // x is the Grid of the scrolled scroller and y will be the controlled scroller\n        // it makes sense to create this only once and recall it for the interpolation\n        // the function does a lot of value caching for performance\n        const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n        if (swiper.params.controller.by === 'slide') {\n          getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n          // but it did not work out\n\n          controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n        }\n\n        if (!controlledTranslate || swiper.params.controller.by === 'container') {\n          multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n          controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n        }\n\n        if (swiper.params.controller.inverse) {\n          controlledTranslate = c.maxTranslate() - controlledTranslate;\n        }\n\n        c.updateProgress(controlledTranslate);\n        c.setTranslate(controlledTranslate, swiper);\n        c.updateActiveIndex();\n        c.updateSlidesClasses();\n      }\n\n      if (Array.isArray(controlled)) {\n        for (let i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTranslate(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTranslate(controlled);\n      }\n    }\n\n    function setTransition(duration, byController) {\n      const Swiper = swiper.constructor;\n      const controlled = swiper.controller.control;\n      let i;\n\n      function setControlledTransition(c) {\n        c.setTransition(duration, swiper);\n\n        if (duration !== 0) {\n          c.transitionStart();\n\n          if (c.params.autoHeight) {\n            nextTick(() => {\n              c.updateAutoHeight();\n            });\n          }\n\n          c.$wrapperEl.transitionEnd(() => {\n            if (!controlled) return;\n\n            if (c.params.loop && swiper.params.controller.by === 'slide') {\n              c.loopFix();\n            }\n\n            c.transitionEnd();\n          });\n        }\n      }\n\n      if (Array.isArray(controlled)) {\n        for (i = 0; i < controlled.length; i += 1) {\n          if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n            setControlledTransition(controlled[i]);\n          }\n        }\n      } else if (controlled instanceof Swiper && byController !== controlled) {\n        setControlledTransition(controlled);\n      }\n    }\n\n    function removeSpline() {\n      if (!swiper.controller.control) return;\n\n      if (swiper.controller.spline) {\n        swiper.controller.spline = undefined;\n        delete swiper.controller.spline;\n      }\n    }\n\n    on('beforeInit', () => {\n      swiper.controller.control = swiper.params.controller.control;\n    });\n    on('update', () => {\n      removeSpline();\n    });\n    on('resize', () => {\n      removeSpline();\n    });\n    on('observerUpdate', () => {\n      removeSpline();\n    });\n    on('setTranslate', (_s, translate, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTranslate(translate, byController);\n    });\n    on('setTransition', (_s, duration, byController) => {\n      if (!swiper.controller.control) return;\n      swiper.controller.setTransition(duration, byController);\n    });\n    Object.assign(swiper.controller, {\n      setTranslate,\n      setTransition\n    });\n  }\n\n  function A11y({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      a11y: {\n        enabled: true,\n        notificationClass: 'swiper-notification',\n        prevSlideMessage: 'Previous slide',\n        nextSlideMessage: 'Next slide',\n        firstSlideMessage: 'This is the first slide',\n        lastSlideMessage: 'This is the last slide',\n        paginationBulletMessage: 'Go to slide {{index}}',\n        slideLabelMessage: '{{index}} / {{slidesLength}}',\n        containerMessage: null,\n        containerRoleDescriptionMessage: null,\n        itemRoleDescriptionMessage: null,\n        slideRole: 'group'\n      }\n    });\n    let liveRegion = null;\n\n    function notify(message) {\n      const notification = liveRegion;\n      if (notification.length === 0) return;\n      notification.html('');\n      notification.html(message);\n    }\n\n    function getRandomNumber(size = 16) {\n      const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n      return 'x'.repeat(size).replace(/x/g, randomChar);\n    }\n\n    function makeElFocusable($el) {\n      $el.attr('tabIndex', '0');\n    }\n\n    function makeElNotFocusable($el) {\n      $el.attr('tabIndex', '-1');\n    }\n\n    function addElRole($el, role) {\n      $el.attr('role', role);\n    }\n\n    function addElRoleDescription($el, description) {\n      $el.attr('aria-roledescription', description);\n    }\n\n    function addElControls($el, controls) {\n      $el.attr('aria-controls', controls);\n    }\n\n    function addElLabel($el, label) {\n      $el.attr('aria-label', label);\n    }\n\n    function addElId($el, id) {\n      $el.attr('id', id);\n    }\n\n    function addElLive($el, live) {\n      $el.attr('aria-live', live);\n    }\n\n    function disableEl($el) {\n      $el.attr('aria-disabled', true);\n    }\n\n    function enableEl($el) {\n      $el.attr('aria-disabled', false);\n    }\n\n    function onEnterOrSpaceKey(e) {\n      if (e.keyCode !== 13 && e.keyCode !== 32) return;\n      const params = swiper.params.a11y;\n      const $targetEl = $(e.target);\n\n      if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n        if (!(swiper.isEnd && !swiper.params.loop)) {\n          swiper.slideNext();\n        }\n\n        if (swiper.isEnd) {\n          notify(params.lastSlideMessage);\n        } else {\n          notify(params.nextSlideMessage);\n        }\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n        if (!(swiper.isBeginning && !swiper.params.loop)) {\n          swiper.slidePrev();\n        }\n\n        if (swiper.isBeginning) {\n          notify(params.firstSlideMessage);\n        } else {\n          notify(params.prevSlideMessage);\n        }\n      }\n\n      if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n        $targetEl[0].click();\n      }\n    }\n\n    function updateNavigation() {\n      if (swiper.params.loop || !swiper.navigation) return;\n      const {\n        $nextEl,\n        $prevEl\n      } = swiper.navigation;\n\n      if ($prevEl && $prevEl.length > 0) {\n        if (swiper.isBeginning) {\n          disableEl($prevEl);\n          makeElNotFocusable($prevEl);\n        } else {\n          enableEl($prevEl);\n          makeElFocusable($prevEl);\n        }\n      }\n\n      if ($nextEl && $nextEl.length > 0) {\n        if (swiper.isEnd) {\n          disableEl($nextEl);\n          makeElNotFocusable($nextEl);\n        } else {\n          enableEl($nextEl);\n          makeElFocusable($nextEl);\n        }\n      }\n    }\n\n    function hasPagination() {\n      return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n    }\n\n    function hasClickablePagination() {\n      return hasPagination() && swiper.params.pagination.clickable;\n    }\n\n    function updatePagination() {\n      const params = swiper.params.a11y;\n      if (!hasPagination()) return;\n      swiper.pagination.bullets.each(bulletEl => {\n        const $bulletEl = $(bulletEl);\n\n        if (swiper.params.pagination.clickable) {\n          makeElFocusable($bulletEl);\n\n          if (!swiper.params.pagination.renderBullet) {\n            addElRole($bulletEl, 'button');\n            addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n          }\n        }\n\n        if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n          $bulletEl.attr('aria-current', 'true');\n        } else {\n          $bulletEl.removeAttr('aria-current');\n        }\n      });\n    }\n\n    const initNavEl = ($el, wrapperId, message) => {\n      makeElFocusable($el);\n\n      if ($el[0].tagName !== 'BUTTON') {\n        addElRole($el, 'button');\n        $el.on('keydown', onEnterOrSpaceKey);\n      }\n\n      addElLabel($el, message);\n      addElControls($el, wrapperId);\n    };\n\n    function init() {\n      const params = swiper.params.a11y;\n      swiper.$el.append(liveRegion); // Container\n\n      const $containerEl = swiper.$el;\n\n      if (params.containerRoleDescriptionMessage) {\n        addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n      }\n\n      if (params.containerMessage) {\n        addElLabel($containerEl, params.containerMessage);\n      } // Wrapper\n\n\n      const $wrapperEl = swiper.$wrapperEl;\n      const wrapperId = $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n      const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n      addElId($wrapperEl, wrapperId);\n      addElLive($wrapperEl, live); // Slide\n\n      if (params.itemRoleDescriptionMessage) {\n        addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n      }\n\n      addElRole($(swiper.slides), params.slideRole);\n      const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      }); // Navigation\n\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl && $nextEl.length) {\n        initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n      }\n\n      if ($prevEl && $prevEl.length) {\n        initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    function destroy() {\n      if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n      let $nextEl;\n      let $prevEl;\n\n      if (swiper.navigation && swiper.navigation.$nextEl) {\n        $nextEl = swiper.navigation.$nextEl;\n      }\n\n      if (swiper.navigation && swiper.navigation.$prevEl) {\n        $prevEl = swiper.navigation.$prevEl;\n      }\n\n      if ($nextEl) {\n        $nextEl.off('keydown', onEnterOrSpaceKey);\n      }\n\n      if ($prevEl) {\n        $prevEl.off('keydown', onEnterOrSpaceKey);\n      } // Pagination\n\n\n      if (hasClickablePagination()) {\n        swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n      }\n    }\n\n    on('beforeInit', () => {\n      liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n    });\n    on('afterInit', () => {\n      if (!swiper.params.a11y.enabled) return;\n      init();\n      updateNavigation();\n    });\n    on('toEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('fromEdge', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updateNavigation();\n    });\n    on('paginationUpdate', () => {\n      if (!swiper.params.a11y.enabled) return;\n      updatePagination();\n    });\n    on('destroy', () => {\n      if (!swiper.params.a11y.enabled) return;\n      destroy();\n    });\n  }\n\n  function History({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      history: {\n        enabled: false,\n        root: '',\n        replaceState: false,\n        key: 'slides'\n      }\n    });\n    let initialized = false;\n    let paths = {};\n\n    const slugify = text => {\n      return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n    };\n\n    const getPathValues = urlOverride => {\n      const window = getWindow();\n      let location;\n\n      if (urlOverride) {\n        location = new URL(urlOverride);\n      } else {\n        location = window.location;\n      }\n\n      const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n      const total = pathArray.length;\n      const key = pathArray[total - 2];\n      const value = pathArray[total - 1];\n      return {\n        key,\n        value\n      };\n    };\n\n    const setHistory = (key, index) => {\n      const window = getWindow();\n      if (!initialized || !swiper.params.history.enabled) return;\n      let location;\n\n      if (swiper.params.url) {\n        location = new URL(swiper.params.url);\n      } else {\n        location = window.location;\n      }\n\n      const slide = swiper.slides.eq(index);\n      let value = slugify(slide.attr('data-history'));\n\n      if (swiper.params.history.root.length > 0) {\n        let root = swiper.params.history.root;\n        if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n        value = `${root}/${key}/${value}`;\n      } else if (!location.pathname.includes(key)) {\n        value = `${key}/${value}`;\n      }\n\n      const currentState = window.history.state;\n\n      if (currentState && currentState.value === value) {\n        return;\n      }\n\n      if (swiper.params.history.replaceState) {\n        window.history.replaceState({\n          value\n        }, null, value);\n      } else {\n        window.history.pushState({\n          value\n        }, null, value);\n      }\n    };\n\n    const scrollToSlide = (speed, value, runCallbacks) => {\n      if (value) {\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHistory = slugify(slide.attr('data-history'));\n\n          if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, runCallbacks);\n          }\n        }\n      } else {\n        swiper.slideTo(0, speed, runCallbacks);\n      }\n    };\n\n    const setHistoryPopState = () => {\n      paths = getPathValues(swiper.params.url);\n      scrollToSlide(swiper.params.speed, swiper.paths.value, false);\n    };\n\n    const init = () => {\n      const window = getWindow();\n      if (!swiper.params.history) return;\n\n      if (!window.history || !window.history.pushState) {\n        swiper.params.history.enabled = false;\n        swiper.params.hashNavigation.enabled = true;\n        return;\n      }\n\n      initialized = true;\n      paths = getPathValues(swiper.params.url);\n      if (!paths.key && !paths.value) return;\n      scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n      if (!swiper.params.history.replaceState) {\n        window.addEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    const destroy = () => {\n      const window = getWindow();\n\n      if (!swiper.params.history.replaceState) {\n        window.removeEventListener('popstate', setHistoryPopState);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.history.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.history.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHistory(swiper.params.history.key, swiper.activeIndex);\n      }\n    });\n  }\n\n  function HashNavigation({\n    swiper,\n    extendParams,\n    emit,\n    on\n  }) {\n    let initialized = false;\n    const document = getDocument();\n    const window = getWindow();\n    extendParams({\n      hashNavigation: {\n        enabled: false,\n        replaceState: false,\n        watchState: false\n      }\n    });\n\n    const onHashChange = () => {\n      emit('hashChange');\n      const newHash = document.location.hash.replace('#', '');\n      const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n      if (newHash !== activeSlideHash) {\n        const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n        if (typeof newIndex === 'undefined') return;\n        swiper.slideTo(newIndex);\n      }\n    };\n\n    const setHash = () => {\n      if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n      if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n        window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n        emit('hashSet');\n      } else {\n        const slide = swiper.slides.eq(swiper.activeIndex);\n        const hash = slide.attr('data-hash') || slide.attr('data-history');\n        document.location.hash = hash || '';\n        emit('hashSet');\n      }\n    };\n\n    const init = () => {\n      if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n      initialized = true;\n      const hash = document.location.hash.replace('#', '');\n\n      if (hash) {\n        const speed = 0;\n\n        for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n          const slide = swiper.slides.eq(i);\n          const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n          if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n            const index = slide.index();\n            swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n          }\n        }\n      }\n\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).on('hashchange', onHashChange);\n      }\n    };\n\n    const destroy = () => {\n      if (swiper.params.hashNavigation.watchState) {\n        $(window).off('hashchange', onHashChange);\n      }\n    };\n\n    on('init', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        init();\n      }\n    });\n    on('destroy', () => {\n      if (swiper.params.hashNavigation.enabled) {\n        destroy();\n      }\n    });\n    on('transitionEnd _freeModeNoMomentumRelease', () => {\n      if (initialized) {\n        setHash();\n      }\n    });\n    on('slideChange', () => {\n      if (initialized && swiper.params.cssMode) {\n        setHash();\n      }\n    });\n  }\n\n  /* eslint no-underscore-dangle: \"off\" */\n  function Autoplay({\n    swiper,\n    extendParams,\n    on,\n    emit\n  }) {\n    let timeout;\n    swiper.autoplay = {\n      running: false,\n      paused: false\n    };\n    extendParams({\n      autoplay: {\n        enabled: false,\n        delay: 3000,\n        waitForTransition: true,\n        disableOnInteraction: true,\n        stopOnLastSlide: false,\n        reverseDirection: false,\n        pauseOnMouseEnter: false\n      }\n    });\n\n    function run() {\n      const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n      let delay = swiper.params.autoplay.delay;\n\n      if ($activeSlideEl.attr('data-swiper-autoplay')) {\n        delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n      }\n\n      clearTimeout(timeout);\n      timeout = nextTick(() => {\n        let autoplayResult;\n\n        if (swiper.params.autoplay.reverseDirection) {\n          if (swiper.params.loop) {\n            swiper.loopFix();\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.isBeginning) {\n            autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n            emit('autoplay');\n          } else if (!swiper.params.autoplay.stopOnLastSlide) {\n            autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n            emit('autoplay');\n          } else {\n            stop();\n          }\n        } else if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isEnd) {\n          autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n\n        if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n          run();\n        }\n      }, delay);\n    }\n\n    function start() {\n      if (typeof timeout !== 'undefined') return false;\n      if (swiper.autoplay.running) return false;\n      swiper.autoplay.running = true;\n      emit('autoplayStart');\n      run();\n      return true;\n    }\n\n    function stop() {\n      if (!swiper.autoplay.running) return false;\n      if (typeof timeout === 'undefined') return false;\n\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n\n      swiper.autoplay.running = false;\n      emit('autoplayStop');\n      return true;\n    }\n\n    function pause(speed) {\n      if (!swiper.autoplay.running) return;\n      if (swiper.autoplay.paused) return;\n      if (timeout) clearTimeout(timeout);\n      swiper.autoplay.paused = true;\n\n      if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n        swiper.autoplay.paused = false;\n        run();\n      } else {\n        ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n          swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n        });\n      }\n    }\n\n    function onVisibilityChange() {\n      const document = getDocument();\n\n      if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n        pause();\n      }\n\n      if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n        run();\n        swiper.autoplay.paused = false;\n      }\n    }\n\n    function onTransitionEnd(e) {\n      if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n      if (e.target !== swiper.$wrapperEl[0]) return;\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n      swiper.autoplay.paused = false;\n\n      if (!swiper.autoplay.running) {\n        stop();\n      } else {\n        run();\n      }\n    }\n\n    function onMouseEnter() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n      });\n    }\n\n    function onMouseLeave() {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        return;\n      }\n\n      swiper.autoplay.paused = false;\n      run();\n    }\n\n    function attachMouseEvents() {\n      if (swiper.params.autoplay.pauseOnMouseEnter) {\n        swiper.$el.on('mouseenter', onMouseEnter);\n        swiper.$el.on('mouseleave', onMouseLeave);\n      }\n    }\n\n    function detachMouseEvents() {\n      swiper.$el.off('mouseenter', onMouseEnter);\n      swiper.$el.off('mouseleave', onMouseLeave);\n    }\n\n    on('init', () => {\n      if (swiper.params.autoplay.enabled) {\n        start();\n        const document = getDocument();\n        document.addEventListener('visibilitychange', onVisibilityChange);\n        attachMouseEvents();\n      }\n    });\n    on('beforeTransitionStart', (_s, speed, internal) => {\n      if (swiper.autoplay.running) {\n        if (internal || !swiper.params.autoplay.disableOnInteraction) {\n          swiper.autoplay.pause(speed);\n        } else {\n          stop();\n        }\n      }\n    });\n    on('sliderFirstMove', () => {\n      if (swiper.autoplay.running) {\n        if (swiper.params.autoplay.disableOnInteraction) {\n          stop();\n        } else {\n          pause();\n        }\n      }\n    });\n    on('touchEnd', () => {\n      if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n        run();\n      }\n    });\n    on('destroy', () => {\n      detachMouseEvents();\n\n      if (swiper.autoplay.running) {\n        stop();\n      }\n\n      const document = getDocument();\n      document.removeEventListener('visibilitychange', onVisibilityChange);\n    });\n    Object.assign(swiper.autoplay, {\n      pause,\n      run,\n      start,\n      stop\n    });\n  }\n\n  function Thumb({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      thumbs: {\n        swiper: null,\n        multipleActiveThumbs: true,\n        autoScrollOffset: 0,\n        slideThumbActiveClass: 'swiper-slide-thumb-active',\n        thumbsContainerClass: 'swiper-thumbs'\n      }\n    });\n    let initialized = false;\n    let swiperCreated = false;\n    swiper.thumbs = {\n      swiper: null\n    };\n\n    function onThumbClick() {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const clickedIndex = thumbsSwiper.clickedIndex;\n      const clickedSlide = thumbsSwiper.clickedSlide;\n      if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n      if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n      let slideToIndex;\n\n      if (thumbsSwiper.params.loop) {\n        slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n      } else {\n        slideToIndex = clickedIndex;\n      }\n\n      if (swiper.params.loop) {\n        let currentIndex = swiper.activeIndex;\n\n        if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n          swiper.loopFix(); // eslint-disable-next-line\n\n          swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n          currentIndex = swiper.activeIndex;\n        }\n\n        const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n        if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n      }\n\n      swiper.slideTo(slideToIndex);\n    }\n\n    function init() {\n      const {\n        thumbs: thumbsParams\n      } = swiper.params;\n      if (initialized) return false;\n      initialized = true;\n      const SwiperClass = swiper.constructor;\n\n      if (thumbsParams.swiper instanceof SwiperClass) {\n        swiper.thumbs.swiper = thumbsParams.swiper;\n        Object.assign(swiper.thumbs.swiper.originalParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        Object.assign(swiper.thumbs.swiper.params, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n      } else if (isObject(thumbsParams.swiper)) {\n        const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n        Object.assign(thumbsSwiperParams, {\n          watchSlidesProgress: true,\n          slideToClickedSlide: false\n        });\n        swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n        swiperCreated = true;\n      }\n\n      swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n      swiper.thumbs.swiper.on('tap', onThumbClick);\n      return true;\n    }\n\n    function update(initial) {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView;\n      const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n      const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n      if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n        let currentThumbsIndex = thumbsSwiper.activeIndex;\n        let newThumbsIndex;\n        let direction;\n\n        if (thumbsSwiper.params.loop) {\n          if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n            thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n            thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n            currentThumbsIndex = thumbsSwiper.activeIndex;\n          } // Find actual thumbs index to slide to\n\n\n          const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n          const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n          if (typeof prevThumbsIndex === 'undefined') {\n            newThumbsIndex = nextThumbsIndex;\n          } else if (typeof nextThumbsIndex === 'undefined') {\n            newThumbsIndex = prevThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n          } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n            newThumbsIndex = nextThumbsIndex;\n          } else {\n            newThumbsIndex = prevThumbsIndex;\n          }\n\n          direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n        } else {\n          newThumbsIndex = swiper.realIndex;\n          direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n        }\n\n        if (useOffset) {\n          newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n        }\n\n        if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n          if (thumbsSwiper.params.centeredSlides) {\n            if (newThumbsIndex > currentThumbsIndex) {\n              newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n            } else {\n              newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n            }\n          } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) ;\n\n          thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n        }\n      } // Activate thumbs\n\n\n      let thumbsToActivate = 1;\n      const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n      if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n        thumbsToActivate = swiper.params.slidesPerView;\n      }\n\n      if (!swiper.params.thumbs.multipleActiveThumbs) {\n        thumbsToActivate = 1;\n      }\n\n      thumbsToActivate = Math.floor(thumbsToActivate);\n      thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n      if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n        }\n      } else {\n        for (let i = 0; i < thumbsToActivate; i += 1) {\n          thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n        }\n      }\n    }\n\n    on('beforeInit', () => {\n      const {\n        thumbs\n      } = swiper.params;\n      if (!thumbs || !thumbs.swiper) return;\n      init();\n      update(true);\n    });\n    on('slideChange update resize observerUpdate', () => {\n      if (!swiper.thumbs.swiper) return;\n      update();\n    });\n    on('setTransition', (_s, duration) => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n      thumbsSwiper.setTransition(duration);\n    });\n    on('beforeDestroy', () => {\n      const thumbsSwiper = swiper.thumbs.swiper;\n      if (!thumbsSwiper) return;\n\n      if (swiperCreated && thumbsSwiper) {\n        thumbsSwiper.destroy();\n      }\n    });\n    Object.assign(swiper.thumbs, {\n      init,\n      update\n    });\n  }\n\n  function freeMode({\n    swiper,\n    extendParams,\n    emit,\n    once\n  }) {\n    extendParams({\n      freeMode: {\n        enabled: false,\n        momentum: true,\n        momentumRatio: 1,\n        momentumBounce: true,\n        momentumBounceRatio: 1,\n        momentumVelocityRatio: 1,\n        sticky: false,\n        minimumVelocity: 0.02\n      }\n    });\n\n    function onTouchMove() {\n      const {\n        touchEventsData: data,\n        touches\n      } = swiper; // Velocity\n\n      if (data.velocities.length === 0) {\n        data.velocities.push({\n          position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n          time: data.touchStartTime\n        });\n      }\n\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n        time: now()\n      });\n    }\n\n    function onTouchEnd({\n      currentPos\n    }) {\n      const {\n        params,\n        $wrapperEl,\n        rtlTranslate: rtl,\n        snapGrid,\n        touchEventsData: data\n      } = swiper; // Time diff\n\n      const touchEndTime = now();\n      const timeDiff = touchEndTime - data.touchStartTime;\n\n      if (currentPos < -swiper.minTranslate()) {\n        swiper.slideTo(swiper.activeIndex);\n        return;\n      }\n\n      if (currentPos > -swiper.maxTranslate()) {\n        if (swiper.slides.length < snapGrid.length) {\n          swiper.slideTo(snapGrid.length - 1);\n        } else {\n          swiper.slideTo(swiper.slides.length - 1);\n        }\n\n        return;\n      }\n\n      if (params.freeMode.momentum) {\n        if (data.velocities.length > 1) {\n          const lastMoveEvent = data.velocities.pop();\n          const velocityEvent = data.velocities.pop();\n          const distance = lastMoveEvent.position - velocityEvent.position;\n          const time = lastMoveEvent.time - velocityEvent.time;\n          swiper.velocity = distance / time;\n          swiper.velocity /= 2;\n\n          if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n            swiper.velocity = 0;\n          } // this implies that the user stopped moving a finger then released.\n          // There would be no events with distance zero, so the last event is stale.\n\n\n          if (time > 150 || now() - lastMoveEvent.time > 300) {\n            swiper.velocity = 0;\n          }\n        } else {\n          swiper.velocity = 0;\n        }\n\n        swiper.velocity *= params.freeMode.momentumVelocityRatio;\n        data.velocities.length = 0;\n        let momentumDuration = 1000 * params.freeMode.momentumRatio;\n        const momentumDistance = swiper.velocity * momentumDuration;\n        let newPosition = swiper.translate + momentumDistance;\n        if (rtl) newPosition = -newPosition;\n        let doBounce = false;\n        let afterBouncePosition;\n        const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n        let needsLoopFix;\n\n        if (newPosition < swiper.maxTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n              newPosition = swiper.maxTranslate() - bounceAmount;\n            }\n\n            afterBouncePosition = swiper.maxTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.maxTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (newPosition > swiper.minTranslate()) {\n          if (params.freeMode.momentumBounce) {\n            if (newPosition - swiper.minTranslate() > bounceAmount) {\n              newPosition = swiper.minTranslate() + bounceAmount;\n            }\n\n            afterBouncePosition = swiper.minTranslate();\n            doBounce = true;\n            data.allowMomentumBounce = true;\n          } else {\n            newPosition = swiper.minTranslate();\n          }\n\n          if (params.loop && params.centeredSlides) needsLoopFix = true;\n        } else if (params.freeMode.sticky) {\n          let nextSlide;\n\n          for (let j = 0; j < snapGrid.length; j += 1) {\n            if (snapGrid[j] > -newPosition) {\n              nextSlide = j;\n              break;\n            }\n          }\n\n          if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n            newPosition = snapGrid[nextSlide];\n          } else {\n            newPosition = snapGrid[nextSlide - 1];\n          }\n\n          newPosition = -newPosition;\n        }\n\n        if (needsLoopFix) {\n          once('transitionEnd', () => {\n            swiper.loopFix();\n          });\n        } // Fix duration\n\n\n        if (swiper.velocity !== 0) {\n          if (rtl) {\n            momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n          } else {\n            momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n          }\n\n          if (params.freeMode.sticky) {\n            // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n            // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n            // It's easy to see this when simulating touch with mouse events. To fix this,\n            // limit single-slide swipes to the default slide duration. This also has the\n            // nice side effect of matching slide speed if the user stopped moving before\n            // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n            // For faster swipes, also apply limits (albeit higher ones).\n            const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n            const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n            if (moveDistance < currentSlideSize) {\n              momentumDuration = params.speed;\n            } else if (moveDistance < 2 * currentSlideSize) {\n              momentumDuration = params.speed * 1.5;\n            } else {\n              momentumDuration = params.speed * 2.5;\n            }\n          }\n        } else if (params.freeMode.sticky) {\n          swiper.slideToClosest();\n          return;\n        }\n\n        if (params.freeMode.momentumBounce && doBounce) {\n          swiper.updateProgress(afterBouncePosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n            emit('momentumBounce');\n            swiper.setTransition(params.speed);\n            setTimeout(() => {\n              swiper.setTranslate(afterBouncePosition);\n              $wrapperEl.transitionEnd(() => {\n                if (!swiper || swiper.destroyed) return;\n                swiper.transitionEnd();\n              });\n            }, 0);\n          });\n        } else if (swiper.velocity) {\n          emit('_freeModeNoMomentumRelease');\n          swiper.updateProgress(newPosition);\n          swiper.setTransition(momentumDuration);\n          swiper.setTranslate(newPosition);\n          swiper.transitionStart(true, swiper.swipeDirection);\n\n          if (!swiper.animating) {\n            swiper.animating = true;\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }\n        } else {\n          swiper.updateProgress(newPosition);\n        }\n\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      } else if (params.freeMode) {\n        emit('_freeModeNoMomentumRelease');\n      }\n\n      if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n      }\n    }\n\n    Object.assign(swiper, {\n      freeMode: {\n        onTouchMove,\n        onTouchEnd\n      }\n    });\n  }\n\n  function Grid({\n    swiper,\n    extendParams\n  }) {\n    extendParams({\n      grid: {\n        rows: 1,\n        fill: 'column'\n      }\n    });\n    let slidesNumberEvenToRows;\n    let slidesPerRow;\n    let numFullColumns;\n\n    const initSlides = slidesLength => {\n      const {\n        slidesPerView\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid;\n      slidesPerRow = slidesNumberEvenToRows / rows;\n      numFullColumns = Math.floor(slidesLength / rows);\n\n      if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n        slidesNumberEvenToRows = slidesLength;\n      } else {\n        slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n      }\n\n      if (slidesPerView !== 'auto' && fill === 'row') {\n        slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n      }\n    };\n\n    const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n      const {\n        slidesPerGroup,\n        spaceBetween\n      } = swiper.params;\n      const {\n        rows,\n        fill\n      } = swiper.params.grid; // Set slides order\n\n      let newSlideOrderIndex;\n      let column;\n      let row;\n\n      if (fill === 'row' && slidesPerGroup > 1) {\n        const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n        const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n        const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n        row = Math.floor(slideIndexInGroup / columnsInGroup);\n        column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n        newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n        slide.css({\n          '-webkit-order': newSlideOrderIndex,\n          order: newSlideOrderIndex\n        });\n      } else if (fill === 'column') {\n        column = Math.floor(i / rows);\n        row = i - column * rows;\n\n        if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n          row += 1;\n\n          if (row >= rows) {\n            row = 0;\n            column += 1;\n          }\n        }\n      } else {\n        row = Math.floor(i / slidesPerRow);\n        column = i - row * slidesPerRow;\n      }\n\n      slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n    };\n\n    const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n      const {\n        spaceBetween,\n        centeredSlides,\n        roundLengths\n      } = swiper.params;\n      const {\n        rows\n      } = swiper.params.grid;\n      swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n      swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n      swiper.$wrapperEl.css({\n        [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n      });\n\n      if (centeredSlides) {\n        snapGrid.splice(0, snapGrid.length);\n        const newSlidesGrid = [];\n\n        for (let i = 0; i < snapGrid.length; i += 1) {\n          let slidesGridItem = snapGrid[i];\n          if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n          if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n        }\n\n        snapGrid.push(...newSlidesGrid);\n      }\n    };\n\n    swiper.grid = {\n      initSlides,\n      updateSlide,\n      updateWrapperSize\n    };\n  }\n\n  function appendSlide(slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n  }\n\n  function prependSlide(slides) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    let newActiveIndex = activeIndex + 1;\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.prepend(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n    } else {\n      $wrapperEl.prepend(slides);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n\n  function addSlide(index, slides) {\n    const swiper = this;\n    const {\n      $wrapperEl,\n      params,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    const baseLength = swiper.slides.length;\n\n    if (index <= 0) {\n      swiper.prependSlide(slides);\n      return;\n    }\n\n    if (index >= baseLength) {\n      swiper.appendSlide(slides);\n      return;\n    }\n\n    let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n    const slidesBuffer = [];\n\n    for (let i = baseLength - 1; i >= index; i -= 1) {\n      const currentSlide = swiper.slides.eq(i);\n      currentSlide.remove();\n      slidesBuffer.unshift(currentSlide);\n    }\n\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) $wrapperEl.append(slides[i]);\n      }\n\n      newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n    } else {\n      $wrapperEl.append(slides);\n    }\n\n    for (let i = 0; i < slidesBuffer.length; i += 1) {\n      $wrapperEl.append(slidesBuffer[i]);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeSlide(slidesIndexes) {\n    const swiper = this;\n    const {\n      params,\n      $wrapperEl,\n      activeIndex\n    } = swiper;\n    let activeIndexBuffer = activeIndex;\n\n    if (params.loop) {\n      activeIndexBuffer -= swiper.loopedSlides;\n      swiper.loopDestroy();\n      swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n    }\n\n    let newActiveIndex = activeIndexBuffer;\n    let indexToRemove;\n\n    if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n      for (let i = 0; i < slidesIndexes.length; i += 1) {\n        indexToRemove = slidesIndexes[i];\n        if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n        if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      }\n\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    } else {\n      indexToRemove = slidesIndexes;\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n      newActiveIndex = Math.max(newActiveIndex, 0);\n    }\n\n    if (params.loop) {\n      swiper.loopCreate();\n    }\n\n    if (!params.observer) {\n      swiper.update();\n    }\n\n    if (params.loop) {\n      swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n    } else {\n      swiper.slideTo(newActiveIndex, 0, false);\n    }\n  }\n\n  function removeAllSlides() {\n    const swiper = this;\n    const slidesIndexes = [];\n\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      slidesIndexes.push(i);\n    }\n\n    swiper.removeSlide(slidesIndexes);\n  }\n\n  function Manipulation({\n    swiper\n  }) {\n    Object.assign(swiper, {\n      appendSlide: appendSlide.bind(swiper),\n      prependSlide: prependSlide.bind(swiper),\n      addSlide: addSlide.bind(swiper),\n      removeSlide: removeSlide.bind(swiper),\n      removeAllSlides: removeAllSlides.bind(swiper)\n    });\n  }\n\n  function effectInit(params) {\n    const {\n      effect,\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams,\n      perspective\n    } = params;\n    on('beforeInit', () => {\n      if (swiper.params.effect !== effect) return;\n      swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n      if (perspective && perspective()) {\n        swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n      }\n\n      const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n      Object.assign(swiper.params, overwriteParamsResult);\n      Object.assign(swiper.originalParams, overwriteParamsResult);\n    });\n    on('setTranslate', () => {\n      if (swiper.params.effect !== effect) return;\n      setTranslate();\n    });\n    on('setTransition', (_s, duration) => {\n      if (swiper.params.effect !== effect) return;\n      setTransition(duration);\n    });\n  }\n\n  function effectTarget(effectParams, $slideEl) {\n    if (effectParams.transformEl) {\n      return $slideEl.find(effectParams.transformEl).css({\n        'backface-visibility': 'hidden',\n        '-webkit-backface-visibility': 'hidden'\n      });\n    }\n\n    return $slideEl;\n  }\n\n  function effectVirtualTransitionEnd({\n    swiper,\n    duration,\n    transformEl,\n    allSlides\n  }) {\n    const {\n      slides,\n      activeIndex,\n      $wrapperEl\n    } = swiper;\n\n    if (swiper.params.virtualTranslate && duration !== 0) {\n      let eventTriggered = false;\n      let $transitionEndTarget;\n\n      if (allSlides) {\n        $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n      } else {\n        $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n      }\n\n      $transitionEndTarget.transitionEnd(() => {\n        if (eventTriggered) return;\n        if (!swiper || swiper.destroyed) return;\n        eventTriggered = true;\n        swiper.animating = false;\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n        for (let i = 0; i < triggerEvents.length; i += 1) {\n          $wrapperEl.trigger(triggerEvents[i]);\n        }\n      });\n    }\n  }\n\n  function EffectFade({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      fadeEffect: {\n        crossFade: false,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides\n      } = swiper;\n      const params = swiper.params.fadeEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = swiper.slides.eq(i);\n        const offset = $slideEl[0].swiperSlideOffset;\n        let tx = -offset;\n        if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.css({\n          opacity: slideOpacity\n        }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.fadeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'fade',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCube({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cubeEffect: {\n        slideShadows: true,\n        shadow: true,\n        shadowOffset: 20,\n        shadowScale: 0.94\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        $el,\n        $wrapperEl,\n        slides,\n        width: swiperWidth,\n        height: swiperHeight,\n        rtlTranslate: rtl,\n        size: swiperSize,\n        browser\n      } = swiper;\n      const params = swiper.params.cubeEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      let wrapperRotate = 0;\n      let $cubeShadowEl;\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $wrapperEl.append($cubeShadowEl);\n          }\n\n          $cubeShadowEl.css({\n            height: `${swiperWidth}px`\n          });\n        } else {\n          $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n          if ($cubeShadowEl.length === 0) {\n            $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n            $el.append($cubeShadowEl);\n          }\n        }\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let slideIndex = i;\n\n        if (isVirtual) {\n          slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n        }\n\n        let slideAngle = slideIndex * 90;\n        let round = Math.floor(slideAngle / 360);\n\n        if (rtl) {\n          slideAngle = -slideAngle;\n          round = Math.floor(-slideAngle / 360);\n        }\n\n        const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        let tx = 0;\n        let ty = 0;\n        let tz = 0;\n\n        if (slideIndex % 4 === 0) {\n          tx = -round * 4 * swiperSize;\n          tz = 0;\n        } else if ((slideIndex - 1) % 4 === 0) {\n          tx = 0;\n          tz = -round * 4 * swiperSize;\n        } else if ((slideIndex - 2) % 4 === 0) {\n          tx = swiperSize + round * 4 * swiperSize;\n          tz = swiperSize;\n        } else if ((slideIndex - 3) % 4 === 0) {\n          tx = -swiperSize;\n          tz = 3 * swiperSize + swiperSize * 4 * round;\n        }\n\n        if (rtl) {\n          tx = -tx;\n        }\n\n        if (!isHorizontal) {\n          ty = tx;\n          tx = 0;\n        }\n\n        const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n        if (progress <= 1 && progress > -1) {\n          wrapperRotate = slideIndex * 90 + progress * 90;\n          if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n        }\n\n        $slideEl.transform(transform);\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n            $slideEl.append(shadowBefore);\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n            $slideEl.append(shadowAfter);\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n      }\n\n      $wrapperEl.css({\n        '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n        'transform-origin': `50% 50% -${swiperSize / 2}px`\n      });\n\n      if (params.shadow) {\n        if (isHorizontal) {\n          $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n        } else {\n          const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n          const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n          const scale1 = params.shadowScale;\n          const scale2 = params.shadowScale / multiplier;\n          const offset = params.shadowOffset;\n          $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n        }\n      }\n\n      const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n      $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    };\n\n    const setTransition = duration => {\n      const {\n        $el,\n        slides\n      } = swiper;\n      slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n      if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n        $el.find('.swiper-cube-shadow').transition(duration);\n      }\n    };\n\n    effectInit({\n      effect: 'cube',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        resistanceRatio: 0,\n        spaceBetween: 0,\n        centeredSlides: false,\n        virtualTranslate: true\n      })\n    });\n  }\n\n  function createShadow(params, $slideEl, side) {\n    const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n    const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n    let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n    if (!$shadowEl.length) {\n      $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n      $shadowContainer.append($shadowEl);\n    }\n\n    return $shadowEl;\n  }\n\n  function EffectFlip({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      flipEffect: {\n        slideShadows: true,\n        limitRotation: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        rtlTranslate: rtl\n      } = swiper;\n      const params = swiper.params.flipEffect;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        let progress = $slideEl[0].progress;\n\n        if (swiper.params.flipEffect.limitRotation) {\n          progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const rotate = -180 * progress;\n        let rotateY = rotate;\n        let rotateX = 0;\n        let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let ty = 0;\n\n        if (!swiper.isHorizontal()) {\n          ty = tx;\n          tx = 0;\n          rotateX = -rotateY;\n          rotateY = 0;\n        } else if (rtl) {\n          rotateY = -rotateY;\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if (shadowBefore.length === 0) {\n            shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n          }\n\n          if (shadowAfter.length === 0) {\n            shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n          }\n\n          if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n          if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n        }\n\n        const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.flipEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'flip',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        slidesPerView: 1,\n        slidesPerGroup: 1,\n        watchSlidesProgress: true,\n        spaceBetween: 0,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCoverflow({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      coverflowEffect: {\n        rotate: 50,\n        stretch: 0,\n        depth: 100,\n        scale: 1,\n        modifier: 1,\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        width: swiperWidth,\n        height: swiperHeight,\n        slides,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.coverflowEffect;\n      const isHorizontal = swiper.isHorizontal();\n      const transform = swiper.translate;\n      const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n      const rotate = isHorizontal ? params.rotate : -params.rotate;\n      const translate = params.depth; // Each slide offset from center\n\n      for (let i = 0, length = slides.length; i < length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideSize = slidesSizesGrid[i];\n        const slideOffset = $slideEl[0].swiperSlideOffset;\n        const offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * params.modifier;\n        let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n        let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n        let translateZ = -translate * Math.abs(offsetMultiplier);\n        let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n        if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n          stretch = parseFloat(params.stretch) / 100 * slideSize;\n        }\n\n        let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n        let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n        let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n        if (Math.abs(translateX) < 0.001) translateX = 0;\n        if (Math.abs(translateY) < 0.001) translateY = 0;\n        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n        if (Math.abs(scale) < 0.001) scale = 0;\n        const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(slideTransform);\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n          let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n          if ($shadowBeforeEl.length === 0) {\n            $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n          }\n\n          if ($shadowAfterEl.length === 0) {\n            $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n          }\n\n          if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n          if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.coverflowEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    };\n\n    effectInit({\n      effect: 'coverflow',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true\n      })\n    });\n  }\n\n  function EffectCreative({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      creativeEffect: {\n        transformEl: null,\n        limitProgress: 1,\n        shadowPerProgress: false,\n        progressMultiplier: 1,\n        perspective: true,\n        prev: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        },\n        next: {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          opacity: 1,\n          scale: 1\n        }\n      }\n    });\n\n    const getTranslateValue = value => {\n      if (typeof value === 'string') return value;\n      return `${value}px`;\n    };\n\n    const setTranslate = () => {\n      const {\n        slides,\n        $wrapperEl,\n        slidesSizesGrid\n      } = swiper;\n      const params = swiper.params.creativeEffect;\n      const {\n        progressMultiplier: multiplier\n      } = params;\n      const isCenteredSlides = swiper.params.centeredSlides;\n\n      if (isCenteredSlides) {\n        const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n        $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n      }\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n        let originalProgress = progress;\n\n        if (!isCenteredSlides) {\n          originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n        }\n\n        const offset = $slideEl[0].swiperSlideOffset;\n        const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n        const r = [0, 0, 0];\n        let custom = false;\n\n        if (!swiper.isHorizontal()) {\n          t[1] = t[0];\n          t[0] = 0;\n        }\n\n        let data = {\n          translate: [0, 0, 0],\n          rotate: [0, 0, 0],\n          scale: 1,\n          opacity: 1\n        };\n\n        if (progress < 0) {\n          data = params.next;\n          custom = true;\n        } else if (progress > 0) {\n          data = params.prev;\n          custom = true;\n        } // set translate\n\n\n        t.forEach((value, index) => {\n          t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n        }); // set rotates\n\n        r.forEach((value, index) => {\n          r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n        });\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const translateString = t.join(', ');\n        const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n        const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n        const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n        const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n        if (custom && data.shadow || !custom) {\n          let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0 && data.shadow) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) {\n            const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n            $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n          }\n        }\n\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform).css({\n          opacity: opacityString\n        });\n\n        if (data.origin) {\n          $targetEl.css('transform-origin', data.origin);\n        }\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.creativeEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl,\n        allSlides: true\n      });\n    };\n\n    effectInit({\n      effect: 'creative',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => swiper.params.creativeEffect.perspective,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  function EffectCards({\n    swiper,\n    extendParams,\n    on\n  }) {\n    extendParams({\n      cardsEffect: {\n        slideShadows: true,\n        transformEl: null\n      }\n    });\n\n    const setTranslate = () => {\n      const {\n        slides,\n        activeIndex\n      } = swiper;\n      const params = swiper.params.cardsEffect;\n      const {\n        startTranslate,\n        isTouched\n      } = swiper.touchEventsData;\n      const currentTranslate = swiper.translate;\n\n      for (let i = 0; i < slides.length; i += 1) {\n        const $slideEl = slides.eq(i);\n        const slideProgress = $slideEl[0].progress;\n        const progress = Math.min(Math.max(slideProgress, -4), 4);\n        let offset = $slideEl[0].swiperSlideOffset;\n\n        if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n          swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n        }\n\n        if (swiper.params.centeredSlides && swiper.params.cssMode) {\n          offset -= slides[0].swiperSlideOffset;\n        }\n\n        let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n        let tY = 0;\n        const tZ = -100 * Math.abs(progress);\n        let scale = 1;\n        let rotate = -2 * progress;\n        let tXAdd = 8 - Math.abs(progress) * 0.75;\n        const isSwipeToNext = (i === activeIndex || i === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n        const isSwipeToPrev = (i === activeIndex || i === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n        if (isSwipeToNext || isSwipeToPrev) {\n          const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n          rotate += -28 * progress * subProgress;\n          scale += -0.5 * subProgress;\n          tXAdd += 96 * subProgress;\n          tY = `${-25 * subProgress * Math.abs(progress)}%`;\n        }\n\n        if (progress < 0) {\n          // next\n          tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n        } else if (progress > 0) {\n          // prev\n          tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n        } else {\n          tX = `${tX}px`;\n        }\n\n        if (!swiper.isHorizontal()) {\n          const prevY = tY;\n          tY = tX;\n          tX = prevY;\n        }\n\n        const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n        const transform = `\n      translate3d(${tX}, ${tY}, ${tZ}px)\n      rotateZ(${rotate}deg)\n      scale(${scaleString})\n    `;\n\n        if (params.slideShadows) {\n          // Set shadows\n          let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n          if ($shadowEl.length === 0) {\n            $shadowEl = createShadow(params, $slideEl);\n          }\n\n          if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n        }\n\n        $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n        const $targetEl = effectTarget(params, $slideEl);\n        $targetEl.transform(transform);\n      }\n    };\n\n    const setTransition = duration => {\n      const {\n        transformEl\n      } = swiper.params.cardsEffect;\n      const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n      $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n      effectVirtualTransitionEnd({\n        swiper,\n        duration,\n        transformEl\n      });\n    };\n\n    effectInit({\n      effect: 'cards',\n      swiper,\n      on,\n      setTranslate,\n      setTransition,\n      perspective: () => true,\n      overwriteParams: () => ({\n        watchSlidesProgress: true,\n        virtualTranslate: !swiper.params.cssMode\n      })\n    });\n  }\n\n  // Swiper Class\n  const modules = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, Thumb, freeMode, Grid, Manipulation, EffectFade, EffectCube, EffectFlip, EffectCoverflow, EffectCreative, EffectCards];\n  Swiper.use(modules);\n\n  return Swiper;\n\n})));\n//# sourceMappingURL=swiper-bundle.js.map","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","/**\n * Tween.js - Licensed under the MIT license\n * https://github.com/tweenjs/tween.js\n * ----------------------------------------------\n *\n * See https://github.com/tweenjs/tween.js/graphs/contributors for the full list of contributors.\n * Thank you all, you're awesome!\n */\n\n\nvar _Group = function () {\n\tthis._tweens = {};\n\tthis._tweensAddedDuringUpdate = {};\n};\n\n_Group.prototype = {\n\tgetAll: function () {\n\n\t\treturn Object.keys(this._tweens).map(function (tweenId) {\n\t\t\treturn this._tweens[tweenId];\n\t\t}.bind(this));\n\n\t},\n\n\tremoveAll: function () {\n\n\t\tthis._tweens = {};\n\n\t},\n\n\tadd: function (tween) {\n\n\t\tthis._tweens[tween.getId()] = tween;\n\t\tthis._tweensAddedDuringUpdate[tween.getId()] = tween;\n\n\t},\n\n\tremove: function (tween) {\n\n\t\tdelete this._tweens[tween.getId()];\n\t\tdelete this._tweensAddedDuringUpdate[tween.getId()];\n\n\t},\n\n\tupdate: function (time, preserve) {\n\n\t\tvar tweenIds = Object.keys(this._tweens);\n\n\t\tif (tweenIds.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttime = time !== undefined ? time : TWEEN.now();\n\n\t\t// Tweens are updated in \"batches\". If you add a new tween during an update, then the\n\t\t// new tween will be updated in the next batch.\n\t\t// If you remove a tween during an update, it may or may not be updated. However,\n\t\t// if the removed tween was added during the current batch, then it will not be updated.\n\t\twhile (tweenIds.length > 0) {\n\t\t\tthis._tweensAddedDuringUpdate = {};\n\n\t\t\tfor (var i = 0; i < tweenIds.length; i++) {\n\n\t\t\t\tvar tween = this._tweens[tweenIds[i]];\n\n\t\t\t\tif (tween && tween.update(time) === false) {\n\t\t\t\t\ttween._isPlaying = false;\n\n\t\t\t\t\tif (!preserve) {\n\t\t\t\t\t\tdelete this._tweens[tweenIds[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttweenIds = Object.keys(this._tweensAddedDuringUpdate);\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\nvar TWEEN = new _Group();\n\nTWEEN.Group = _Group;\nTWEEN._nextId = 0;\nTWEEN.nextId = function () {\n\treturn TWEEN._nextId++;\n};\n\n\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (self) === 'undefined' && typeof (process) !== 'undefined' && process.hrtime) {\n\tTWEEN.now = function () {\n\t\tvar time = process.hrtime();\n\n\t\t// Convert [seconds, nanoseconds] to milliseconds.\n\t\treturn time[0] * 1000 + time[1] / 1000000;\n\t};\n}\n// In a browser, use self.performance.now if it is available.\nelse if (typeof (self) !== 'undefined' &&\n         self.performance !== undefined &&\n\t\t self.performance.now !== undefined) {\n\t// This must be bound, because directly assigning this function\n\t// leads to an invocation exception in Chrome.\n\tTWEEN.now = self.performance.now.bind(self.performance);\n}\n// Use Date.now if it is available.\nelse if (Date.now !== undefined) {\n\tTWEEN.now = Date.now;\n}\n// Otherwise, use 'new Date().getTime()'.\nelse {\n\tTWEEN.now = function () {\n\t\treturn new Date().getTime();\n\t};\n}\n\n\nTWEEN.Tween = function (object, group) {\n\tthis._object = object;\n\tthis._valuesStart = {};\n\tthis._valuesEnd = {};\n\tthis._valuesStartRepeat = {};\n\tthis._duration = 1000;\n\tthis._repeat = 0;\n\tthis._repeatDelayTime = undefined;\n\tthis._yoyo = false;\n\tthis._isPlaying = false;\n\tthis._reversed = false;\n\tthis._delayTime = 0;\n\tthis._startTime = null;\n\tthis._easingFunction = TWEEN.Easing.Linear.None;\n\tthis._interpolationFunction = TWEEN.Interpolation.Linear;\n\tthis._chainedTweens = [];\n\tthis._onStartCallback = null;\n\tthis._onStartCallbackFired = false;\n\tthis._onUpdateCallback = null;\n\tthis._onRepeatCallback = null;\n\tthis._onCompleteCallback = null;\n\tthis._onStopCallback = null;\n\tthis._group = group || TWEEN;\n\tthis._id = TWEEN.nextId();\n\n};\n\nTWEEN.Tween.prototype = {\n\tgetId: function () {\n\t\treturn this._id;\n\t},\n\n\tisPlaying: function () {\n\t\treturn this._isPlaying;\n\t},\n\n\tto: function (properties, duration) {\n\n\t\tthis._valuesEnd = properties;\n\n\t\tif (duration !== undefined) {\n\t\t\tthis._duration = duration;\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tduration: function duration(d) {\n\t\tthis._duration = d;\n\t\treturn this;\n\t},\n\n\tstart: function (time) {\n\n\t\tthis._group.add(this);\n\n\t\tthis._isPlaying = true;\n\n\t\tthis._onStartCallbackFired = false;\n\n\t\tthis._startTime = time !== undefined ? typeof time === 'string' ? TWEEN.now() + parseFloat(time) : time : TWEEN.now();\n\t\tthis._startTime += this._delayTime;\n\n\t\tfor (var property in this._valuesEnd) {\n\n\t\t\t// Check if an Array was provided as property value\n\t\t\tif (this._valuesEnd[property] instanceof Array) {\n\n\t\t\t\tif (this._valuesEnd[property].length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Create a local copy of the Array with the start value at the front\n\t\t\t\tthis._valuesEnd[property] = [this._object[property]].concat(this._valuesEnd[property]);\n\n\t\t\t}\n\n\t\t\t// If `to()` specifies a property that doesn't exist in the source object,\n\t\t\t// we should not set that property in the object\n\t\t\tif (this._object[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Save the starting value.\n\t\t\tthis._valuesStart[property] = this._object[property];\n\n\t\t\tif ((this._valuesStart[property] instanceof Array) === false) {\n\t\t\t\tthis._valuesStart[property] *= 1.0; // Ensures we're using numbers, not strings\n\t\t\t}\n\n\t\t\tthis._valuesStartRepeat[property] = this._valuesStart[property] || 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif (!this._isPlaying) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis._group.remove(this);\n\t\tthis._isPlaying = false;\n\n\t\tif (this._onStopCallback !== null) {\n\t\t\tthis._onStopCallback(this._object);\n\t\t}\n\n\t\tthis.stopChainedTweens();\n\t\treturn this;\n\n\t},\n\n\tend: function () {\n\n\t\tthis.update(Infinity);\n\t\treturn this;\n\n\t},\n\n\tstopChainedTweens: function () {\n\n\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\tthis._chainedTweens[i].stop();\n\t\t}\n\n\t},\n\n\tgroup: function (group) {\n\t\tthis._group = group;\n\t\treturn this;\n\t},\n\n\tdelay: function (amount) {\n\n\t\tthis._delayTime = amount;\n\t\treturn this;\n\n\t},\n\n\trepeat: function (times) {\n\n\t\tthis._repeat = times;\n\t\treturn this;\n\n\t},\n\n\trepeatDelay: function (amount) {\n\n\t\tthis._repeatDelayTime = amount;\n\t\treturn this;\n\n\t},\n\n\tyoyo: function (yoyo) {\n\n\t\tthis._yoyo = yoyo;\n\t\treturn this;\n\n\t},\n\n\teasing: function (easingFunction) {\n\n\t\tthis._easingFunction = easingFunction;\n\t\treturn this;\n\n\t},\n\n\tinterpolation: function (interpolationFunction) {\n\n\t\tthis._interpolationFunction = interpolationFunction;\n\t\treturn this;\n\n\t},\n\n\tchain: function () {\n\n\t\tthis._chainedTweens = arguments;\n\t\treturn this;\n\n\t},\n\n\tonStart: function (callback) {\n\n\t\tthis._onStartCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonUpdate: function (callback) {\n\n\t\tthis._onUpdateCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonRepeat: function onRepeat(callback) {\n\n\t\tthis._onRepeatCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonComplete: function (callback) {\n\n\t\tthis._onCompleteCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tonStop: function (callback) {\n\n\t\tthis._onStopCallback = callback;\n\t\treturn this;\n\n\t},\n\n\tupdate: function (time) {\n\n\t\tvar property;\n\t\tvar elapsed;\n\t\tvar value;\n\n\t\tif (time < this._startTime) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this._onStartCallbackFired === false) {\n\n\t\t\tif (this._onStartCallback !== null) {\n\t\t\t\tthis._onStartCallback(this._object);\n\t\t\t}\n\n\t\t\tthis._onStartCallbackFired = true;\n\t\t}\n\n\t\telapsed = (time - this._startTime) / this._duration;\n\t\telapsed = (this._duration === 0 || elapsed > 1) ? 1 : elapsed;\n\n\t\tvalue = this._easingFunction(elapsed);\n\n\t\tfor (property in this._valuesEnd) {\n\n\t\t\t// Don't update properties that do not exist in the source object\n\t\t\tif (this._valuesStart[property] === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar start = this._valuesStart[property] || 0;\n\t\t\tvar end = this._valuesEnd[property];\n\n\t\t\tif (end instanceof Array) {\n\n\t\t\t\tthis._object[property] = this._interpolationFunction(end, value);\n\n\t\t\t} else {\n\n\t\t\t\t// Parses relative end values with start as base (e.g.: +10, -3)\n\t\t\t\tif (typeof (end) === 'string') {\n\n\t\t\t\t\tif (end.charAt(0) === '+' || end.charAt(0) === '-') {\n\t\t\t\t\t\tend = start + parseFloat(end);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tend = parseFloat(end);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Protect against non numeric properties.\n\t\t\t\tif (typeof (end) === 'number') {\n\t\t\t\t\tthis._object[property] = start + (end - start) * value;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif (this._onUpdateCallback !== null) {\n\t\t\tthis._onUpdateCallback(this._object, elapsed);\n\t\t}\n\n\t\tif (elapsed === 1) {\n\n\t\t\tif (this._repeat > 0) {\n\n\t\t\t\tif (isFinite(this._repeat)) {\n\t\t\t\t\tthis._repeat--;\n\t\t\t\t}\n\n\t\t\t\t// Reassign starting values, restart by making startTime = now\n\t\t\t\tfor (property in this._valuesStartRepeat) {\n\n\t\t\t\t\tif (typeof (this._valuesEnd[property]) === 'string') {\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesStartRepeat[property] + parseFloat(this._valuesEnd[property]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this._yoyo) {\n\t\t\t\t\t\tvar tmp = this._valuesStartRepeat[property];\n\n\t\t\t\t\t\tthis._valuesStartRepeat[property] = this._valuesEnd[property];\n\t\t\t\t\t\tthis._valuesEnd[property] = tmp;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._valuesStart[property] = this._valuesStartRepeat[property];\n\n\t\t\t\t}\n\n\t\t\t\tif (this._yoyo) {\n\t\t\t\t\tthis._reversed = !this._reversed;\n\t\t\t\t}\n\n\t\t\t\tif (this._repeatDelayTime !== undefined) {\n\t\t\t\t\tthis._startTime = time + this._repeatDelayTime;\n\t\t\t\t} else {\n\t\t\t\t\tthis._startTime = time + this._delayTime;\n\t\t\t\t}\n\n\t\t\t\tif (this._onRepeatCallback !== null) {\n\t\t\t\t\tthis._onRepeatCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\n\t\t\t} else {\n\n\t\t\t\tif (this._onCompleteCallback !== null) {\n\n\t\t\t\t\tthis._onCompleteCallback(this._object);\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, numChainedTweens = this._chainedTweens.length; i < numChainedTweens; i++) {\n\t\t\t\t\t// Make the chained tweens start exactly at the time they should,\n\t\t\t\t\t// even if the `update()` method was called way past the duration of the tween\n\t\t\t\t\tthis._chainedTweens[i].start(this._startTime + this._duration);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n};\n\n\nTWEEN.Easing = {\n\n\tLinear: {\n\n\t\tNone: function (k) {\n\n\t\t\treturn k;\n\n\t\t}\n\n\t},\n\n\tQuadratic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k * (2 - k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * (--k * (k - 2) - 1);\n\n\t\t}\n\n\t},\n\n\tCubic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tQuartic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn 1 - (--k * k * k * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn - 0.5 * ((k -= 2) * k * k * k - 2);\n\n\t\t}\n\n\t},\n\n\tQuintic: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k * k * k * k * k;\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn --k * k * k * k * k + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * k * k * k * k * k;\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * k * k * k + 2);\n\n\t\t}\n\n\t},\n\n\tSinusoidal: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.cos(k * Math.PI / 2);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sin(k * Math.PI / 2);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\treturn 0.5 * (1 - Math.cos(Math.PI * k));\n\n\t\t}\n\n\t},\n\n\tExponential: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn k === 0 ? 0 : Math.pow(1024, k - 1);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn k === 1 ? 1 : 1 - Math.pow(2, - 10 * k);\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * Math.pow(1024, k - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (- Math.pow(2, - 10 * (k - 1)) + 2);\n\n\t\t}\n\n\t},\n\n\tCircular: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - Math.sqrt(1 - k * k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\treturn Math.sqrt(1 - (--k * k));\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn - 0.5 * (Math.sqrt(1 - k * k) - 1);\n\t\t\t}\n\n\t\t\treturn 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n\n\t\t}\n\n\t},\n\n\tElastic: {\n\n\t\tIn: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (k === 1) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tk *= 2;\n\n\t\t\tif (k < 1) {\n\t\t\t\treturn -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n\t\t\t}\n\n\t\t\treturn 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n\n\t\t}\n\n\t},\n\n\tBack: {\n\n\t\tIn: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn k * k * ((s + 1) * k - s);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tvar s = 1.70158;\n\n\t\t\treturn --k * k * ((s + 1) * k + s) + 1;\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tvar s = 1.70158 * 1.525;\n\n\t\t\tif ((k *= 2) < 1) {\n\t\t\t\treturn 0.5 * (k * k * ((s + 1) * k - s));\n\t\t\t}\n\n\t\t\treturn 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n\n\t\t}\n\n\t},\n\n\tBounce: {\n\n\t\tIn: function (k) {\n\n\t\t\treturn 1 - TWEEN.Easing.Bounce.Out(1 - k);\n\n\t\t},\n\n\t\tOut: function (k) {\n\n\t\t\tif (k < (1 / 2.75)) {\n\t\t\t\treturn 7.5625 * k * k;\n\t\t\t} else if (k < (2 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n\t\t\t} else if (k < (2.5 / 2.75)) {\n\t\t\t\treturn 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n\t\t\t} else {\n\t\t\t\treturn 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n\t\t\t}\n\n\t\t},\n\n\t\tInOut: function (k) {\n\n\t\t\tif (k < 0.5) {\n\t\t\t\treturn TWEEN.Easing.Bounce.In(k * 2) * 0.5;\n\t\t\t}\n\n\t\t\treturn TWEEN.Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n\n\t\t}\n\n\t}\n\n};\n\nTWEEN.Interpolation = {\n\n\tLinear: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.Linear;\n\n\t\tif (k < 0) {\n\t\t\treturn fn(v[0], v[1], f);\n\t\t}\n\n\t\tif (k > 1) {\n\t\t\treturn fn(v[m], v[m - 1], m - f);\n\t\t}\n\n\t\treturn fn(v[i], v[i + 1 > m ? m : i + 1], f - i);\n\n\t},\n\n\tBezier: function (v, k) {\n\n\t\tvar b = 0;\n\t\tvar n = v.length - 1;\n\t\tvar pw = Math.pow;\n\t\tvar bn = TWEEN.Interpolation.Utils.Bernstein;\n\n\t\tfor (var i = 0; i <= n; i++) {\n\t\t\tb += pw(1 - k, n - i) * pw(k, i) * v[i] * bn(n, i);\n\t\t}\n\n\t\treturn b;\n\n\t},\n\n\tCatmullRom: function (v, k) {\n\n\t\tvar m = v.length - 1;\n\t\tvar f = m * k;\n\t\tvar i = Math.floor(f);\n\t\tvar fn = TWEEN.Interpolation.Utils.CatmullRom;\n\n\t\tif (v[0] === v[m]) {\n\n\t\t\tif (k < 0) {\n\t\t\t\ti = Math.floor(f = m * (1 + k));\n\t\t\t}\n\n\t\t\treturn fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i);\n\n\t\t} else {\n\n\t\t\tif (k < 0) {\n\t\t\t\treturn v[0] - (fn(v[0], v[0], v[1], v[1], -f) - v[0]);\n\t\t\t}\n\n\t\t\tif (k > 1) {\n\t\t\t\treturn v[m] - (fn(v[m], v[m], v[m - 1], v[m - 1], f - m) - v[m]);\n\t\t\t}\n\n\t\t\treturn fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i);\n\n\t\t}\n\n\t},\n\n\tUtils: {\n\n\t\tLinear: function (p0, p1, t) {\n\n\t\t\treturn (p1 - p0) * t + p0;\n\n\t\t},\n\n\t\tBernstein: function (n, i) {\n\n\t\t\tvar fc = TWEEN.Interpolation.Utils.Factorial;\n\n\t\t\treturn fc(n) / fc(i) / fc(n - i);\n\n\t\t},\n\n\t\tFactorial: (function () {\n\n\t\t\tvar a = [1];\n\n\t\t\treturn function (n) {\n\n\t\t\t\tvar s = 1;\n\n\t\t\t\tif (a[n]) {\n\t\t\t\t\treturn a[n];\n\t\t\t\t}\n\n\t\t\t\tfor (var i = n; i > 1; i--) {\n\t\t\t\t\ts *= i;\n\t\t\t\t}\n\n\t\t\t\ta[n] = s;\n\t\t\t\treturn s;\n\n\t\t\t};\n\n\t\t})(),\n\n\t\tCatmullRom: function (p0, p1, p2, p3, t) {\n\n\t\t\tvar v0 = (p2 - p0) * 0.5;\n\t\t\tvar v1 = (p3 - p1) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\n\t\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (- 3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n\t\t}\n\n\t}\n\n};\n\n// UMD (Universal Module Definition)\n(function (root) {\n\n\tif (typeof define === 'function' && define.amd) {\n\n\t\t// AMD\n\t\tdefine([], function () {\n\t\t\treturn TWEEN;\n\t\t});\n\n\t} else if (typeof module !== 'undefined' && typeof exports === 'object') {\n\n\t\t// Node.js\n\t\tmodule.exports = TWEEN;\n\n\t} else if (root !== undefined) {\n\n\t\t// Global variable\n\t\troot.TWEEN = TWEEN;\n\n\t}\n\n})(this);\n","import Hammer from 'hammerjs'\nimport { View, ViewStyle } from './View'\nexport interface ButtonStyle extends ViewStyle {\n  textAlign?: 'left' | 'center' | 'right'\n  fontFamily?: string\n  fontSize?: string | number\n  color?: string\n}\n\nexport class Button extends View {\n  private _beforeDisabledStyle!: ButtonStyle\n  // 禁止状态下的样式\n  private _disabled!: ButtonStyle\n  private _beforePressedStyle!: ButtonStyle\n  // 按下态的样式\n  private _pressedStyle!: ButtonStyle\n\n  constructor() {\n    super()\n    this.defaultStyle()\n    this.init()\n  }\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-button')\n  }\n\n  private init() {\n    const hammer = new Hammer(this.node)\n    const pressEvent = () => {\n      if (!this.enabled) return\n      if (this.pressed) {\n        // 记录press之前的样式\n        this._beforePressedStyle = Object.keys(this.pressed).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforePressedStyle', this._beforePressedStyle)\n        // 设置pressed样式\n        this.style = this.pressed\n      }\n    }\n    const pressUpEvent = () => {\n      if (!this.enabled) return\n      if (this._beforePressedStyle) {\n        // 恢复pressed之前的样式\n        this.style = this._beforePressedStyle\n        console.warn('reset _beforePressedStyle', this._beforePressedStyle)\n      }\n      // Todo: 事件中断处理？可以通过代理全局对象进行代理来做样式兜底\n    }\n    hammer.on('press', pressEvent)\n    hammer.on('pressup', pressUpEvent)\n  }\n\n  protected createNode() {\n    this.node = document.createElement('button')\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(text: string) {\n    this.node.innerText = text\n  }\n\n  get enabled() {\n    return this._enabled\n  }\n\n  set enabled(_enabled: boolean) {\n    this._enabled = _enabled\n    if (!_enabled) {\n      // Todo: 原生标签的属性 disabled 的值是 ‘disabled’\n      this.node.disabled = true\n      // 设置disabled样式\n      if (this.disabled) {\n        // 记录之前的原始的样式\n        this._beforeDisabledStyle = Object.keys(this.disabled).reduce(\n          (pre, curr) => {\n            // @ts-ignore\n            pre[curr] = this.style[curr]\n            return pre\n          },\n          {}\n        )\n        // console.warn('record _beforeDisabledStyle', this._beforeDisabledStyle)\n        // 设置样式\n        this.style = this.disabled\n      }\n    } else {\n      this.node.disabled = false\n      // 恢复disabled之前的样式\n      if (this._beforeDisabledStyle) {\n        this.style = this._beforeDisabledStyle\n        // console.warn('reset _beforeDisabledStyle', this._beforeDisabledStyle)\n      }\n    }\n  }\n\n  get disabled() {\n    return this._disabled\n  }\n\n  set disabled(value: ButtonStyle) {\n    // console.log('_disabled style', value)\n    // 设置样式\n    this._disabled = value\n    // 触发enabled的修改，更新样式s\n    this.enabled = this._enabled\n  }\n\n  get pressed() {\n    return this._pressedStyle\n  }\n\n  set pressed(value: ButtonStyle) {\n    this._pressedStyle = value\n  }\n}\n","import { View, ViewStyle } from './View'\nimport { formatPureNumberPxUnit, formatUnit } from '../../common/utils'\nexport interface CanvasStyle extends ViewStyle { }\n\nexport class CanvasView extends View {\n    protected _style: CanvasStyle\n    private ctx: any\n    private textFillStyle: string = '#000000'\n    private fillStyle: string = '#000000'\n    private resolution!: number\n    constructor() {\n        super()\n        this._style = new Proxy(this._style, {\n            get: (target, key) => {\n                // 获取style\n                return target[key] || this.node.style[key]\n            },\n            set: (target, key, value) => {\n                // 设置style\n                // @ts-ignore\n                target[key] = value\n                switch (key) {\n                    case 'width':\n                        this.node.style[key] = formatUnit(value)\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.width = formatPureNumberPxUnit(value) * this.resolution\n                        break\n                    case 'height':\n                        this.node.style[key] = formatUnit(value)\n                        if (value.indexOf('%') !== -1) {\n                            console.error('canvas宽高不支持设置百分比')\n                        }\n                        this.node.height = formatPureNumberPxUnit(value) * this.resolution\n                        break\n                    default:\n                        this.node.style[key] = formatUnit(value)\n                }\n                return true\n            }\n        })\n    }\n    get style() {\n        return this._style\n    }\n\n    set style(_style: CanvasStyle) {\n        this._style = Object.assign(this._style, _style)\n    }\n    protected createNode() {\n        this.node = document.createElement('canvas')\n        this.resolution = window.devicePixelRatio\n        this.ctx = this.node.getContext('2d');\n    }\n    /**\n    * 设置stroke的线粗细\n    * @param widthValue 粗细值，支持px，hm 单位， 如果不写单位就是dp\n    */\n    lineWidth(widthValue) {\n        this.ctx.lineWidth = formatPureNumberPxUnit(widthValue)\n    }\n    /**\n     * 设置线头样式\n     * @param value 0 : LineCapButt, ， 1:LineCapRound   2:LineCapSquare\n     */\n    lineCap(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'butt'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'square'\n                break;\n            default:\n                this.ctx.lineCap = 'butt'\n                break;\n        }\n    }\n    /**\n     * 设置折线折点样式\n     * @param value 0 : LineJoinMiter, ， 1: LineJoinRound  2:LineJoinBevel\n     */\n    lineJoin(value) {\n        switch (value) {\n            case 0:\n                this.ctx.lineCap = 'miter'\n                break;\n            case 1:\n                this.ctx.lineCap = 'round'\n                break;\n            case 2:\n                this.ctx.lineCap = 'bevel'\n                break;\n            default:\n                this.ctx.lineCap = 'miter'\n                break;\n        }\n    }\n    /**\n     * 设置stroke的线颜色\n     * @param colorHex 色值\n     */\n    lineColor(colorHex) {\n        this.ctx.strokeStyle = colorHex\n    }\n    /**\n     * 根据入参，在起始点与终点之间画一条线段\n     * @param fromX 起点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param fromY 起点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toX 终点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param toY 终点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawLine(fromX, fromY, toX, toY) {\n        this.ctx.beginPath()\n        this.ctx.moveTo(formatPureNumberPxUnit(fromX) * this.resolution, formatPureNumberPxUnit(fromY) * this.resolution)\n        this.ctx.lineTo(formatPureNumberPxUnit(toX) * this.resolution, formatPureNumberPxUnit(toY) * this.resolution)\n        this.ctx.stroke()\n    }\n    /**\n     * 画矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.ctx.strokeRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 画椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        this.ctx.beginPath()\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.ctx.stroke()\n    }\n    /**\n     * 画圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param radius 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    strokeCircle(x, y, radius) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, 0, 2 * Math.PI);\n        this.ctx.stroke();\n        this.ctx.closePath();\n    }\n    /**\n     * 画弧形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     * @param startAngle 起始弧度 ， \n     * @param endAngle 结束弧度 ，\n     * @param clockwise ture 顺时针 ， false 逆时针\n     */\n    arc(x, y, radius, startAngle, endAngle, clockwise) {\n        this.ctx.beginPath()\n        this.ctx.arc(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(radius) * this.resolution, startAngle, endAngle, clockwise);\n        this.ctx.stroke();\n    }\n    /**\n     * 设置填充颜色\n     * @param colorHex 颜色16进制\n     */\n    fillColor(colorHex) {\n        this.fillStyle = colorHex\n        this.ctx.fillStyle = this.fillStyle\n        // this.ctx.fill();\n    }\n    /**\n     * 填充矩形\n     * @param x 矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param w 矩形宽，支持px，hm 单位， 如果不写单位就是dp\n     * @param h 矩形高，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillRect(x, y, w, h) {\n        this.ctx.beginPath()\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fillRect(formatPureNumberPxUnit(x) * this.resolution, formatPureNumberPxUnit(y) * this.resolution, formatPureNumberPxUnit(w) * this.resolution, formatPureNumberPxUnit(h) * this.resolution)\n    }\n    /**\n     * 填充椭圆\n     * @param x 椭圆所在矩形左上角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 椭圆所在矩形左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailX 椭圆所在矩形右下角坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param trailY 椭圆所在矩形右下角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillEllipse(x, y, trailX, trailY) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        trailX = formatPureNumberPxUnit(trailX)\n        trailY = formatPureNumberPxUnit(trailY)\n        let centerX = x + (trailX - x) / 2\n        let centerY = y + (trailY - y) / 2\n        let radiusX = (trailX - x) / 2\n        let radiusY = (trailY - y) / 2\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.ellipse(centerX * this.resolution, centerY * this.resolution, radiusX * this.resolution, radiusY * this.resolution, 0, 0, 2 * Math.PI)\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke()\n        this.lineColor(lineColor)\n    }\n    /**\n     * 填充圆形\n     * @param x 圆心坐标点的x值，支持px，hm 单位， 如果不写单位就是dp\n     * @param y 圆心坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param raduis 半径 ， 支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillCircle(x, y, radius) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        radius = formatPureNumberPxUnit(radius)\n        console.log(x, y, radius)\n        let lineColor = this.ctx.strokeStyle\n        this.ctx.beginPath()\n        this.lineColor('rgba(0,0,0,0)')\n        this.ctx.arc(x * this.resolution, y * this.resolution, radius * this.resolution, 0, 2 * Math.PI);\n        this.fillColor(this.fillStyle || '#000000')\n        this.ctx.fill();\n        this.ctx.stroke();\n        this.ctx.closePath();\n        this.lineColor(lineColor)\n    }\n    /**\n     * 设置绘制文本字号\n     * @param size 字号大小\n     */\n    fontSize(size) {\n        this.ctx.font = `${size * this.resolution}px sans-serif`\n    }\n    /**\n     * 设置绘制文本颜色\n     * @param colorHex 字号色值\n     */\n    textColor(colorHex) {\n        this.textFillStyle = colorHex\n    }\n    /**\n     * 绘制文字\n     * @param text 文案\n     * @param x 文本左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 文本左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param maxWidth 文本换行的最大宽度, 0 代表不换行,支持px，hm 单位， 如果不写单位就是dp\n     */\n    fillText(text, x, y, maxWidth) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        maxWidth = formatPureNumberPxUnit(maxWidth)\n        this.ctx.beginPath()\n        this.ctx.textBaseline = \"top\"\n        this.ctx.fillStyle = this.textFillStyle\n        this.ctx.fillText(text, x * this.resolution, y * this.resolution, maxWidth * this.resolution)\n    }\n    /**\n     * 绘制图片\n     * @param src 图片资源链接,远程url或本地图片名\n     * @param x 图片左上角坐标x值 , 支持px，hm 单位， 如果不写单位就是dp\n     * @param y 图片左上角坐标点的y值，支持px，hm 单位， 如果不写单位就是dp\n     * @param width 图片宽 ,支持px，hm 单位， 如果不写单位就是dp\n     * @param height 图片高 ,支持px，hm 单位， 如果不写单位就是dp\n     */\n    drawImage(src, x, y, width, height) {\n        x = formatPureNumberPxUnit(x)\n        y = formatPureNumberPxUnit(y)\n        width = formatPureNumberPxUnit(width)\n        height = formatPureNumberPxUnit(height)\n        var img = new Image();\n        img.src = src;\n        img.onload = () => {\n            this.ctx.beginPath()\n            this.ctx.drawImage(img, x * this.resolution, y * this.resolution, width * this.resolution, height * this.resolution)\n        }\n    }\n}\n","import { View, ViewStyle } from './View'\n\nexport interface CarouselStyle extends ViewStyle {}\n\nexport class Carousel extends View {\n  protected _style: CarouselStyle\n  addRegionChangedListener: Function\n\n  constructor() {\n    super()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n  onPageChange(callback) {\n    callback()\n  }\n\n  onItemClick(callback) {\n    callback()\n  }\n  onItemView(callback) {\n    callback()\n  }\n}\n","import { View, ViewStyle } from './View'\nimport BScroll from 'better-scroll'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\nimport { formatUnit } from '../../common/utils'\nexport class HorizontalScroller extends View {\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  protected _style: ViewStyle\n  // @ts-ignore\n  private bscroll: BScroll\n  private wrapper: Element\n  constructor() {\n    super()\n    this.wrapper = document.createElement('span');\n    this.wrapper.classList.add('hm-default-horizontal')\n    this.node.appendChild(this.wrapper)\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n    nodeObserver(this.node, () => {\n      this.bscroll && this.bscroll.refresh();\n    })\n  }\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-horizontal')\n  }\n\n  onMounted() {\n    this.refresh()\n  }\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n  appendChild(subview: any) {\n    this.wrapper.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  removeChild(subview: any) {\n    this.wrapper.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: true,\n        scrollY: false,\n        pullUpLoad: false,\n        pullDownRefresh: false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'vertical',\n      })\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.x >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x <= this.bscroll.maxScrollX) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.x > this.bscroll.maxScrollX && e.x < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = 0\n        ev.offsetX = -e.x\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = 0\n        oldOffsetX = -e.x\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(this.bscroll.maxScrollX, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n}\n","export class ImagePicker {\n  // @ts-ignore\n  public maxSize: 100;\n  takePhoto(filePath: string):void {}\n  pickImage(filePath: string):void {}\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\n// import { Hummer } from '../../base/Global'\nimport { formatUnit } from '../../common/utils'\nimport { nodeObserver } from '../../common/utils'\nexport interface ListStyle extends ViewStyle {\n  mode?: 'list' | 'grid' | 'waterfall'\n  scrollDirection?: 'vertical' | 'horizontal'\n  column?: number\n  lineSpacing?: number | string\n  itemSpacing?: number | string\n  leftSpacing?: number | string\n  rightSpacing?: number | string\n  topSpacing?: number | string\n  bottomSpacing?: number | string\n  bounces?: boolean,\n}\n\nexport class List extends View {\n  refreshView!: View\n  loadMoreView!: View\n  showScrollBar: boolean = false // 滑动时是否显示滚动条\n  bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ListStyle\n  protected mode: 'list' | 'grid' | 'waterfall' = 'list'\n  private rowCount: number = 0\n  private _listRows: View[] = []\n  private _gridRows: View[] = []\n  private _waterfalls: View[] = []\n\n  private wrapper: View\n  private recyclerView: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-list-content')\n    this.appendChild(this.wrapper)\n    this.recyclerView = new View()\n    this.wrapper.appendChild(this.recyclerView)\n    this.node.classList.add('hm-list')\n    this.node.classList.add('vertical')\n    this.node.classList.add('hm-list-wrapper')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'mode':\n            this.mode = value\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'scrollDirection':\n            if (value === 'vertical') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.add(value)\n            } else if (value === 'horizontal') {\n              this.node.classList.remove('horizontal')\n              this.node.classList.remove('vertical')\n            }\n            break\n          case 'column':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'lineSpacing':\n            this.recyclerView?.node?.childNodes?.forEach((element: Element, index: Number) => {\n              if (this.style.scrollDirection === 'horizontal') {\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginLeft = formatUnit(value)\n                }\n              } else {\n                // 竖向滚动\n                if (value && index > 0) {\n                  // @ts-ignore\n                  element.style.marginTop = formatUnit(value)\n                }\n              }\n            });\n            break\n          case 'itemSpacing':\n            this.bscroll && this.refresh(this.rowCount)\n            break\n          case 'bounces':\n            if (this.bscroll) {\n              this.bscroll.destroy()\n              this.bscroll = null\n              this.refresh(this.rowCount)\n            }\n            break\n          case 'leftSpacing':\n            this.recyclerView.style['paddingLeft'] = formatUnit(value)\n            break\n          case 'rightSpacing':\n            this.recyclerView.style['paddingRight'] = formatUnit(value)\n            break\n          case 'topSpacing':\n            this.recyclerView.style['paddingTop'] = formatUnit(value)\n            break\n          case 'bottomSpacing':\n            this.recyclerView.style['paddingBottom'] = formatUnit(value)\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n    nodeObserver(this.wrapper.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        if (this.mode === 'waterfall' && this.recyclerView.node.offsetHeight) {\n          this.computeElement()\n        }\n        this.bscroll.refresh()\n      }\n    })\n  }\n\n  onDestoryed() {\n    this.bscroll.destroy()\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-list')\n  }\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n  /**\n   * @ignore\n   */\n  onCreate!: (type: number) => View\n  /**\n   * @not support\n   */\n  onUpdate!: (position: number, cell: View) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ListStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  refresh(count: number) {\n    switch (this.mode) {\n      case 'grid':\n        this.refreshGridView(count)\n        break\n      case 'waterfall':\n        this.refreshWaterfallView(count)\n        break\n      case 'list':\n      default:\n        this.refreshListView(count)\n        break\n    }\n    this.rowCount = count\n  }\n\n  /**\n   * 滚动到指定位置\n   * @param position 要滚动到的位置\n   */\n  scrollToPosition(position: number) {\n    if (this.bscroll) {\n      if (this.mode == 'list') {\n        const view = this._listRows[position]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'grid') {\n        // 计算行\n        const row = Math.floor(position / (this.style.column as any))\n        const view = this._gridRows[row]\n        view && this.bscroll.scrollToElement(view.node)\n      } else if (this.mode == 'waterfall') {\n        const view = this._waterfalls[position]\n        view && this.bscroll.scrollToElement(view.node)\n      }\n    }\n  }\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定位置\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 结束下拉刷新\n   */\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll.finishPullUp()\n    this.loadMoreView.style = {\n      position: 'static',\n      transform: 'none',\n    }\n    this.bscroll && this.bscroll.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll.refresh()\n  }\n\n  /**\n   * 设置上拉加载控件\n   * @param enable 下次能否继续触发加载更多\n   */\n  stopLoadMore(enable?: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.loadMoreView.style = {\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          transform: 'translateY(100%) translateZ(0)',\n          width: '100%',\n        }\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   */\n  private refreshListView(count: number) {\n    // 添加data row\n    let types = []\n    if ((count - this.rowCount) >= 0) {\n      types = Array.from(new Array(Math.abs(count - this.rowCount))).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    } else {\n      this._listRows = []\n      this.wrapper.removeChild(this.recyclerView)\n      this.recyclerView.removeAll()\n      this.loadMoreView ? this.wrapper.insertBefore(this.recyclerView, this.loadMoreView) : this.wrapper.appendChild(this.recyclerView);\n      types = Array.from(new Array(count)).map((value, index) => {\n        if (this.onRegister) {\n          return this.onRegister(index)\n        } else {\n          return 1;\n        }\n      })\n    }\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate((count - this.rowCount) >= 0 ? (index + this.rowCount) : index, cell)\n      const row = new View()\n      if (this.style.lineSpacing) {\n        if (index > 0) {\n          if (this.style.scrollDirection === 'horizontal') {\n            row.node.style.marginLeft = formatUnit(this.style.lineSpacing)\n          } else {\n            row.node.style.marginTop = formatUnit(this.style.lineSpacing)\n          }\n        }\n      }\n      //如果是水平滚动\n      if (this.style.scrollDirection === 'horizontal') {\n        this.recyclerView.node.classList.add('horizontal')\n        this.wrapper.node.classList.add('hm-list-content-horizontal')\n        this.node.style.width = '100%'\n      }\n      row.appendChild(cell)\n      this.recyclerView.appendChild(row)\n      this._listRows.push(row)\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * hm-list\n   *   hm-list-row\n   *     hm-list-cell\n   * @param {number} count\n   */\n  private refreshGridView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    this._gridRows = [];\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-grid')\n      col.style.width = `calc(${100 / column}% - ${parseFloat(formatUnit(this.style.itemSpacing || 0)) * (column - 1) / column}px)`;\n      col.appendChild(cell)\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        if (this.style.lineSpacing && index > 0) {\n          row.style.marginTop = `${this.style.lineSpacing}`\n        }\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n\n  /**\n   * 瀑布流布局\n   */\n  private refreshWaterfallView(count: number) {\n    this.wrapper.removeAll()\n    this.recyclerView.removeAll()\n    this.wrapper.appendChild(this.recyclerView)\n    this._waterfalls = []\n    this._gridRows = []\n    let types = Array.from(new Array(count)).map((value, index) => {\n      if (this.onRegister) {\n        return this.onRegister(index)\n      } else {\n        return 1;\n      }\n    })\n    const column = this.style.column || 2\n    // 添加data row\n    types.forEach((type, index) => {\n      const cell: View = this.onCreate(type)\n      this.onUpdate(index, cell)\n\n      const col = new View()\n      col.node.classList.add('hm-list-column')\n      col.node.classList.add('hm-list-column-waterfall')\n      col.appendChild(cell)\n\n      this._waterfalls.push(cell)\n\n      cell.node.classList.add('cell')\n\n      // @ts-ignore\n      let row: View = null\n      if (index % column === 0) {\n        row = new View()\n        row.node.classList.add('hm-list-row')\n        this._gridRows.push(row)\n        row.appendChild(col)\n        this.recyclerView.appendChild(row)\n      } else {\n        row = this._gridRows[Math.floor(index / column)]\n        if (this.style.itemSpacing) {\n          console.log(this.style.itemSpacing)\n          col.style.marginLeft = formatUnit(this.style.itemSpacing)\n        }\n        row.appendChild(col)\n      }\n    })\n    this.bscrollInit()\n  }\n  // 计算绘制瀑布流\n  computeElement() {\n    const cols = document.getElementsByClassName('hm-list-column-waterfall')\n    // @ts-ignore\n    const parentOffsetTop = cols[0].parentElement.getBoundingClientRect().top\n    // @ts-ignore\n    const parentOffsetLeft = cols[0].parentElement.getBoundingClientRect()\n      .left\n\n    const column = this.style.column || 2\n    let colsArr = new Array(column)\n    const posArr = []\n    for (let index = 0; index < cols.length; index++) {\n      let top = 0\n      const offset = cols[index].getBoundingClientRect()\n      let marginTop = this.style.lineSpacing\n        ? +formatUnit(this.style.lineSpacing).replace('px', '')\n        : 0\n      const height = cols[index].children[0].clientHeight + marginTop\n      let minIndex = 0\n      if (index < column) {\n        colsArr[index] = height\n        top = offset.top - parentOffsetTop\n        minIndex = index % column\n      } else {\n        const min = Math.min.apply(null, colsArr)\n        top = min\n        minIndex = colsArr.indexOf(min)\n        colsArr[minIndex] += height\n      }\n      const width = cols[minIndex].getBoundingClientRect().width\n      posArr.push({\n        left: cols[minIndex].getBoundingClientRect().left - parentOffsetLeft,\n        top: top,\n        width: width\n      })\n    }\n    for (let index = 0; index < cols.length; index++) {\n      // @ts-ignore\n      cols[index]['style'].position = 'absolute'\n      // @ts-ignore\n      cols[index]['style'].top = posArr[index]['top'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].left = posArr[index]['left'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].width = posArr[index]['width'] + 'px'\n      // @ts-ignore\n      cols[index]['style'].marginLeft = '0px'\n      // @ts-ignore\n      // cols[index].parentNode['style'].position = 'static'\n      index > column && (cols[index].parentNode['style'].marginTop = (-Math.max.apply(null, colsArr)) + 'px')\n      // @ts-ignore\n      cols[index].parentNode['style'].height =\n        Math.max.apply(null, colsArr) + 'px'\n    }\n    // @ts-ignore\n    // cols[0].parentElement.parentElement.style.height =\n    //   Math.max.apply(null, colsArr) + 'px'\n    // @ts-ignore\n    cols[0].parentElement.parentElement.style.width = '100%'\n    // this.bscroll.refresh()\n  }\n  private bscrollInit() {\n    // 添加refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // 添加 loadmore view\n    if (this.loadMoreView) {\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this.bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: this.style.scrollDirection === 'horizontal',\n        scrollY: this.style.scrollDirection !== 'horizontal',\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: this.style.scrollDirection === 'horizontal' ? 'vertical' : 'horizontal',\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y < this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n\n  }\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n}\n","import BScroll from 'better-scroll'\nimport { View, ViewStyle } from './View'\nimport { ScrollEvent, ScrollState } from '../event/ScrollEvent'\nimport { EventListener } from '../event/Event'\nimport { nodeObserver } from '../../common/utils'\nimport { formatUnit } from '../../common/utils'\n\nexport class Scroller extends View {\n\n  refreshView!: View\n  loadMoreView!: View\n  _showScrollBar: boolean = false // 滑动时是否显示滚动条\n  _bounces: boolean = true // 滑动到 边缘时是否有回弹效果\n  isMoreData: boolean = true\n  protected _style: ViewStyle\n\n  config = {\n    // 页面元素监听配置\n    attributes: true,\n    childList: true,\n    characterData: true,\n    subtree: true,\n  }\n  observer: ResizeObserver\n  private wrapper: View\n  // @ts-ignore\n  private bscroll: BScroll\n\n\n  constructor() {\n    super()\n    this.wrapper = new View()\n    this.wrapper.node.classList.add('hm-list-content')\n    this.node.appendChild(this.wrapper.node)\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        // this.node.style[key] = value\n        switch (key) {\n          default:\n            this.node.style[key] = formatUnit(value)\n        }\n        return true\n      }\n    })\n    // 监听元素是否渲染\n    nodeObserver(this.node, () => {\n      this.refreshView && (this.refreshView.style = {\n        position: 'absolute',\n        transform: 'translateY(-100%) translateZ(0)',\n        width: '100%',\n      })\n      if (this.bscroll) {\n        this.refreshView && this.bscroll.openPullDown({\n          stop: this.refreshView.node.offsetHeight\n        });\n        this.bscroll.refresh()\n      }\n    })\n  }\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get showScrollBar() {\n    return this._showScrollBar\n  }\n\n  set showScrollBar(value: boolean) {\n    this._showScrollBar = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n\n  get bounces() {\n    return this._bounces\n  }\n\n  set bounces(value: boolean) {\n    this._bounces = value\n    if (this.bscroll) {\n      this.bscroll.destroy()\n      this.bscroll = null\n      this.refresh()\n    }\n  }\n  onMounted() {\n    this.refresh()\n  }\n  onDestoryed(){\n    this.bscroll.destroy()\n  }\n\n  appendChild(subview: any) {\n    this.wrapper.node.appendChild(subview.node)\n    subview._onMounted();\n    this.bscroll && this.bscroll.refresh()\n  }\n  removeChild(subview: any) {\n    this.wrapper.node.removeChild(subview.node)\n    this.bscroll && this.bscroll.refresh()\n  }\n  insertBefore(subview: any, existingView: View) {\n    this.wrapper.node.insertBefore(subview.node, existingView.node)\n    subview._onMounted();\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-vertical')\n  }\n\n  refresh() {\n    this.refreshListView()\n  }\n\n  /**\n   *  init hm-list-row\n   */\n  private refreshListView() {\n    // this.wrapper.removeAll();\n    // add refresh view\n    if (this.refreshView) {\n      this.wrapper.node.insertBefore(this.refreshView.node, this.wrapper.node.children[0])\n    }\n    // add loadmore view\n    if (this.loadMoreView) {\n      this.wrapper.node.appendChild(this.loadMoreView.node)\n    }\n\n    if (!this.bscroll) {\n      this.bscroll = new BScroll(this.node, {\n        bounce: this._bounces,\n        stopPropagation: true,\n        disableMouse: false,\n        disableTouch: false,\n        scrollX: false,\n        scrollY: true,\n        pullUpLoad: this.loadMoreView ? true : false,\n        pullDownRefresh: this.refreshView ? true : false,\n        click: true,\n        dblclick: true,\n        scrollbar: this._showScrollBar,\n        tap: 'tap',\n        probeType: 3,\n        eventPassthrough: 'horizontal',\n      })\n      // 上拉加载更多\n      if (this.loadMoreView) {\n        this.bscroll.on('pullingUp', () => {\n          if (!this.isMoreData) {\n            return;\n          }\n          this.onLoadMore(1)\n        })\n      }\n      // 下拉刷新\n      if (this.refreshView) {\n        let pullflag = 'none'\n        this.bscroll.on('pullingDown', () => {\n          this.onRefresh && this.onRefresh(2)\n        })\n        this.bscroll.on('leaveThreshold', () => {\n          this.onRefresh && this.onRefresh(3)\n        })\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y > 0 && e.y<this.bscroll?.plugins?.pullDownRefresh?.options?.threshold) {\n            if (pullflag === 'none') {\n              this.onRefresh && this.onRefresh(1)\n            }\n            pullflag = 'center'\n          } else if (e.y <= 0 ) {\n            pullflag = 'none'\n          }\n        })\n      }\n\n      // 判断是否要注册bs-scroll事件\n      if (\n        this.listeners['scroll'] &&\n        this.listeners['scroll'].length > 0 &&\n        !this.eventListeners['scroll']\n      ) {\n        this.registerBsScrollEvent()\n      }\n      if ((this.listeners['scrollToTop'] && this.listeners['scrollToTop'].length > 0) ||\n        (this.listeners['scrollToBottom'] && this.listeners['scrollToBottom'].length > 0)) {\n        let direction = 'none'\n        this.bscroll.on('scroll', (e: any) => {\n          if (e.y >= 0) {\n            if (direction === 'none') {\n              this.listeners['scrollToTop'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y <= this.bscroll.maxScrollY) {\n            if (direction === 'none') {\n              this.listeners['scrollToBottom'].forEach(listener => listener())\n            }\n            direction = 'center'\n          } else if (e.y > this.bscroll.maxScrollY && e.y < 0) {\n            direction = 'none'\n          }\n        })\n      }\n    } else {\n      this.bscroll.refresh();\n    }\n  }\n\n\n  private registerBsScrollEvent() {\n    if (this.bscroll) {\n      // 如果存在better-scroll对象\n      const scrollStart = () => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.BEGAN\n        ev.timestamp = `${Date.now()}`\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      let oldOffsetY = 0, oldOffsetX = 0;\n      const scroll = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n      const scrollEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.ENDED\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      const touchEnd = (e: any) => {\n        const ev = new ScrollEvent()\n        ev.target = this\n        ev.state = ScrollState.SCROLL_UP\n        ev.timestamp = `${Date.now()}`\n        ev.offsetY = -e.y\n        ev.offsetX = 0\n        ev.dx = ev.offsetX - oldOffsetX\n        ev.dy = ev.offsetY - oldOffsetY\n        oldOffsetY = -e.y\n        oldOffsetX = 0\n        this.listeners['scroll'].forEach(listener => listener(ev))\n      }\n\n      this.bscroll.on('touchEnd', touchEnd)\n      this.bscroll.on('scrollStart', scrollStart)\n      this.bscroll.on('scroll', scroll)\n      this.bscroll.on('scrollEnd', scrollEnd)\n      this.eventListeners['scroll'] = { scrollStart, scroll, scrollEnd, touchEnd }\n    }\n  }\n\n\n  addEventListener(key: 'scroll', listener: EventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    this.listeners[key].push(listener)\n    // 注册better-scroll事件监听\n    if (!this.eventListeners[key]) {\n      // 如果没有监听scroll事件\n      this.registerBsScrollEvent()\n    }\n  }\n\n  removeEventListener(key: 'scroll', listener: EventListener) {\n    if (this.listeners[key]) {\n      // 将事件从事件队列中删除\n      this.listeners[key] = this.listeners[key].filter(\n        _listener => _listener !== listener\n      )\n      // 如果事件队列为空，取消事件监听\n      if (this.listeners[key].length === 0) {\n        if (this.eventListeners[key]) {\n          const { scrollStart, scroll, scrollEnd } = this.eventListeners[key]\n          this.bscroll.off('scrollStart', scrollStart)\n          this.bscroll.off('scroll', scroll)\n          this.bscroll.off('scrollEnd', scrollEnd)\n          // @ts-ignore\n          this.eventListeners[key] = null\n        }\n      }\n    }\n  }\n\n\n  /**\n   * @not support\n   */\n  onRegister!: (position: number) => number\n\n  /**\n   * 滚动到坐标\n   */\n  scrollTo(x: number, y: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(-x, -y, 300)\n    }\n  }\n\n  /**\n   * 滚动一定距离\n   */\n  scrollBy(dx: number, dy: number) {\n    if (this.bscroll) {\n      this.bscroll.scrollBy(dx, dy, 300)\n    }\n  }\n\n  /**\n   * 滚动到顶部\n   */\n  scrollToTop() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, 0, 300)\n    }\n  }\n\n  /**\n   * 滚动到底部\n   */\n  scrollToBottom() {\n    if (this.bscroll) {\n      this.bscroll.scrollTo(0, this.bscroll.maxScrollY, 300)\n    }\n  }\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(即将刷新) 2(正在刷新)\n   */\n  onRefresh!: (state: 0 | 1 | 2 | 3) => void\n\n  /**\n   * 下拉刷新时触发的回调\n   * 0(正常状态) 1(正在刷新) 2(无数据)\n   */\n  onLoadMore!: (state: 0 | 1 | 2) => void\n\n  /**\n   * 滚动到顶部事件监听\n   */\n  setOnScrollToTopListener(callback: EventListener) {\n    if (!this.listeners['scrollToTop']) {\n      this.listeners['scrollToTop'] = []\n    }\n    this.listeners['scrollToTop'].push(callback)\n  }\n\n  /**\n   * 滚动到底部事件监听\n   */\n  setOnScrollToBottomListener(callback: EventListener) {\n    if (!this.listeners['scrollToBottom']) {\n      this.listeners['scrollToBottom'] = []\n    }\n    this.listeners['scrollToBottom'].push(callback)\n  }\n\n  /**\n   * 更新滚动视图大小（iOS独有方法）\n   */\n  updateContentSize() {\n    if (this.bscroll) {\n      this.bscroll.refresh()\n    }\n  }\n  stopPullRefresh() {\n    this.isMoreData = true\n    this.bscroll.finishPullUp()\n    this.loadMoreView.style = {\n      position: 'static',\n      transform: 'none',\n    }\n    this.bscroll && this.bscroll.finishPullDown()\n    this.onRefresh && this.onRefresh(0)\n    this.bscroll && this.bscroll.refresh()\n  }\n  stopLoadMore(enable: boolean) {\n    if (this.bscroll) {\n      if (!enable) {\n        this.isMoreData = false\n        this.loadMoreView.style = {\n          position: 'absolute',\n          bottom: 0,\n          transform: 'translateY(100%) translateZ(0)',\n          width: '100%',\n        }\n        this.bscroll.finishPullUp()\n      } else {\n        this.bscroll.finishPullUp()\n      }\n      this.onLoadMore && this.onLoadMore(enable ? 0 : 2)\n      this.bscroll.refresh()\n    }\n  }\n}\n\n","import { View, ViewStyle } from './View'\nimport { SwitchEvent, SwitchEventListener } from '../event/SwitchEvent'\nimport { formatUnit } from '../../common/utils'\n\nexport interface SwitchStyle extends ViewStyle {\n  onColor?: string\n  offColor?: string\n  thumbColor?: string\n}\n\nexport class Switch extends View {\n  private switchBtn!: HTMLElement\n  private circle!: HTMLElement\n  private addChangeEvent!: Function\n  public disabled!: boolean\n  protected _style: SwitchStyle\n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        switch (key) {\n          case 'onColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(19, 206, 102)'\n            break\n          case 'offColor':\n            // @ts-ignore\n            target[key] = target[key] || 'rgb(255, 73, 73)'\n            break\n          case 'thumbColor':\n            // @ts-ignore\n            target[key] = target[key] || '#fff'\n            break\n        }\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'onColor':\n            if (this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'offColor':\n            if (!this.checked) {\n              this.switchBtn.style.borderColor = value\n              this.switchBtn.style.backgroundColor = value\n            }\n            break\n          case 'thumbColor':\n            this.circle.style.backgroundColor = value\n            break\n          case 'height':\n            this.switchBtn.style[key] = formatUnit(value)\n            this.circle.style['height'] = formatUnit(value)\n            this.circle.style['width'] = formatUnit(value)\n            this.switchBtn.style['borderRadius'] = formatUnit(value)\n            break\n          case 'width':\n            this.switchBtn.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n    this.bindEvents()\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n    this.node.classList.add('hm-switch')\n    this.switchBtn = document.createElement('div')\n    this.switchBtn.classList.add('hm-switch-btn')\n    this.circle = document.createElement('div')\n    this.circle.classList.add('hm-switch-thumb')\n    this.switchBtn.appendChild(this.circle)\n    this.node.appendChild(this.switchBtn)\n  }\n\n  private bindEvents() {\n    let dom = this.node\n    let that = this\n    dom.addEventListener('click', function() {\n      let className = dom.className\n      if (/hm-switch-checked/.test(className)) {\n        that.checked = false\n      } else {\n        that.checked = true\n      }\n    })\n  }\n\n  // @ts-ignore\n  addEventListener(key: 'switch', listener: SwitchEventListener) {\n    if (!this.listeners[key]) {\n      this.listeners[key] = []\n    }\n    // 将事件callback加入到事件队列\n    // @ts-ignore\n    this.listeners[key].push(listener)\n    if (!this.eventListeners[key]) {\n      switch (key) {\n        case 'switch':\n          this.addChangeEvent = (ev: any) => {\n            this.listeners['switch'].forEach(listener => listener(ev))\n          }\n      }\n    }\n  }\n\n  set checked(val) {\n    if (this.disabled) {\n      return\n    }\n\n    let changeCbk = this.addChangeEvent\n\n    if (val === true) {\n      this.circle.style.right = '2px'\n      this.switchBtn.style.borderColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.switchBtn.style.backgroundColor =\n        this._style.onColor || 'rgb(19, 206, 102)'\n      this.node.classList.add('hm-switch-checked')\n    } else {\n      const width = +`${this._style.width}`.replace('px', '')\n      const circleWidth = +this.circle.style['width'].replace('px', '')\n      this.circle.style.right = width - circleWidth - 2 + 'px'\n      this.switchBtn.style.borderColor =\n        this._style.offColor || 'rgb(255, 73, 73)'\n      this.switchBtn.style.backgroundColor =\n        this._style.offColor || 'rgb(255, 73, 73)'\n      this.node.classList.remove('hm-switch-checked')\n    }\n\n    if (changeCbk) {\n      const ev = new SwitchEvent()\n      ev.target = this\n      ev.state = this.checked\n      changeCbk(ev)\n    }\n  }\n\n  get checked() {\n    return /hm-switch-checked/.test(this.node.className)\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: SwitchStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n}\n","import { View, ViewStyle } from './View'\n// import { Image } from './Image'\nimport { formatUnit } from '../../common/utils'\nexport interface TextStyle extends ViewStyle {\n  color?: string\n  textAlign?: 'left' | 'center' | 'right'\n  textDecoration?: 'none' | 'underline' | 'line-through'\n  textVerticalAlign?: 'top' | 'center' | 'bottom'\n  fontFamily?: string\n  fontSize?: string | number\n  fontWeight?: 'normal' | 'bold'\n  fontStyle?: 'normal' | 'italic'\n  textOverflow?: 'clip' | 'ellipsis'\n  textLineClamp?: number\n  letterSpacing?: number\n  lineSpacingMulti?: number\n}\n\nexport class Text extends View {\n  protected _style: TextStyle\n\n  constructor() {\n    super()\n    this.node.classList.add('hm-text')\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // 获取style\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textVerticalAlign':\n            this.node.style.verticalAlign = value\n            break\n          case 'lineSpacingMulti':\n            this.node.style.lineHeight = value\n            break\n          case 'textLineClamp':\n            this.node.style['-webkitLineClamp'] = value\n            this.node.style.overflow = 'hidden'\n            this.node.style.display = '-webkit-box'\n            this.node.style['-webkitBoxOrient'] = 'vertical'\n            break\n          default:\n            this.node.style[key] = formatUnit(value)\n            break\n        }\n        return true\n      }\n    })\n  }\n\n  protected defaultStyle() {\n    this.node.classList.add('hm-default-text-box')\n  }\n\n  protected createNode() {\n    this.node = document.createElement('span')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n\n  get text() {\n    return this.node.innerText\n  }\n\n  set text(value: string) {\n    this.node.innerText = value\n  }\n\n  get richText() {\n    return this.node.innerText\n  }\n\n  set richText(value: any) {\n    // Todo: 解析富文本\n    this.parseRichText(value)\n  }\n\n  get formattedText() {\n    return this.node.innerHTML\n  }\n\n  set formattedText(value: string) {\n    this.node.innerHTML = value\n  }\n\n  private parseRichText(value: any) {\n    this.node.innerText = ''\n    let image, text\n    value.forEach(item => {\n      if (item?.image) {\n        image = document.createElement('img')\n        image.src = item.image\n        image.alt = \"加载失败\"\n        image.style.verticalAlign = item.imageAlign === 'center' ? 'middle' : item.imageAlign\n        image.style.width = formatUnit(item.imageWidth)\n        image.style.height = formatUnit(item.imageHeight)\n        this.node.appendChild(image)\n      }\n      if (item?.text) {\n        text = document.createElement('span')\n        text.className = 'hm-default-text'\n        text.innerHTML = item?.text;\n        (item?.color || item?.hrefColor) && (text.style.color = item?.color || item?.hrefColor)\n        item?.fontSize && (text.style.fontSize = formatUnit(item?.fontSize))\n        item?.backgroundColor && (text.style.backgroundColor = item?.backgroundColor)\n        item?.fontFamily && (text.style.fontFamily = item?.fontFamily)\n        item?.fontWeight && (text.style.fontWeight = item?.fontWeight)\n        item?.textDecoration && (text.style.textDecoration = item?.textDecoration)\n        text.style.verticalAlign = 'middle'\n        if (item?.href) {\n          text.style.textDecoration = 'underline'\n          text.onclick = () => {\n            window.open(item?.href)\n          }\n        }\n        this.node.appendChild(text)\n      }\n    });\n  }\n}\n","import { Input, InputStyle } from './Input'\n\nexport interface TextAreaStyle extends InputStyle {\n  textLineClamp?: number\n}\n\nexport class TextArea extends Input {\n  protected _style: TextAreaStyle\n  \n\n  constructor() {\n    super()\n    // @ts-ignore\n    this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        switch (key) {\n          case 'textLineClamp':\n            // @ts-ignore\n            return target[key] || this.node.rows\n          default:\n            // @ts-ignore\n            return target[key]\n        }\n        // 获取style\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'textLineClamp':\n            this.node.rows = value\n            break\n        }\n        return true\n      }\n    })\n  }\n  get focused() {\n    return document.activeElement === this.node\n  }\n\n  set focused(focused: boolean) {\n    console.log(focused)\n    if (focused) {\n      this.node.focus()\n    } else {\n      this.node.blur()\n    }\n  }\n  \n  protected defaultStyle() {\n    this.node.classList.add('hm-default-textarea')\n  }\n  protected createNode() {\n    this.node = document.createElement('textarea')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: TextAreaStyle) {\n    this._style = Object.assign(this._style, _style)\n  }\n}\n","export class Timer {\n  private intervalTimer!: any\n  private timeoutTimer!: any\n\n  // 轮询间隔\n  setInterval(callback: Function, time: number) {\n    this.intervalTimer = setInterval(callback, time)\n  }\n\n  // 取消轮询\n  clearInterval() {\n    if (this.intervalTimer) {\n      clearInterval(this.intervalTimer)\n      this.intervalTimer = null\n    }\n  }\n\n  // 设置超时\n  setTimeout(callback: Function, timeout: number) {\n    this.timeoutTimer = setTimeout(() => {\n      callback()\n      this.timeoutTimer = null\n    }, timeout)\n  }\n\n  // 取消超时\n  clearTimeout() {\n    if (this.timeoutTimer) {\n      clearTimeout(this.timeoutTimer)\n      this.timeoutTimer = null\n    }\n  }\n}\n","import { View, ViewStyle } from './View'\nimport Swiper from '../../common/swiper'\nimport { nodeObserver } from '../../common/utils'\nimport { styleTransformer } from '../../common/style'\nimport Tween from \"@tweenjs/tween.js\"\nexport interface ViewPagerStyle extends ViewStyle {\n  width?: string | number\n  height?: string | number\n  itemSpacing?: number\n  edgeSpacing?: number\n  canLoop?: boolean\n  autoPlay?: boolean\n  loopInterval?: number,\n  borderRadius?: string | number,\n  scaleFactor?: number,\n  alphaFactor?: number\n}\n\nexport class ViewPager extends View {\n  protected _style: ViewPagerStyle\n  _data: Array<any> = []\n  itemViews!: Array<View>\n  itemViewsArray!: Array<any>\n  listeners: { [key: string]: Array<any> }\n  private swiper: any\n  private observe: any\n  private wrapper: Element\n  private activeProgress: number\n  private endProgress: number\n  private tween: any\n  private swipeDirection: any\n  // swiperFrame\n  constructor() {\n    super()\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('swiper-wrapper')\n    this.node.appendChild(this.wrapper)\n    // @ts-ignore\n    this._style = this._style = new Proxy(this._style, {\n      get: (target, key) => {\n        // @ts-ignore\n        return target[key] || this.node.style[key]\n      },\n      set: (target, key, value) => {\n        // 设置style\n        // @ts-ignore\n        target[key] = value\n        switch (key) {\n          case 'canLoop':\n            this.swiper && (this.swiper.params.loop = value, this.swiper.update());\n            break\n          case 'autoPlay':\n            this.swiper && (value ? (this.swiper.params.autoplay = {\n              delay: this.style.loopInterval,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update(), this.swiper.autoplay.start()) : this.swiper.autoplay.running && this.swiper.autoplay.stop());\n            break\n          case 'loopInterval':\n            this.swiper && this.style.autoPlay && (this.swiper.params.autoplay = {\n              delay: value,\n              stopOnLastSlide: false,\n              disableOnInteraction: false,\n            }, this.swiper.update())\n            break\n          default:\n            this.node.style[key] = value\n        }\n        return true\n      }\n    })\n    this._data = new Proxy(this._data, {\n      get: (target, key) => {\n        return Reflect.get(target, key);\n      },\n      set: (target, key, value) => {\n        Reflect.set(target, key, value);\n        if (this.listeners['onItemView'] && this.listeners['onItemView'].length > 0) {\n          this.listeners['onItemView'].forEach(listener => {\n            this.wrapper.innerHTML = ''\n            for (let index = 0; index < this._data.length; index++) {\n              // @ts-ignore\n              let element: View = listener(index, this._data[index]) || false\n              this._data[index] && (this._data[index] = element)\n              if (element) {\n                element.node.classList.add('swiper-slide')\n                element.node.style.width = `calc(100% - ${this.style.edgeSpacing * 2}px)`\n                this.wrapper.appendChild(element.node)\n              }\n            }\n          })\n          if (this.node.offsetWidth) {\n            this.init();\n          }\n        }\n        return true;\n      }\n    })\n    this.observe = nodeObserver(this.node, () => {\n      if (this.node.offsetWidth) {\n        this.init();\n        this.observe.unobserve(this.node);\n      }\n    })\n  }\n\n  init() {\n    let initSuccess = false\n    let that = this;\n    let translateX = (this.node.offsetWidth - this.style.edgeSpacing * 2) * (this.style.scaleFactor || 0.85) + (this.node.offsetWidth - this.style.edgeSpacing * 2) * ((1 - (this.style.scaleFactor || 0.85)) / 2) + this.style.itemSpacing;\n    let transitionFlag = false;\n    this.swiper = new Swiper(this.node, {\n      loop: this.style.canLoop, // 是否可以无限循环\n      autoplay: this.style.autoPlay ? {\n        delay: this.style.loopInterval,\n        stopOnLastSlide: false,\n        disableOnInteraction: false,\n      } : false,\n      observer: true,\n      observeParents: true,\n      watchSlidesProgress: true,\n      spaceBetween: this.style.itemSpacing as number,\n      centeredSlides: true,\n      mousewheel: true,\n      loopedSlides: 2,\n      slidesPerView: \"auto\",\n      effect: \"creative\",\n      creativeEffect: {\n        limitProgress: 2,\n        prev: {\n          translate: [-translateX, 0, 0],\n          scale: this.style.scaleFactor || 0.85,\n          opacity: this.style.alphaFactor || 0.5\n        },\n        next: {\n          translate: [translateX, 0, 0],\n          scale: this.style.scaleFactor || 0.85,\n          opacity: this.style.alphaFactor || 0.5\n        }\n      },\n      on: {\n        slideChange: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageChange'] && that.listeners['onPageChange'].length > 0) {\n              that.listeners['onPageChange'].forEach(listener => listener(this.realIndex, that.data.length))\n            }\n          }\n        },\n        tap: function (swiper, event) {\n          if (that.listeners['onItemClick'] && that.listeners['onItemClick'].length > 0) {\n            that.listeners['onItemClick'].forEach(listener => listener(this.realIndex))\n          }\n        },\n        slidePrevTransitionStart: function (swiper) {\n          that.swipeDirection = 'prev'\n        },\n        slideNextTransitionStart: function (swiper) {\n          that.swipeDirection = 'next'\n        },\n        transitionStart: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(2))\n            }\n            let previousIndex = parseInt(swiper?.slides[swiper.previousIndex]?.dataset?.swiperSlideIndex)\n            swiper.realIndex === previousIndex && (that.swipeDirection = 'invariant')\n            that.tween = new Tween.Tween({\n              number: transitionFlag ? that.activeProgress : previousIndex\n            }).to({\n              number: that.endProgress >= 1 ? that.endProgress : (that.swipeDirection === 'next' ? Math.ceil(that.activeProgress) : Math.floor(that.activeProgress))\n            }, 300).onUpdate(tween => {\n              let progress\n              if (tween.number >= 1) {\n                progress = tween.number - Math.floor(tween.number)\n              } else {\n                progress = tween.number\n              }\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, progress))\n              }\n            }).start();\n            function animate() {\n              if (Tween.update()) {\n                requestAnimationFrame(animate);\n              }\n            }\n            animate()\n          }\n        },\n        transitionEnd: function (swiper) {\n          if (initSuccess) {\n            if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n              that.listeners['onPageScrollStateChange'].forEach(listener => listener(0))\n            }\n            transitionFlag = false;\n          }\n        },\n        sliderMove: function (swiper, event) {\n          if (initSuccess) {\n            that.tween && Tween.remove(that.tween);\n            if (!transitionFlag) {\n              transitionFlag = true;\n              if (that.listeners['onPageScrollStateChange'] && that.listeners['onPageScrollStateChange'].length > 0) {\n                that.listeners['onPageScrollStateChange'].forEach(listener => listener(1))\n              }\n            }\n          }\n        },\n        touchEnd: function (swiper, event) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            activeProgress !== 0 && (that.activeProgress = activeProgress)\n          }\n        },\n        progress: function (swiper, progress) {\n          if (initSuccess) {\n            let activeProgress\n            if (swiper.slides.length <= 0) {\n              return;\n            }\n            if (swiper.slides[swiper.activeIndex].progress >= 0) {\n              activeProgress = swiper.slides[swiper.activeIndex].progress\n            } else {\n              activeProgress = 1 + swiper.slides[swiper.activeIndex].progress\n            }\n            if (!/^-?\\d+$/.test(activeProgress)) {\n              if (that.listeners['onPageScroll'] && that.listeners['onPageScroll'].length > 0) {\n                that.listeners['onPageScroll'].forEach(listener => listener(swiper.realIndex, activeProgress))\n              }\n            }\n            that.endProgress = activeProgress\n          }\n        },\n      },\n    })\n    initSuccess = true\n  }\n\n  protected createNode() {\n    this.node = document.createElement('div')\n  }\n\n  get style() {\n    return this._style\n  }\n\n  set style(_style: ViewPagerStyle) {\n    let standardStyle = styleTransformer.transformStyle(_style);\n    this._style = Object.assign(this._style, standardStyle)\n  }\n  get data() {\n    return this._data\n  }\n  set data(_data: Array<any>) {\n    this._data.length = _data.length\n  }\n\n  onItemView(callback) {\n    if (!this.listeners['onItemView']) {\n      this.listeners['onItemView'] = []\n    }\n    this.listeners['onItemView'].push(callback)\n  }\n  onPageScroll(callback: any) {\n    if (!this.listeners['onPageScroll']) {\n      this.listeners['onPageScroll'] = []\n    }\n    this.listeners['onPageScroll'].push(callback)\n  }\n  onPageScrollStateChange(callback: any) {\n    if (!this.listeners['onPageScrollStateChange']) {\n      this.listeners['onPageScrollStateChange'] = []\n    }\n    this.listeners['onPageScrollStateChange'].push(callback)\n  }\n  onPageChange(callback: any) {\n    if (!this.listeners['onPageChange']) {\n      this.listeners['onPageChange'] = []\n    }\n    this.listeners['onPageChange'].push(callback)\n  }\n\n  onItemClick(callback: any) {\n    if (!this.listeners['onItemClick']) {\n      this.listeners['onItemClick'] = []\n    }\n    this.listeners['onItemClick'].push(callback)\n  }\n\n  setCurrentItem(position: number) {\n    this.style.canLoop ? this.swiper.slideToLoop(position) : this.swiper.slideTo(position)\n  }\n}\n"],"names":["Environment","constructor","this","appName","safeAreaBottom","appVersion","deviceHeight","self","top","document","body","offsetHeight","window","screen","height","deviceWidth","offsetWidth","width","availableHeight","availHeight","availableWidth","availWidth","statusBarHeight","osVersion","platform","scale","devicePixelRatio","remUEWidthInPixel","remUEWidthInPixelRatio","model","extraParams","system","brand","NotifyCenter","addEventListener","key","listener","listeners","push","removeEventListener","filter","_listener","triggerEvent","args","forEach","target","formatUnit","size","test","indexOf","parseFloat","replace","Hummer","env","match","word","split","formatPureNumberPxUnit","formatUnitResult","inIframe","nodeObserver","node","callback","ResizeObserver","mutations","observe","getQueryVariable","url","vars","location","search","substring","i","length","pair","HummerGlobal","notifyCenter","pageInfo","JSON","parse","decodeURIComponent","setTitle","setNavigationBarMode","mode","setNavigationBarColor","color","setScrollTracker","view","options","arWidgetDisplay","isDisplay","setBasicWidth","render","page","getElementsByTagName","appendChild","event","CustomEvent","dispatchEvent","globalThis","BasicAnimation","path","on","type","module","hammerModule","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","round","Math","abs","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","call","hasOwnProperty","deprecate","method","name","message","deprecationMessage","e","Error","stack","log","console","warn","apply","arguments","Object","TypeError","output","index","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","create","_super","boolOrFn","val","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","removeEventListeners","hasParent","parent","parentNode","inStr","str","find","trim","inArray","findByKey","toArray","slice","uniqueArray","sort","results","values","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","DIRECTION_VERTICAL","DIRECTION_UP","PROPS_XY","PROPS_CLIENT_XY","Input","manager","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","x","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","start","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","value","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","preventSrc","STATE_FAILED","Recognizer","defaults","id","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","events","off","data","gestureEvent","createEvent","initEvent","gesture","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","exports","InputState","PanState","PinchState","SwipeState","TapState","TouchState","LongPressState","ScrollState","hammer","Event","InputEvent","PanEvent","PinchEvent","SwipeEvent","TapEvent","TouchEvent","LongPressEvent","ScrollEvent","KeyframeAnimation","isNeedUnitTrasform","list","map","$0","makeMapByArrOfKebab","transformUnit","transformUnitValue","styleTransformer","registerMiddleware","use","middleware","middlewares","transformStyle","tempStyle","result","SIZE_STYLE","View","viewID","createNode","_enabled","subViews","Set","eventListeners","animations","_style","Proxy","defaultStyle","initialize","formatBasicAnimation","onCreate","onAppear","onDisappear","visibilityChange","bind","onBack","history","pushState","URL","interceptBack","tagName","navBar","navBarTitle","navBarBack","className","onclick","go","innerHTML","pathname","referrer","childNodes","flex","insertBefore","visibilityState","_onDestoryed","playBasicAnimation","animation","keyframes","getBasicAnimationKeyFrameAnimationOptions","animate","onstart","onfinish","basicAnimationArray","shift","onend","play","oldKeyNum","newBasicAnimationArray","numSize","keyNum","parseInt","classList","enabled","disabled","standardStyle","finalize","_onMounted","onMounted","onDestoryed","onDestroy","subview","removeChild","removeAll","existingView","replaceChild","newSubview","oldSubview","getElementById","press","timestamp","BEGAN","pressup","ENDED","oldDeltaX","oldDeltaY","panstart","translation","panmove","CHANGED","panend","pancancel","CANCELLED","pinchstart","pinchmove","pinchend","pinchcancel","swipeleft","swiperight","swipeup","swipedown","tap","position","text","focus","blur","scroll","stopPropagation","getBoundingClientRect","left","addAnimation","getKeyframeAnimationOptions","oncancel","getRect","dbg_highlight","isHighlight","resetStyle","requestViewWidth","requestViewHeight","getBasicAnimationDefaultKeyframeAnimationOptions","ani","playKeyframes","getComputedStyle","endKeyframes","convertPath","convertPathValue","easing","fill","delay","duration","iterations","repeatCount","percent","Image","super","backgroundSize","setImageResizeMode","backgroundRepeat","backgroundPosition","_src","backgroundImage","gifSrc","_gifSrc","gifRepeatCount","onload","Toast","customView","show","msg","that","toastTimer","display","opacity","hide","custom","Dialog","alertView","alertViewMsg","alertViewBtn","loadingView","loadingViewIcon","loadingViewText","confirmView","confirmViewText","confirmViewOkBtn","confirmViewCancelBtn","resize","ontouchend","cancelable","dismiss","alert","btnText","children","confirm","title","okBtnText","cancelBtnText","okCallback","cancelCallback","loading","Location","getLastLocation","startLocation","intervalTime","intervalDistance","stopLocation","onError","Memory","sessionStorage","setItem","getItem","getAll","sessionKeys","sessionAll","removeItem","clear","exist","Navigator","openPage","cloneOptions","stringify","navbar","host","encodeURIComponent","re","RegExp","separator","updateQueryStringParameter","closeSelf","popPage","popToPage","popToRootPage","historyLen","popBack","Phone","phoneNum","Response","Request","send","xhr","XMLHttpRequest","getData","param","open","setRequestHeader","withCredentials","header","ontimeout","response","status","request","onerror","responseType","responseXML","responseText","statusText","error","code","arr","getAllResponseHeaders","headerMap","line","parts","WebSocket","Storage","localStorage","storageKeys","storageAll","SwitchEvent","extendStatics","d","setPrototypeOf","__proto__","p","__extends","__","__assign","s","n","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","f","g","_","label","sent","trys","ops","verb","throw","return","Symbol","op","pop","__spreadArrays","il","r","k","j","jl","propertiesConfig$7","sourceKey","assert","condition","inBrowser","ua","isWeChatDevTools","isAndroid","isIOSBadVersion","matches","exec","supportsPassive","opts","defineProperty","getNow","performance","timing","navigationStart","isUndef","between","min","max","findIndex","ary","some","ret","elementStyle","vendor","_i","transformNames_1","prefixStyle","charAt","substr","getElement","el","querySelector","addEvent","capture","useCapture","passive","removeEvent","offsetLeft","offsetTop","offsetParent","cssVendor","transform","transition","hasPerspective","hasTouch","hasTransition","transitionTimingFunction","transitionDuration","transitionDelay","transformOrigin","transitionEnd","transitionProperty","eventTypeMap","SVGElement","rect","preventDefaultExceptionFn","exceptions","tagExceptionFn","click","eventSource","posSrc","screenX","screenY","pressedKeysMap","ctrlKey","shiftKey","altKey","metaKey","MouseEvent","bubbles","forwardedTouchEvent","_constructed","hasClass","ease","swipe","swipeBounce","bounce","windowCompat","noop$1","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","noop","sharedPropertyDefinition","enumerable","configurable","EventEmitter","names","eventTypes","registerType","hasType","once","_this","magic","trigger","len","eventsCopy","event_1","EventRegister","wrapper","addDOMEvents","removeDOMEvents","handleDOMEvents","eventOperation","handleEvent","OptionsConstructor","startX","startY","scrollX","scrollY","freeScroll","directionLockThreshold","eventPassthrough","dblclick","bottom","right","bounceTime","momentum","momentumLimitTime","momentumLimitDistance","swipeTime","swipeBounceTime","deceleration","flickLimitTime","flickLimitDistance","resizePolling","probeType","preventDefaultException","tagException","HWCompositing","useTransition","bindToWrapper","bindToTarget","disableMouse","disableTouch","autoBlur","autoEndDistance","outOfBoundaryDampingFactor","specifiedIndexAsContent","quadrant","resolveBounce","translateZ","bounceOptions","DEFAULT_BOUNCE","ActionsHandler","hooks","_a","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","move","wrapperEventRegister","targetEventRegister","beforeHandler","setInitiated","initiated","_eventType","beforeStart","point","pointX","pageX","pointY","pageY","scrollLeft","documentElement","pageXOffset","scrollTop","pageYOffset","clientWidth","clientHeight","setContent","content","rebindDOMEvents","translaterMetaData","Translater","getComputedPosition","matrix","translate","transformFnName","transformFnArgUnit","transformFnArg","beforeTranslate","Base","translater","timer","endPoint","setPending","pending","setForceStopped","forceStopped","setCallStop","called","callStopWhenPending","clearTimer","Transition","startProbe","startPoint","prePos","probe","pos","currentPos","computeDirection","endValue","startValue","delta","directionX","directionY","isValidPostion","transitionTime","timeFunction","easingFn","isRealtimeProbeType","_reflow","doStop","forceStop","callStop","Animation","startTime","destTime","newPoint","_b","_c","_d","Behavior","refresh","dist","setMovingDirection","setDirection","hasScroll","performDampingAlgorithm","movingDirection","dampingFactor","newPos","minScrollPos","maxScrollPos","bounces","momentumInfo","absDist","startPos","wrapperSize","destination","current","lowerMargin","upperMargin","speed","momentumData","rate","updateDirection","absStartPos","isWrapperStatic","wrapperRect","contentRect","contentSize","relativeOffset","computeBoundary","resetState","resetStartPos","beforeComputeBoundary","boundary","scrollable","updatePosition","getCurrentPos","checkInBoundary","adjustPosition","inBoundary","ignoreHasScroll","updateStartPos","updateAbsStartPos","getAbsDist","PassthroughHandlers","DirectionMap","DirectionLockAction","directionLocked","checkMovingDirection","absDistX","absDistY","computeDirectionLock","handleEventPassthrough","adjustDelta","handleMap","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","directionLockAction","bindActionsHandler","handleStart","applyQuadrantTransformation","transformateDeltaData","coordinateTransformation","handleMove","handleEnd","handleClick","fingerMoved","contentMoved","beforeMove","checkMomentum","prevX","newX","prevY","newY","detectMovingDirection","positionChanged","contentNotMoved","scrollStart","dispatchScroll","endTime","beforeEnd","ensureIntegerPos","scrollEnd","ensuringInteger","minScrollPosX","maxScrollPosX","minScrollPosY","maxScrollPosY","ceil","floor","createBehaviorOptions","bsOptions","extraProp","reduce","prev","cur","bubbling","sourceEvent","targetEvent","Scroller","resizeTimeout","animaterOptions","createAnimater","resizeHandler","resizeRegister","registerTransitionEnd","bindTranslater","bindAnimater","bindActions","togglePointerEvents","transitionEndRegister","prevPos","updatePositions","resetPosition","beforeScrollStart","touchEnd","scrollCancel","checkClick","checkFlick","flick","meta","swiper","momentumX","momentumY","scrollTo","_dblclick","dblclickTrigged","lastClickTime","eventName","isBScrollContainer","contentChanged","beforeRefresh","wrapperOffset","scrollBy","extraTransform","keys_1","isSamePoint","minDistanceScroll","scrollToElement","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","reflow","disable","BScrollConstructor","plugins","valid","ctor","pluginName","plugin","pluginsMap","applyOrder","scroller","eventBubbling","handleAutoBlur","proxy","applyPlugins","refreshWithoutReset","beforeInitialScrollTo","applyOrderMap","activeElement","propertiesConfig","lastKey","getProperty","temp","setProperty","propertiesProxy","eventRegister","createBScroll","BScroll","MouseWheel","wheelEndTimer","wheelMoveTimer","wheelStart","handleBScroll","handleOptions","handleHooks","registerEvent","userOptions","mouseWheel","mouseWheelOpt","invert","easeTime","discreteTime","throttleTime","hooksFn","registerHooks","wheelHandler","wheelStartHandler","getWheelDelta","wheelMoveHandler","wheelEndDetector","cleanCache","alterOptions","mousewheelStart","deltaCache","cachedDelta","mousewheelMove","getEaseTime","mousewheelEnd","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","detail","hasVerticalScroll","hasHorizontalScroll","hooksName","handlerFn","ObserveDOM","stopObserver","handleMutationObserver","MutationObserver","observer","mutationObserverHandler","startObserve","checkDOMUpdate","stopObserve","shouldNotRefresh","immediateRefresh","deferredRefresh","mutation","attributes","childList","subtree","outsideBoundaries","oldWidth","oldHeight","newWidth","newHeight","check","disconnect","propertiesConfig$6","sourcePrefix$6","PULLING_DOWN_EVENT","ENTER_THRESHOLD_EVENT","LEAVE_THRESHOLD_EVENT","PullDown","pulling","thresholdBoundary","setPulling","setThresholdBoundary","pullDownRefresh","watch","currentMinScrollY","cachedOriginanMinScrollY","finishPullDown","hasMouseWheelPlugin","mouseWheelOptions","watching","checkPullDown","resetStateBeforeScrollStart","checkLocationOfThresholdBoundary","isFetchingStatus","scroll_1","enteredThresholdBoundary","locateInsideThresholdBoundary","leftThresholdBoundary","unwatch","modifyBehaviorYBoundary","stopDistance","openPullDown","config","closePullDown","autoPullDownRefresh","propertiesConfig$5","sourcePrefix$5","PULL_UP_HOOKS_NAME","PullUp","pullUpLoad","finishPullUp","checkPullUp","movingDirectionY","maxScrollY","openPullUp","closePullUp","autoPullUpLoad","outOfBoundaryPos","EventHandler","indicator","registerEvents","startEvents","moveEvents","endEvents","startEventRegister","indicatorEl","moveEventRegister","endEventRegister","BScrollIsDisabled","lastPoint","keysMap","touchStart","pointPos","touchMove","Indicator$1","Indicator","getKeysMap","handleFade","fade","interactive","scrollbarTrackClickable","scrollHooks","translaterHooks","animaterHooks","hasScrollKey","eventHandler","eventHandlerHooks","startHandler","moveHandler","endHandler","bindClick","clickEventRegister","calculateclickOffsetPos","scrollbarTrackOffsetTime","poinKey","domRectKey","domRect","scrollbarTrackOffsetType","clickPointOffset","scrollToWhere","scrollInfo","baseSize","scrollerSize","translateProperty","visible","fadeInTime","fadeOutTime","canScroll","wrapperSizeKey","scrollerSizeKey","maxScrollPosKey","refreshScrollInfo","indicatorElSize","minSize","isCustom","maxIndicatorScrollPos","sizeRatio","caculatePosAndSize","refreshStyle","posKey","translatePropertyKey","sizeKey","moved","indicatorNotMoved","syncBScroll","minScrollY","maxScrollX","minScrollX","ScrollBar","createIndicators","indicators","scrollbar","customElements","indicatorOptions","scrollDirectionConfigKeys","indicatorDirections","customScrollbarEls","customElement","scrollbarWrapper","createScrollbarElement","scrollbarWrapperEl","scrollbarIndicatorEl","cssText","PagesMatrix","wrapperWidth","wrapperHeight","scrollerHeight","scrollerWidth","pages","buildPagesMatrix","pageLengthOfX","pageLengthOfY","getPageStats","getNearestPageIndex","l","cx","cy","stepX","stepY","BASE_PAGE","SlidePages","slideOptions","slideX","slideY","currentPage","pagesMatrix","checkSlideLoop","getAdjustedCurrentPage","loopX","loopY","setCurrentPage","newPage","getInternalPage","getInitialPage","showFirstPage","firstInitialised","startPageXIndex","startPageYIndex","firstPageX","firstPageY","getExposedPage","exposedPage","fixedPage","getExposedPageByPageIndex","pageIndexX","pageIndexY","getWillChangedPage","realPageLen","pageIndex","unshift","getValidPageIndex","lastX","lastY","firstX","firstY","nextPageIndex","getPageIndexByDirection","prevPageIndex","getNearestPage","getPageByDirection","resetLoopPage","wannaLoop","loop","propertiesConfig$4","sourcePrefix$4","Slide","cachedClonedPageDOM","resetLooping","autoplayTimer","satisfyInitialization","willChangeToPage","createPages","slide","defaultOptions","listenFlick","autoplay","handleLoop","prevSlideContent","slideContent","currentSlidePagesLength","resetLoopChangedStatus","removeClonedSlidePage","cloneFirstAndLastSlidePage","initialised","moreToOnePageInLoop","oneToMorePagesInLoop","scrollerHooks","prevContent","pausePlay","modifyCurrentPage","startPlay","refreshHandler","setSlideInlineStyle","modifyScrollMetaHandler","scrollHandler","flickHandler","slideWrapper","scrollOptions","sizeType","styleType","length_1","goTo","goToPage","getCurrentPage","nearestPage","satisfyThreshold","satisfied","thresholdX","thresholdY","computeThreshold","initPage","firstChild","preprendDOM","cloneNode","appendDOM","before","prevExposedPageX","prevExposedPageY","currentExposedPageX","currentExposedPageY","pageWillChangeTo","slidePageChanged","changePage","scrollEasing","currentPosX","startPosX","currentPosY","startPosY","scrollMeta","changeToPage","slideWillChange","propertiesConfig$3","sourcePrefix$3","WHEEL_INDEX_CHANGED_EVENT_NAME","CONSTANTS","Wheel","refreshBoundary","setSelectedIndex","selectedIndex","wheel","wheelWrapperClass","wheelItemClass","rotate","adjustTime","wheelDisabledItemClass","findNearestValidWheel","isAdjustingPosition","items","rotateX","wheelTo","itemHeight","checkWheelAllDisabled","validWheel","prevSelectedIndex","getSelectedIndex","restorePosition","SafeDeg","toFixed","currentIndex","cacheIndex","wheelDisabledItemClassName","wheelItemsAllDisabled","propertiesConfig$2","sourcePrefix$2","Zoom","prevScale","tryInitialZoomTo","zoomOpt","zoomTo","resolveOrigin","origin","originX","originY","baseScale","_doZoomTo","zoom","initialOrigin","minimalZoomDistance","setTransformOrigin","numberOfFingers","fingersOperation","zoomStart","zoomEnd","resetBoundaries","amounts","useCurrentPos","fromScale","toScale","timer_1","startTime_1","endTime_1","scheduler_1","zooming","currentScale","_zoomTo","ratio","setScale","getNewPos","resolveFormula","firstFinger","secondFinger","startDistance","getFingerDistance","startScale","beforeZoomStart","currentDistance","zoomed","endScale","dampingScale","shouldRebound","pow","scrollBehaviorPairs","behavior","lastScale","shouldInBoundary","BScrollFamily","ancestors","descendants","hooksManager","analyzed","selfScroll","hasAncestors","bscrollFamily","hasDescendants","addAncestor","addDescendant","removeAncestor","removeDescendant","hook","setAnalyzed","flag","purge","propertiesConfig$1","sourcePrefix$1","enableScrollHander","scrolls","disableScrollHander","currentScroll","calculateDistance","childNode","NestedScroll","groupId","instance","instancesMap","getAllNestedScrolls","purgeAllNestedScrolls","ns","purgeNestedScroll","nestedScroll","groupIdType","addBScroll","buildBScrollGraph","analyzeBScrollGraph","ensureEventInvokeSequence","deleteScroll","bf1","bf2","wrapper1","wrapper2","contains","ancestorScrolls","descendantScrolls","resetPositionHandler","syncTouchstartData","selfActionsHooks","movingDirectionX","parentScroll","otherAncestorScrolls","isTopScroll","IndexCalculator","tombstoneHeight","lastDirection","lastPos","calculate","calculateIndex","tombstone","ListItem","dom","DataManager","fetchFn","onFetchFinish","loadedNum","fetching","hasMore","addEmptyData","checkToFetch","fetch","newData","currentEnd","getList","Tombstone","cached","initialed","getSize","isTombstone","getOne","tombstoneStyle","recycle","tombstones","tombstones_1","recycleOne","DomManager","renderFn","unusedDom","timers","collectUnusedDom","createDom","cacheHeight","positionDom","startDelta","endPos","tombstoneEles","getStartPos","timerId","i_1","originPos","removeTombstone","querySelectorAll","InfinityScroll","createTombstoneFn","createTombstone","indexCalculator","domManager","dataManager","modifyBoundary","infinityOptions","infinity","updateDom","sourcePrefix","Movable","putAt","resolvePostion","ObserveImage","refreshTimer","observeImage","bindEventsToWrapper","debounceTime","imageLoadEventRegister","load","imageErrorEventRegister","handleBubbleAndCancelable","handleDOM","handleInteractive","relationElement","relationElementHandleElementIndex","ratioConfig","maxBScrollX","maxBScrollY","ratioX","ratioY","indicatorWidth","indicatorHeight","translateXSign","translateYSign","lastPointX","lastPointY","getBScrollPosByRatio","currentX","currentY","BScrollMinScrollX","BScrollMaxScrollX","BScrollMinScrollY","BScrollMaxScrollY","newPosX","newPosY","xNotMoved","yNotMoved","BScrollPos","newIndicatorPos","getIndicatorPosByRatio","applyTransformProperty","transformProperties","roundX","roundY","Indicators","UserIndicatorsOptions","UserIndicatorsOptions_1","INPUT_SIZE_STYLE","maxLength","includes","changePlaceholder","fontSize","placeholderColor","caretColor","_randomPlaceholderClass","_placeholderCssIndex","styleSheets","insertRule","cssRules","focused","placeholder","isObject$1","extend$1","ssrDocument","nodeName","setAttribute","createElementNS","importNode","hash","hostname","href","protocol","getDocument","ssrWindow","replaceState","back","getPropertyValue","matchMedia","getWindow","win","makeReactive","proto","Dom7","arrayFlat","res","arrayFilter","arrayUnique","qsa","selector","$","html","toCreate","tempParent","nodeType","addClass","classes","classNames","c","removeClass","toggleClass","toggle","attr","attrs","getAttribute","attrName","removeAttr","removeAttribute","transition$1","targetSelector","handleLiveEvent","dom7EventData","is","parents","dom7LiveListeners","proxyListener","dom7Listeners","dom7proxy","evt","dataIndex","transitionEnd$1","fireCallBack","outerWidth","includeMargins","styles","outerHeight","box","clientTop","clientLeft","css","textContent","compareWith","webkitMatchesSelector","msMatchesSelector","previousSibling","eq","returnIndex","append","els","newChild","tempDiv","prepend","nextElementSibling","nextAll","nextEls","previousElementSibling","prevAll","prevEls","closest","foundElements","found","Methods","deleteProps","object","nextTick","getComputedStyle$1","currentStyle","getTranslate","axis","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","webkitTransform","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","isObject","o","isNode","HTMLElement","to","noExtend","nextSource","keysArray","nextIndex","desc","getOwnPropertyDescriptor","__swiper__","setCSSProperty","varName","varValue","animateCSSModeScroll","targetPosition","side","startPosition","params","wrapperEl","scrollSnapType","cssModeFrameID","dir","isOutOfBound","getTime","progress","easeProgress","cos","currentPosition","overflow","support","deviceCached","browser","calcSupport","smoothScroll","DocumentTouch","passiveListener","gestures","getSupport","calcDevice","device","ios","android","screenWidth","screenHeight","ipad","ipod","iphone","windows","macos","iPadScreens","os","getDevice","overrides","calcBrowser","isSafari","isWebView","getBrowser","Resize","destroyed","initialized","createObserver","entries","contentBoxSize","inlineSize","blockSize","removeObserver","unobserve","orientationChangeHandler","resizeObserver","Observer","extendParams","observers","attach","WebkitMutationObserver","observerUpdate","characterData","observeParents","containerParents","$el","observeSlideChildren","$wrapperEl","methodName","writable","eventsEmitter","priority","eventsListeners","onceHandler","__emitterProxy","onAny","eventsAnyListeners","offAny","updateSize","isHorizontal","isVertical","Number","isNaN","updateSlides","getDirectionLabel","marginRight","getDirectionPropertyValue","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","updateSlide","slideStyles","currentTransform","currentWebKitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","swiperSlideSize","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","updateAutoHeight","activeSlides","setTransition","getSlideByIndex","visibleSlides","activeIndex","swiperSlideOffset","updateSlidesProgress","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","skip","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","getSwiperTranslate","virtualTranslate","currentTranslate","setTranslate","byController","z","newProgress","previousTranslate","translateTo","runCallbacks","translateBounds","internal","animating","preventInteractionOnTransition","newTranslate","isH","onTranslateToWrapperTransitionEnd","transitionEmit","transitionStart","slideTo","initial","indexAsNumber","isFinite","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","_immediateVirtual","_swiperImmediateVirtual","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","slidePrev","normalize","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","slideReset","slideToClosest","currentSnap","slideToIndex","loopCreate","$selector","loopFillGroupWithBlank","blankSlidesNum","blankNode","slideBlankClass","loopAdditionalSlides","prependSlides","appendSlides","diff","loopDestroy","setGrabCursor","moving","simulateTouch","isLocked","touchEventsTarget","cursor","unsetGrabCursor","closestElement","__closestFrom","assignedSlot","getRootNode","onTouchStart","touchEventsData","originalEvent","$targetEl","isTouchEvent","isTouched","isMoved","noSwipingClass","shadowRoot","noSwipingSelector","isTargetShadow","noSwiping","allowClick","swipeHandler","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","isContentEditable","onTouchMove","targetTouch","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","touchAngle","touchMoveStopPropagation","nested","startTranslate","allowMomentumBounce","grabCursor","touchRatio","disableParentSwiper","resistanceRatio","resistance","followFinger","freeMode","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","stopIndex","groupSize","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","running","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","dummyEventAttached","dummyEventListener","touchEvents","domMethod","swiperMethod","passiveListeners","cancel","updateOnWindowResize","attachEvents","detachEvents","isGridEnabled","breakpoint","getBreakpoint","breakpointsBase","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","containerModifierClass","emitContainerClasses","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","innerHeight","points","minRatio","prepareClasses","resultClasses","addClasses","suffixes","autoheight","centered","removeClasses","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","complete","preloadImages","imagesLoaded","imagesToLoad","updateOnImagesReady","currentSrc","wasLocked","lastSlideIndex","lastSlideRightEdge","createElements","uniqueNavElements","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","images","extendedDefaults","Swiper","swipers","newParams","modules","__modules__","mod","swiperParams","passedParams","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","cls","getSlideClasses","slideEl","updates","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","mount","mounted","getWrapperSelector","getWrapper","deleteInstance","cleanStyles","static","newDefaults","m","installModule","Virtual","cssModeTimeout","renderSlide","cache","$slideEl","addSlidesBefore","addSlidesAfter","from","previousFrom","previousTo","previousSlidesGrid","previousOffset","offsetProp","slidesAfter","slidesBefore","onRendered","lazy","renderExternal","slidesToRender","renderExternalUpdate","prependIndexes","appendIndexes","appendSlide","prependSlide","numberOfNewSlides","newCache","cachedIndex","$cachedEl","cachedElIndex","removeSlide","slidesIndexes","removeAllSlides","Keyboard","handle","kc","keyCode","charCode","pageUpDown","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","onlyInViewport","inView","swiperWidth","swiperHeight","windowWidth","windowHeight","swiperOffset","swiperCoord","returnValue","Mousewheel","mousewheel","releaseOnEdges","forceToAxis","sensitivity","eventsTarget","thresholdDelta","thresholdTime","lastEventBeforeSnap","lastScrollTime","recentWheelEvents","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","HORIZONTAL_AXIS","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","animateSlider","newEvent","raw","releaseScroll","rtlFactor","positions","sign","ignoreWheelEvents","sticky","prevEvent","firstEvent","snapToThreshold","autoplayDisableOnInteraction","createElementIfNotDefined","checkProps","Navigation","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","_s","targetEl","pagination","clickable","isHidden","classesToSelector","Pagination","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","lastIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","progressbarDirection","scaleX","scaleY","paginationHTML","numberOfBullets","Scrollbar","dragStartPos","dragSize","trackSize","divider","dragTimeout","$dragEl","newSize","getPointerPosition","setDragPosition","positionRatio","onDragStart","onDragMove","onDragEnd","snapOnRelease","activeListener","eventMethod","enableDraggable","disableDraggable","$swiperEl","dragClass","dragEl","draggable","Parallax","parallax","setTransform","currentOpacity","parallaxEl","$parallaxEl","parallaxDuration","_swiper","maxRatio","containerClass","zoomedSlideClass","gesturesEnabled","fakeGestureTouched","fakeGestureMoved","isScaling","slideWidth","slideHeight","$imageEl","$imageWrapEl","minX","minY","maxX","maxY","touchesStart","touchesCurrent","prevPositionX","prevPositionY","prevTime","getDistanceBetweenTouches","x1","y1","x2","y2","onGestureStart","scaleStart","onGestureChange","scaleMove","onGestureEnd","scaledWidth","scaledHeight","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","onTransitionEnd","zoomIn","touchX","touchY","translateX","translateY","imageWidth","imageHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","zoomOut","zoomToggle","getListeners","activeListenerWithCapture","getSlideSelector","toggleGestures","slideSelector","enableGestures","disableGestures","in","out","Lazy","checkInView","loadPrevNext","loadPrevNextAmount","loadOnTransitionStart","scrollingElement","elementClass","loadingClass","loadedClass","preloaderClass","scrollHandlerAttached","initialImageLoaded","loadInSlide","loadInDuplicate","$images","background","$pictureEl","sourceEl","$source","slideOriginalIndex","slideExist","amount","maxIndex","minIndex","checkInViewOnLoad","$scrollElement","isWindow","scrollElementWidth","scrollElementHeight","Controller","LinearSpline","binarySearch","guess","array","i1","i3","interpolate","getInterpolateFunction","controller","spline","_t","controlled","control","controlledTranslate","setControlledTranslate","by","inverse","setControlledTransition","removeSpline","A11y","a11y","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","notification","getRandomNumber","randomChar","random","repeat","makeElFocusable","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","addElId","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","updateNavigation","hasPagination","hasClickablePagination","updatePagination","bulletEl","initNavEl","wrapperId","$containerEl","History","root","paths","slugify","getPathValues","urlOverride","pathArray","part","setHistory","currentState","scrollToSlide","setHistoryPopState","hashNavigation","HashNavigation","watchState","onHashChange","newHash","setHash","Autoplay","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","pause","waitForTransition","onVisibilityChange","onMouseEnter","disableOnInteraction","onMouseLeave","attachMouseEvents","pauseOnMouseEnter","detachMouseEvents","Thumb","thumbs","multipleActiveThumbs","autoScrollOffset","slideThumbActiveClass","thumbsContainerClass","swiperCreated","onThumbClick","thumbsSwiper","thumbsParams","SwiperClass","thumbsSwiperParams","useOffset","newThumbsIndex","currentThumbsIndex","prevThumbsIndex","nextThumbsIndex","thumbsToActivate","thumbActiveClass","lastMoveEvent","velocityEvent","minimumVelocity","momentumVelocityRatio","momentumRatio","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","momentumBounceRatio","needsLoopFix","momentumBounce","moveDistance","currentSlideSize","Grid","slidesNumberEvenToRows","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","groupIndex","slideIndexInGroup","columnsInGroup","order","addSlide","activeIndexBuffer","baseLength","slidesBuffer","currentSlide","indexToRemove","Manipulation","effectInit","overwriteParams","perspective","overwriteParamsResult","effectTarget","effectParams","transformEl","effectVirtualTransitionEnd","allSlides","$transitionEndTarget","eventTriggered","triggerEvents","EffectFade","fadeEffect","crossFade","tx","ty","slideOpacity","EffectCube","cubeEffect","slideShadows","shadow","shadowOffset","shadowScale","$cubeShadowEl","wrapperRotate","slideAngle","tz","shadowBefore","shadowAfter","shadowAngle","sin","scale1","scale2","zFactor","createShadow","shadowClass","$shadowContainer","$shadowEl","EffectFlip","flipEffect","limitRotation","rotateY","zIndex","EffectCoverflow","coverflowEffect","stretch","depth","modifier","offsetMultiplier","slideTransform","$shadowBeforeEl","$shadowAfterEl","EffectCreative","creativeEffect","limitProgress","shadowPerProgress","progressMultiplier","getTranslateValue","isCenteredSlides","margin","translateString","rotateString","scaleString","opacityString","shadowOpacity","EffectCards","cardsEffect","tX","tY","tZ","tXAdd","isSwipeToNext","isSwipeToPrev","subProgress","prototypeGroup","protoMethod","factory","swiperModule","global","defaultSetTimout","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","addListener","removeListener","removeAllListeners","performanceNow","mozNow","msNow","oNow","webkitNow","argv","version","versions","binding","cwd","chdir","umask","hrtime","previousTimestamp","clocktime","seconds","nanoseconds","release","uptime","_Group","_tweens","_tweensAddedDuringUpdate","tweenId","tween","getId","preserve","tweenIds","TWEEN","_isPlaying","Group","_nextId","nextId","Tween","group","_object","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_reversed","_delayTime","_startTime","_easingFunction","Easing","Linear","None","_interpolationFunction","Interpolation","_chainedTweens","_onStartCallback","_onStartCallbackFired","_onUpdateCallback","_onRepeatCallback","_onCompleteCallback","_onStopCallback","_group","_id","isPlaying","stopChainedTweens","Infinity","numChainedTweens","times","repeatDelay","yoyo","easingFunction","interpolation","interpolationFunction","chain","onStart","onUpdate","onRepeat","onComplete","onStop","elapsed","tmp","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","Bounce","Utils","Bezier","pw","bn","Bernstein","CatmullRom","p0","fc","Factorial","p3","v0","v1","t2","TweenModule","_beforePressedStyle","pre","curr","innerText","_beforeDisabledStyle","_disabled","_pressedStyle","resolution","ctx","getContext","lineWidth","widthValue","lineCap","lineJoin","lineColor","colorHex","strokeStyle","drawLine","fromX","fromY","toX","toY","beginPath","moveTo","lineTo","stroke","strokeRect","w","h","strokeEllipse","trailX","trailY","centerX","centerY","radiusX","radiusY","ellipse","strokeCircle","radius","arc","closePath","startAngle","endAngle","clockwise","fillColor","fillStyle","fillRect","fillEllipse","fillCircle","font","textColor","textFillStyle","fillText","maxWidth","textBaseline","drawImage","img","onPageChange","onItemClick","onItemView","bscroll","showScrollBar","_showScrollBar","_bounces","refreshListView","registerBsScrollEvent","oldOffsetY","oldOffsetX","SCROLL","SCROLL_UP","scrollToTop","scrollToBottom","setOnScrollToTopListener","setOnScrollToBottomListener","updateContentSize","takePhoto","filePath","pickImage","recyclerView","rowCount","scrollDirection","refreshView","computeElement","refreshGridView","refreshWaterfallView","scrollToPosition","_listRows","_gridRows","_waterfalls","stopPullRefresh","isMoreData","loadMoreView","onRefresh","stopLoadMore","onLoadMore","onRegister","cell","lineSpacing","bscrollInit","col","itemSpacing","cols","getElementsByClassName","parentOffsetTop","parentElement","parentOffsetLeft","colsArr","posArr","pullflag","checked","switchBtn","borderColor","backgroundColor","circle","bindEvents","addChangeEvent","changeCbk","onColor","circleWidth","offColor","verticalAlign","lineHeight","richText","parseRichText","formattedText","alt","imageAlign","hrefColor","fontFamily","fontWeight","textDecoration","setInterval","intervalTimer","clearInterval","timeoutTimer","loopInterval","autoPlay","_data","Reflect","edgeSpacing","initSuccess","scaleFactor","transitionFlag","canLoop","alphaFactor","slideChange","slidePrevTransitionStart","slideNextTransitionStart","dataset","swiperSlideIndex","activeProgress","endProgress","sliderMove","onPageScroll","onPageScrollStateChange","setCurrentItem"],"mappings":"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"}